{"version":3,"mappings":"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","names":["push","heap","node","index","a","parentIndex","parent","compare","peek","pop","first","last","length","halfLength","leftIndex","left","rightIndex","right","b","diff","exports","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","needsPaint","localSetTimeout","localClearTimeout","localSetImmediate","advanceTimers","currentTime","timer","handleTimeout","isMessageLoopRunning","schedulePerformWorkUntilDeadline","firstTimer","requestHostTimeout","taskTimeoutID","frameInterval","startTime","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","callback","continuationCallback","channel","port","ms","task","fps","eventHandler","priorityLevel","options","timeout","parentPriorityLevel","schedulerModule","require$$0","Scheduler","React","require$$1","ReactDOM","require$$2","formatProdErrorMessage","code","url","i","isValidContainer","getNearestMountedFiber","fiber","nearestMounted","getSuspenseInstanceFromFiber","suspenseState","assertIsMounted","findCurrentFiberUsingSlowPath","alternate","parentA","parentB","didFindChild","child$0","findCurrentHostFiberImpl","tag","assign","REACT_LEGACY_ELEMENT_TYPE","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","innerType","isArrayImpl","ReactSharedInternals","ReactDOMSharedInternals","sharedNotPendingObject","valueStack","createCursor","defaultValue","cursor","value","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","getOwnHostContext","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","hasOwnProperty","scheduleCallback$3","cancelCallback$1","shouldYield","requestPaint","now","getCurrentPriorityLevel","ImmediatePriority","UserBlockingPriority","NormalPriority$1","LowPriority","IdlePriority","log$1","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","clz32","clz32Fallback","log","LN2","x","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","rootHasPendingCommit","pendingLanes","nextLanes","suspendedLanes","pingedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markRootFinished","finishedLanes","remainingLanes","spawnedLane","updatedLanes","suspendedRetryLanes","previouslyPendingLanes","entanglements","expirationTimes","hiddenUpdates","index$5","hiddenUpdatesForLane","update","markSpawnedDeferredLane","entangledLanes","spawnedLaneIndex","markRootEntangled","rootEntangledLanes","index$6","getBumpedLaneForHydrationByLane","lanesToEventPriority","resolveUpdatePriority","updatePriority","getEventPriority","runWithPriority","priority","fn","previousPriority","randomKey","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","parentNode","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","getResourcesFromRoot","resources","markNodeAsHoistable","allNativeEvents","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","VALID_ATTRIBUTE_NAME_REGEX","illegalAttributeNameCache","validatedAttributeNameCache","isAttributeNameSafe","attributeName","setValueForAttribute","name","prefix$8","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","prefix","suffix","describeBuiltInComponentFrame","match","reentry","describeNativeComponentFrame","construct","previousPrepareStackTrace","RunInRootFrame","Fake","control","x$9","x$10","sample","namePropDescriptor","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","controlLines","frame","describeFiber","getStackByFiberInDevAndProd","workInProgress","info","getToStringValue","isCheckable","elem","trackValueOnNode","valueField","descriptor","currentValue","get","set","track","updateValueIfChanged","tracker","lastValue","getActiveElement","doc","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","updateInput","element","lastDefaultValue","checked","defaultChecked","setDefaultValue","initInput","isHydrating","updateOptions","multiple","propValue","setDefaultSelected","updateTextarea","initTextarea","children","setTextContent","text","firstChild","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","tagName","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","restoreTarget","restoreQueue","restoreStateOfTarget","target","internalInstance","props","otherNode","otherProps","isInsideEventHandler","batchedUpdates$1","flushSyncWork$1","getListener","stateNode","canUseDOM","passiveBrowserEventsSupported","startText","fallbackText","getData","start","startValue","startLength","end","endValue","endLength","minEnd","getEventCharCode","keyCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","event","EventInterface","SyntheticEvent","UIEventInterface","SyntheticUIEvent","lastMovementX","lastMovementY","lastMouseEvent","MouseEventInterface","getEventModifierState","SyntheticMouseEvent","DragEventInterface","SyntheticDragEvent","FocusEventInterface","SyntheticFocusEvent","AnimationEventInterface","SyntheticAnimationEvent","ClipboardEventInterface","SyntheticClipboardEvent","CompositionEventInterface","SyntheticCompositionEvent","normalizeKey","translateToKey","modifierKeyToProp","modifierStateGetter","keyArg","KeyboardEventInterface","key","SyntheticKeyboardEvent","PointerEventInterface","SyntheticPointerEvent","TouchEventInterface","SyntheticTouchEvent","TransitionEventInterface","SyntheticTransitionEvent","WheelEventInterface","SyntheticWheelEvent","ToggleEventInterface","SyntheticToggleEvent","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","getNativeBeforeInputChars","getFallbackBeforeInputChars","supportedInputTypes","isTextInputElement","nodeName","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$282","isSupported$jscomp$inline_417","element$jscomp$inline_418","stopWatchingForValueChange","handlePropertyChange","handleEventsForInputEventPolyfill","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","is","y","objectIs","shallowEqual","objA","objB","keysA","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","containsNode","outerNode","innerNode","getActiveElementDeep","containerInfo","hasSelectionCapabilities","skipSelectionChangeEvent","activeElement","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","prefixedEventNames","getVendorPrefixedEventName","prefixMap","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","CapturedStacks","createCapturedValueAtFiber","source","existing","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","pending","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","FiberNode","pendingProps","mode","createFiberImplClass","shouldConstruct","Component","createWorkInProgress","current","resetWorkInProgress","createFiberFromTypeAndProps","owner","fiberTag","isHostHoistableType","createFiberFromFragment","elements","createFiberFromText","content","createFiberFromPortal","portal","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","error","queueHydrationError","prepareToHydrateHostInstance","instance","listenToNonDelegatedEvent","mediaEventTypes","checkForUnmatchedText","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldSetTextContent","getNextHydratable","isSingletonScope","previousHydratableOnEnteringScopedSingleton","resetHydrationState","upgradeHydrationErrorsToRecoverable","queuedErrors","workInProgressRootRecoverableErrors","valueCursor","currentlyRenderingFiber$1","lastContextDependency","pushProvider","providerFiber","nextValue","popProvider","scheduleContextWorkOnParentPath","propagationRoot","propagateContextChanges","contexts","forcePropagateEntireTree","list","nextFiber","dependency","propagateParentContextChanges","isInsidePropagationBailout","currentParent","checkIfContextChanged","currentDependencies","prepareToReadContext","readContext","readContextForConsumer","readContextDuringReconciliation","consumer","AbortControllerLocal","listeners","signal","listener","scheduleCallback$2","NormalPriority","CacheContext","createCache","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","entangleAsyncAction","transition","thenable","entangledListeners","requestTransitionLane","resolve","pingEngtangledActionScope","chainThenableValue","result","thenableWithOverride","prevOnStartTransitionFinish","returnValue","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","workInProgressRoot","pushTransition","offscreenWorkInProgress","prevCachePool","getSuspendedCache","cacheFromPool","SuspenseException","SuspenseyCommitException","SuspenseActionException","noopSuspenseyCommitThenable","isThenableResolved","noop$3","trackUsedThenable","thenableState","checkIfUseWrappedInAsyncCatch","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","rejectedReason","hasForceUpdate","initializeUpdateQueue","cloneUpdateQueue","createUpdate","enqueueUpdate","updateQueue","executionContext","entangleTransitions","queueLanes","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","suspendIfUpdateReadFromEntangledAsyncAction","entangledActionThenable","processUpdateQueue","workInProgress$jscomp$0","instance$jscomp$0","firstBaseUpdate","lastBaseUpdate","pendingQueue","lastPendingUpdate","firstPendingUpdate","newState","isHiddenUpdate","workInProgressRootRenderLanes","workInProgressRootSkippedLanes","callCallback","commitCallbacks","callbacks","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","reuseHiddenContextOnStack","popHiddenContext","currentlyRenderingFiber","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter$1","thenableState$1","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","numberOfReRenders","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","createFunctionComponentUpdateQueue","use","usable","useMemoCache","size","memoCache","array","basicStateReducer","state","action","updateReducer","reducer","updateReducerImpl","baseQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$32","revertLane","rerenderReducer","dispatch","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","create","subscribeToStore","updateEffectImpl","pushSimpleEffect","createEffectInstance","updateStoreInstance","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$38","nextState","onActionSuccess","notifyActionListeners","actionStateReducer","oldState","mountActionState","initialStateProp","ssrFormState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","stateHook","updateActionStateImpl","currentStateHook","actionStateActionEffect","rerenderActionState","createDeps","updateRef","mountEffectImpl","fiberFlags","hookFlags","deps","mountEffect","updateEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","ref","refCleanup","updateImperativeHandle","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","thenableForFinishedState","dispatchSetStateInternal","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","resetStateQueue","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$41","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","eagerState","throwIfDuringRender","initialArg","init","identifierPrefix","idWithLeadingBit","booleanOrThenable","thenableIndexCounter","unwrapThenable","coerceRef","throwOnInvalidObjectType","returnFiber","newChild","resolveLazy","lazyType","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","textContent","updateElement","elementType","updateFragment","updatePortal","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildrenArray","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","child","reconcileChildrenIterator","step","reconcileChildFibersImpl","firstChildFiber","reconcileChildFibers","mountChildFibers","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","isSuspenseInstanceFallback","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","checkShouldComponentUpdate","oldProps","newProps","nextContext","callComponentWillReceiveProps","resolveClassComponentProps","baseProps","propName$73","reportGlobalError","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","e$74","logCaughtError","boundary","onCaughtError","e$75","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","legacyErrorBoundariesThatAlreadyFailed","stack","throwException","rootRenderLanes","renderDidSuspendDelayIfPossible","workInProgressRootExitStatus","attachPingListener","wrapperError","workInProgressRootConcurrentErrors","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","bailoutOnAlreadyFinishedWork","updateMemoComponent","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","deferHiddenOffscreenComponent","nextBaseLanes","markRef","replayFunctionComponent","updateClassComponent","contextType","unresolvedOldProps","oldContext","contextType$jscomp$0","mountHostRootWithoutHydrating","SUSPENDED_MARKER","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","nextInstance","JSCompiler_temp$jscomp$0","c","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","digest","primaryChildren","offscreenProps","scheduleSuspenseWorkOnFiber","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","updateSuspenseListComponent","revealOrder","attemptEarlyBailoutIfNoScheduledUpdate","didSuspendBefore","beginWork","lazyComponent","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","canHydrateInstance","canHydrateTextInstance","markUpdate","preloadResourceAndSuspendIfNeeded","resource","preloadResource","scheduleRetryEffect","retryQueue","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$113","bubbleProperties","completedWork","didBailout","newChildLanes","subtreeFlags","child$114","completeWork","cache$127","listenToAllSupportedEvents","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","commitHookEffectListMount","flags","finishedWork","lastEffect","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","destroy","nearestMountedAncestor","destroy_","commitClassCallbacks","safelyCallComponentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$143","commitHostMount","commitHostUpdate","domElement","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertOrAppendPlacementNode","commitHostSingletonAcquisition","singleton","attributes","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","nextEffect","commitBeforeMutationEffects","eventsEnabled","_enabled","selection","anchorOffset","focusNode","indexWithinAnchor","indexWithinFocus","next","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","error$142","commitSuspenseHydrationCallbacks","retryDehydratedSuspenseBoundary","registerSuspenseInstanceRetry","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","prevHostParent","prevHostParentIsContainer","releaseSingletonInstance","clearSuspenseBoundary","retryIfBlockedOn","getRetryCache","retryCache","attachSuspenseRetryListeners","wakeables","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","maybeNodes","getHydratableHoistableCache","mountHoistable","acquireResource","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","wasHidden","prevOffscreenSubtreeIsHidden","recursivelyTraverseDisappearLayoutEffects","display","hostParentFiber","parent$144","before$145","parent$146","before$147","finishedRoot$jscomp$0","includeWorkInProgressEffects","hiddenCallbacks","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","id","onPostCommit","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","sibling","DefaultAsyncDispatcher","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootDidIncludeRecursiveRenderUpdate","workInProgressTransitions","pendingEffectsStatus","pendingEffectsRoot","pendingFinishedWork","pendingEffectsLanes","pendingEffectsRemainingLanes","pendingPassiveTransitions","pendingRecoverableErrors","actionScopeLane","suspenseHandler","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","exitStatus","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","wasRootDehydrated","scheduleTimeout","commitRootWhenReady","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","suspendedState","noop","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","index$4","flushSyncWorkAcrossRoots_impl","resetWorkInProgressStack","timeoutHandle","cancelTimeout","allEntangledLanes","index$2","handleThrow","thrownValue","pushDispatcher","prevDispatcher","pushAsyncDispatcher","prevAsyncDispatcher","shouldYieldForPrerendering","prevExecutionContext","unitOfWork","reason","throwAndUnwindWorkLoop","workLoopSync","thrownValue$167","performUnitOfWork","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","workLoopConcurrentByScheduler","thrownValue$169","suspendedReason","unwindUnitOfWork","skipSiblings","flushPendingEffects","scheduleCallback$1","flushPassiveEffects","flushMutationEffects","flushLayoutEffects","flushSpawnedWork","rootMutationHasEffect","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","win","start$jscomp$0","end$jscomp$0","startMarker","endMarker","range","rootHasLayoutEffect","releaseRootPooledCache","onRecoverableError","recoverableError","wasDelayedCommit","renderPriority","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","retryLane","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","scheduleImmediateRootScheduleTask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$174","performSyncWorkOnRoot","processRootScheduleInImmediateTask","processRootScheduleInMicrotask","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$3","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","scheduleMicrotask","coerceFormActionProp","actionProp","createFormDataWithSubmitter","form","submitter","temp","extractEvents$1","maybeTargetInst","i$jscomp$inline_1528","eventName$jscomp$inline_1529","domEventName$jscomp$inline_1530","capitalizedEvent$jscomp$inline_1531","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","currentTarget","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","ownerDocument","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","dispatchEvent","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","targetFiber","captureName","_instance2","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","setProp","setPropOnCustomElement","hasSrc","hasSrcSet","propKey","propValue$188","lastProps","lastProp","propKey$205","propKey$221","propKey$226","propKey$231","propKey$236","namespaceURI","parentNamespace","currentPopstateTransitionEvent","localPromise","handleErrorInNextTick","parentInstance","suspenseInstance","possiblePreambleContribution","depth","nextNode","nextNode$jscomp$0","anyProps","nodeType","targetInstance","data","rootContainerInstance","preloadPropsMap","preconnectsSet","previousDispatcher","flushSyncWork","requestFormReset","prefetchDNS","preconnect","preload","preloadModule","preinitScript","preinitStyle","preinitModuleScript","previousWasRendering","wasRendering","formInst","globalDocument","preconnectAs","rel","href","crossOrigin","limitedEscapedHref","as","preloadSelector","getStyleKey","getScriptKey","getStylesheetSelectorFromKey","getScriptSelectorFromKey","precedence","adoptPreloadPropsForStylesheet","link","reject","insertStylesheet","src","scripts","adoptPreloadPropsForScript","currentProps","styles$244","resource$245","preloadStylesheet","stylesheetPropsFromRawProps","rawProps","preloadProps","styleProps","instance$250","linkInstance","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","hostContext","onUnsuspend","insertSuspendedStylesheets","commit","stylesheetTimer","unsuspend","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","formState","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedFocus","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queuedExplicitHydrationTargets","accumulateOrCreateContinuousQueuedReplayableEvent","existingQueuedEvent","pointerId","attemptExplicitHydrationTarget","queuedTarget","attemptReplayContinuousQueuedEvent","queuedEvent","targetContainers","nextBlockedOn","nativeEventClone","attemptReplayContinuousQueuedEventInMap","map","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","formProps","ReactDOMRoot","internalRoot","ReactDOMHydrationRoot","isomorphicReactPackageVersion$jscomp$inline_1785","componentOrElement","internals$jscomp$inline_2256","hook$jscomp$inline_2257","reactDomClient_production","checkDCE","err","clientModule","__insertCSS","head","getAsset","SuccessIcon","InfoIcon","WarningIcon","ErrorIcon","bars","Loader","visible","className","_","CloseIcon","useIsDocumentHidden","isDocumentHidden","setIsDocumentHidden","toastsCounter","Observer","subscriber","_data_id","message","rest","alreadyExists","toast","dismissible","promise","p","shouldDismiss","originalPromise","response","isHttpResponse","promiseData","description","toastSettings","unwrap","jsx","ToastState","toastFunction","basicToast","getHistory","getToasts","isAction","VISIBLE_TOASTS_AMOUNT","VIEWPORT_OFFSET","MOBILE_VIEWPORT_OFFSET","TOAST_LIFETIME","TOAST_WIDTH","GAP","SWIPE_THRESHOLD","TIME_BEFORE_UNMOUNT","cn","classes","getDefaultSwipeDirections","position","directions","Toast","_toast_classNames","_toast_classNames1","_toast_classNames2","_toast_classNames3","_toast_classNames4","_toast_classNames5","_toast_classNames6","_toast_classNames7","_toast_classNames8","ToasterInvert","unstyled","interacting","setHeights","visibleToasts","heights","toasts","expanded","removeToast","defaultRichColors","closeButtonFromToaster","cancelButtonStyle","actionButtonStyle","descriptionClassName","durationFromToaster","gap","expandByDefault","classNames","icons","closeButtonAriaLabel","swipeDirection","setSwipeDirection","swipeOutDirection","setSwipeOutDirection","mounted","setMounted","removed","setRemoved","swiping","setSwiping","swipeOut","setSwipeOut","isSwiped","setIsSwiped","offsetBeforeRemove","setOffsetBeforeRemove","initialHeight","setInitialHeight","remainingTime","dragStartTime","toastRef","isFront","isVisible","toastType","toastClassname","toastDescriptionClassname","heightIndex","height","closeButton","_toast_closeButton","duration","closeTimerStartTimeRef","lastCloseTimerStartTimeRef","pointerStartRef","toastsHeightBefore","curr","reducerIndex","invert","disabled","toastNode","h","originalHeight","newHeight","deleteToast","timeoutId","elapsedTime","getLoadingIcon","icon","_toast_richColors","_icons_close","_toastRef_current","_toastRef_current1","_dragStartTime_current","swipeAmountX","swipeAmountY","timeTaken","swipeAmount","velocity","_toastRef_current2","_toastRef_current3","_window_getSelection","yDelta","xDelta","_props_swipeDirections","swipeDirections","getDampening","delta","dampenedDelta","getDocumentDirection","dirAttribute","assignOffset","defaultOffset","mobileOffset","isMobile","assignAll","Toaster","hotkey","expand","theme","richColors","toastOptions","dir","containerAriaLabel","setToasts","filteredToasts","possiblePositions","setExpanded","setInteracting","actualTheme","setActualTheme","listRef","hotkeyLabel","lastFocusedElementRef","isFocusWithinRef","toastToRemove","_toasts_find","t","indexOfExistingToast","darkMediaQuery","matches","e","handleKeyDown","_listRef_current","_listRef_current1","_heights_","_toastOptions_duration","_toastOptions_closeButton","ReactQueryDevtools2","queryClient","QueryClient","failureCount","VISUALLY_HIDDEN_STYLES","NAME","VisuallyHidden","React.forwardRef","forwardedRef","Primitive","PROVIDER_NAME","Collection","useCollection","createCollectionScope","createCollection","createToastContext","createContextScope","ToastProviderProvider","useToastProviderContext","ToastProvider","__scopeToast","label","swipeThreshold","viewport","setViewport","React.useState","toastCount","setToastCount","isFocusedToastEscapeKeyDownRef","React.useRef","isClosePausedRef","React.useCallback","prevCount","VIEWPORT_NAME","VIEWPORT_DEFAULT_HOTKEY","VIEWPORT_PAUSE","VIEWPORT_RESUME","ToastViewport","viewportProps","getItems","wrapperRef","headFocusProxyRef","tailFocusProxyRef","composedRefs","useComposedRefs","hasToasts","React.useEffect","wrapper","handlePause","pauseEvent","handleResume","resumeEvent","handleFocusOutResume","handlePointerLeaveResume","getSortedTabbableCandidates","tabbingDirection","tabbableCandidates","toastItem","toastTabbableCandidates","getTabbableCandidates","isMetaKey","focusedElement","isTabbingBackwards","sortedCandidates","candidate","focusFirst","jsxs","DismissableLayer.Branch","FocusProxy","FOCUS_PROXY_NAME","onFocusFromOutsideViewport","proxyProps","prevFocusedElement","TOAST_NAME","TOAST_SWIPE_START","TOAST_SWIPE_MOVE","TOAST_SWIPE_CANCEL","TOAST_SWIPE_END","forceMount","openProp","defaultOpen","onOpenChange","toastProps","open","setOpen","useControllableState","Presence","ToastImpl","useCallbackRef","composeEventHandlers","ToastInteractiveProvider","useToastInteractiveContext","durationProp","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd","setNode","node2","swipeDeltaRef","closeTimerRemainingTimeRef","closeTimerRef","onToastAdd","onToastRemove","handleClose","startTimer","duration2","announceTextContent","React.useMemo","getAnnounceTextContent","Fragment","ToastAnnounce","ReactDOM.createPortal","DismissableLayer.Root","hasSwipeMoveStarted","isHorizontalSwipe","clamp","clampedX","clampedY","moveStartBuffer","eventDetail","handleAndDispatchCustomEvent","isDeltaInDirection","event2","announceProps","renderAnnounceText","setRenderAnnounceText","isAnnounced","setIsAnnounced","useNextFrame","Portal","TITLE_NAME","ToastTitle","titleProps","DESCRIPTION_NAME","ToastDescription","descriptionProps","ACTION_NAME","ToastAction","altText","actionProps","ToastAnnounceExclude","ToastClose","CLOSE_NAME","closeProps","interactiveContext","announceExcludeProps","isHTMLElement","isExcluded","detail","discrete","dispatchDiscreteCustomEvent","direction","threshold","deltaX","deltaY","isDeltaX","useLayoutEffect","raf1","raf2","walker","isHiddenInput","candidates","previouslyFocusedElement","Provider","Viewport","Root2","Title","Description","Action","Close","falsyToString","cx","clsx","cva","base","config","_config_compoundVariants","variants","defaultVariants","getVariantClassNames","variant","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","acc","param","getCompoundVariantClassNames","cvClass","cvClassName","compoundVariantOptions","inputs","twMerge","ToastPrimitives.Provider","ToastPrimitives.Viewport","toastVariants","ToastPrimitives.Root","ToastPrimitives.Action","ToastPrimitives.Close","X","ToastPrimitives.Title","ToastPrimitives.Description","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","memoryState","dismiss","useToast","title","stelliveTokens","tokens","availableThemes","withThemeFallback","MOTION_DURATION_SUFFIXES","formatValue","keyPath","segment","appendVariables","nested","createCSSVariables","reducedMotion","resolvedTheme","themeTokens","cssVarMap","path","themes","typography","spacing","radii","shadows","blurs","opacity","motion","zIndex","breakpoints","gradients","elevation","componentDefaults","semanticAliases","alias","jsxProd","maybeKey","reactJsxRuntime_production","jsxRuntimeModule","ReactNoopUpdateQueue","emptyObject","updater","partialState","ComponentDummy","PureComponent","pureComponentPrototype","ReactElement","refProp","cloneAndReplaceKey","oldElement","newKey","isValidElement","object","escape","escaperLookup","userProvidedKeyEscapeRegex","getElementKey","resolveThenable","mapIntoArray","escapedPrefix","nameSoFar","invokeCallback","nextNamePrefix","mapChildren","func","lazyInitializer","moduleObject","Children","forEachFunc","forEachContext","n","react_production","childArray","childrenLength","render","scope","permalink","Context","reactModule","useIsomorphicLayoutEffect","useEffect","toInlineStyle","variables","applyToElement","previousValues","StelliveThemeProvider","attachToDocument","useMemo","cleanupVars","previousThemeAttr","_jsx","_Fragment","inlineStyle","ThemeProviderContext","createContext","ThemeProvider","defaultTheme","storageKey","setTheme","useState","setResolvedTheme","prefersMotionReduced","setPrefersMotionReduced","mediaQuery","applyTheme","nextTheme","systemTheme","handleChange","buttonVariants","Button","asChild","Comp","Slot","useTheme","useContext","ThemeToggle","toggleTheme","Sun","Moon","createStoreImpl","createState","partial","replace","previousState","getState","api","createStore","identity","arg","useStore","selector","slice","createImpl","useBoundStore","trackedConnections","getTrackedConnectionState","api2","extractConnectionInformation","store","extensionConnector","existingConnection","newConnection","removeStoreFromTrackedConnections","connectionInfo","findCallerName","_a","_b","traceLines","apiSetStateLineIndex","traceLine","callerLine","devtoolsImpl","devtoolsOptions","enabled","anonymousActionType","__vite_import_meta_env__","connection","connectionInformation","isRecording","nameOrAction","r","setStateFromDevtools","originalIsRecording","store2","didWarnAboutReservedActionType","originalDispatch","args","parseJsonThen","stateFromDevtools","nextLiftedState","lastComputedState","devtools","stringified","parsed","createJSONStorage","getStorage","storage","parse","str2","str","newValue","toThenable","input","onFulfilled","_onRejected","_onFulfilled","onRejected","persistImpl","baseOptions","persistedState","hasHydrated","hydrationListeners","finishHydrationListeners","setItem","savedSetState","configResult","stateFromStorage","cb","_a2","postRehydrationCallback","deserializedStorageValue","migration","migrationResult","migrated","migratedState","newOptions","persist","augmentWebsocket","webSocket","debug","noOp","ts","origOnClose","closeEvent","delay","BYTE","FrameImpl","params","command","headers","body","binaryBody","escapeHeaderValues","skipContentLengthHeader","rawFrame","trim","header","cmdAndHeaders","lines","s","uint8CmdAndHeaders","nullTerminator","uint8Frame","NULL","LF","CR","COLON","Parser","onFrame","onIncomingPing","appendMissingNULLonIncoming","chunk","chunkWithNull","byte","contentLengthHeader","rawResult","StompSocketState","ActivationState","ReconnectionTimeMode","TickerStrategy","Ticker","_interval","_strategy","_debug","tick","Versions","versions","StompHandler","_client","_webSocket","subscription","onReceive","client","messageId","parser","evt","rawChunkAsString","errorEvent","connectHeaders","serverOutgoing","serverIncoming","v","ttl","msg","rawChunk","out","disconnectHeaders","destination","hdrs","receiptId","transactionId","txId","subscriptionId","Client","conf","_activate","force","needToDispose","retPromise","origOnWebSocketClose","browserCrypto","bytes","crypto","_randomStringChars","random","max","ret","onUnload","afterUnload","isChromePackagedApp","module","unloadTriggered","requiresPort","protocol","has","undef","decode","encode","querystring","query","part","querystringify","obj","pairs","querystringify_1","required","qs","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","rules","address","isSpecial","ignore","lolcation","loc","globalVar","location","finaldestination","Url","scheme","extractProtocol","forwardSlashes","otherSlashes","slashesCount","relative","unshift","up","extracted","instruction","instructions","char","ins","toString","stringify","host","urlParse","URL","res","q","addr","inherits_browserModule","superCtor","TempCtor","EventTarget","arr","idx","eventtarget","inherits","EventEmitter","self","fired","g","l","ai","emitter","Driver","websocketModule","utils","urlUtils","require$$3","WebsocketDriver","require$$4","WebSocketTransport","transUrl","ws","websocket","BufferedSender","sender","tref","bufferedSender","Polling","Receiver","receiveUrl","AjaxObject","poll","polling","SenderReceiver","urlSuffix","senderFunc","pollUrl","senderReceiver","createAjaxSender","opt","ajaxUrl","xo","status","AjaxBasedTransport","ajaxBased","XhrReceiver","buf","xhr","XHR","AbstractXHRObject","method","opts","abort","axo","cors","abstractXhr","XhrDriver","XHRCorsObject","xhrCors","XHRLocalObject","xhrLocal","browser","require$$5","XhrStreamingTransport","xhrStreaming","eventUtils","XDRObject","xdr","XdrStreamingTransport","xdrStreaming","eventsource","EventSourceDriver","EventSourceReceiver","es","EventSourceTransport","version","iframeUrl","errorCallback","iframe","unloadRef","unattach","cleanup","onerror","post","origin","iframeUtils","require$$6","IframeTransport","transport","baseUrl","iframeMessage","cdata","prop","objectUtils","iframeWrap","IframeWrapTransport","iframeInfo","HtmlfileReceiver","constructFunc","htmlfile","HtmlFileTransport","XhrPollingTransport","xhrPolling","XdrPollingTransport","xdrPolling","JsonpReceiver","urlWithId","script","script2","jsonp","area","createIframe","createForm","completed","jsonpSender","JsonPTransport","jsonpPolling","transportList","require$$7","require$$8","ArrayPrototype","ObjectPrototype","FunctionPrototype","StringPrototype","array_slice","_toString","isFunction","val","isArray","isString","supportsDescriptors","defineProperty","forceAssign","defineProperties","toObject","o","toInteger","num","ToUint32","Empty","that","binder","bound","boundLength","boundArgs","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","__","fun","thisp","hasFirefox2IndexOfBug","sought","string_split","compliantExecNpcg","separator","limit","string","output","lastLastIndex","separator2","lastIndex","lastLength","string_substr","hasNegativeSubstrBug","extraEscapable","extraLookup","unrollLookup","escapable","unrolled","_escape","quoted","availableTransports","transportsWhitelist","transports","trans","logObject","level","levelExists","Event","canBubble","cancelable","CloseEvent","close","TransportMessageEvent","transMessage","XHRFake","xhrFake","InfoAjax","t0","rtt","infoAjax","InfoReceiverIframe","infoIframeReceiver","InfoIframe","go","ifr","d","infoIframe","XDR","XHRCors","XHRLocal","InfoReceiver","urlInfo","wasClean","infoReceiver","FacadeJS","facade","InfoIframeReceiver","iframeBootstrap","SockJS","transportMap","at","parentOrigin","onMessage","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","protocols","sessionId","parsedUrl","secure","sortedProtocols","proto","userSetCode","require$$17","enabledTransports","Transport","timeoutMs","transportUrl","transportObj","forceFail","main","require$$18","entry","APP_PREFIX","STORAGE_KEYS","isBrowser","removeLocalStorageKey","removePrefixedLocalStorage","keys","itemKey","removePrefixedSessionStorage","clearClientSessionState","disconnectWebsocket","broadcastEvent","websocketService","__vitePreload","websocketService$1","resetRealtimeSessionTracking","WebSocketService","__publicField","checkConnection","onConnect","connected","gameId","userId","effectiveUserId","gameStateSub","gameEventSub","playerStatusSub","gameStatusSub","chatSub","legacyChatSub","notificationSub","normalizedType","guess","hint","targetUserId","defenseText","voteForExecution","chatTopic","legacyChatTopic","notificationKey","existingNotificationSub","meta","toRetry","existingConnectionSub","connectionSub","existingHeartbeatSub","heartbeatSub","stored","normalizeCandidate","raw","trimmed","working","_match","basePath","normalizedPath","envCandidates","apiCandidate","hostname","derivedPort","derivedCandidate","normalizedDerived","defaultCandidates","originFallback","socketUrl","socketOptions","createSocket","oldSessionId","stompConfig","StompClient","baseDelay","jitter","rawGameNumber","parsedNumber","normalizedGameNumber","normalized","nickname","parsedUserId","pendingGameId","pendingUserId","extractGameId","resolveGameId","record","fromExplicitGameId","fromAlternateGameNumber","extractTimestamp","timestamp","rawType","coercePayload","canonicalType","resolvedNickname","resolvedUserId","chatMessage","notification","gameEvent","globalRef","DEFAULT_API_BASE_URL","DEFAULT_WS_PATH","normalizeBaseUrl","fallback","resolveWebSocketUrl","explicitUrl","baseHttpUrl","baseURL","wsURL","API_CONFIG","puzzleId","ApiClient","endpoint","retryOnAuthFailure","errorData","contentType","jsonError","textError","errorMessage","responseData","apiClient","ApiService","apiService","API_ENDPOINTS","AuthService","credentials","backendCredentials","authService","_GameService","item","subject","playerRecord","defense","votesReceived","lastActiveAt","isOnline","player","room","rawNumber","gameNumber","fallbackTitle","currentPlayers","maxPlayers","hasPassword","subjects","players","modeValue","normalizedMode","candidateKeys","dataValue","page","roomRecords","pagination","gameData","joinData","durationSeconds","ready","voteData","loginData","answer","GameService","gameService","_WordService","words","subjectId","filteredWords","word","wordData","backendRequest","WordService","wordService","_SubjectService","subjectData","SubjectService","subjectService","subjectApi","ApiResponseHandler","gameError","responsePromise","errorCode","validator","transformer","transformedData","responses","errors","apiCall","timeoutPromise","maxRetries","delayMs","lastError","attempt","apiResponse","AdminApiService","requestId","adminApi","GAME_BASE","CHAT_BASE","mapChatType","GameFlowService","mappedType","gameNumberParsed","playerNickname","playerUserId","gameFlowService","storeInstance","leaveActiveGameIfNeeded","useGameStore","unifiedGameStore","leaveGame","resetGame","handleSessionExpired","useAuthStore","performLogout","skipApi","Header","useLocation","navigate","useNavigate","logout","handleLogout","Link","Home","User","LogOut","Footer","Layout","headerWrapperRef","useRef","footerWrapperRef","contentWrapperRef","metrics","setMetrics","animationFrame","readMetrics","headerHeight","footerHeight","contentPadding","paddingTop","paddingBottom","scheduleRead","observers","observer","layoutStyle","QueryClientProvider","Outlet","ReactQueryDevtools","AuthLayout","ProtectedRoute","isAuthenticated","checkAuth","isChecking","setIsChecking","Navigate","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","Input","Label","Root","labelVariants","LabelPrimitive.Root","isCompleteKorean","isIncompleteKorean","isEnglish","normalizeNickname","validateNickname","trimmedNickname","MainLoginPage","login","setNickname","loading","setLoading","nicknameError","setNicknameError","from","handleNicknameChange","validation","handleSubmit","ArrowRight","TABS_NAME","createTabsContext","createRovingFocusGroupScope","useRovingFocusGroupScope","TabsProvider","useTabsContext","Tabs","__scopeTabs","valueProp","onValueChange","orientation","activationMode","tabsProps","useDirection","setValue","useId","TAB_LIST_NAME","TabsList","loop","listProps","rovingFocusGroupScope","RovingFocusGroup.Root","TRIGGER_NAME","TabsTrigger","triggerProps","triggerId","makeTriggerId","contentId","makeContentId","isSelected","RovingFocusGroup.Item","isAutomaticActivation","CONTENT_NAME","TabsContent","contentProps","isMountAnimationPreventedRef","rAF","present","baseId","List","Trigger","Content","TabsPrimitive.Root","TabsPrimitive.List","TabsPrimitive.Trigger","TabsPrimitive.Content","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","ChevronRight","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","Textarea","Dialog","DialogPrimitive.Root","DialogTrigger","DialogPrimitive.Trigger","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","DialogHeader","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","TopicManagementSection","topics","setTopics","isCreateDialogOpen","setIsCreateDialogOpen","newTopic","setNewTopic","titleInputRef","loadTopics","useCallback","handleCreateTopic","createdTopic","handleDeleteTopic","topicId","topic","handleKeyPress","handleDialogOpen","BookOpen","Plus","Edit","Trash2","min","usePrevious","OPEN_KEYS","SELECTION_KEYS","SELECT_NAME","createSelectContext","createPopperScope","usePopperScope","SelectProvider","useSelectContext","SelectNativeOptionsProvider","useSelectNativeOptionsContext","Select","__scopeSelect","autoComplete","popperScope","trigger","setTrigger","valueNode","setValueNode","valueNodeHasChildren","setValueNodeHasChildren","triggerPointerDownPosRef","isFormControl","nativeOptionsSet","setNativeOptionsSet","nativeSelectKey","option","PopperPrimitive.Root","optionsSet","SelectBubbleInput","SelectTrigger","isDisabled","pointerTypeRef","searchRef","handleTypeaheadSearch","resetTypeahead","useTypeaheadSearch","search","enabledItems","currentItem","nextItem","findNextItem","handleOpen","pointerEvent","PopperPrimitive.Anchor","shouldShowPlaceholder","isTypingAhead","VALUE_NAME","SelectValue","placeholder","valueProps","onValueNodeHasChildrenChange","hasChildren","ICON_NAME","SelectIcon","iconProps","PORTAL_NAME","SelectPortal","PortalPrimitive","SelectContent","setFragment","frag","SelectContentProvider","SelectContentImpl","CONTENT_MARGIN","useSelectContentContext","CONTENT_IMPL_NAME","createSlot","onCloseAutoFocus","onPointerDownOutside","side","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","setContent","selectedItem","setSelectedItem","selectedItemText","setSelectedItemText","isPositioned","setIsPositioned","firstValidItemFoundRef","hideOthers","useFocusGuards","firstItem","restItems","lastItem","PREVIOUSLY_FOCUSED_ELEMENT","focusSelectedItem","pointerMoveDelta","handlePointerMove","handlePointerUp","itemRefCallback","isFirstValidItem","handleItemLeave","itemTextRefCallback","SelectPosition","SelectPopperPosition","SelectItemAlignedPosition","popperContentProps","RemoveScroll","FocusScope","DismissableLayer","isModifierKey","candidateNodes","currentElement","currentIndex","ITEM_ALIGNED_POSITION_NAME","onPlaced","popperProps","contentContext","contentWrapper","setContentWrapper","shouldExpandOnScrollRef","shouldRepositionRef","triggerRect","contentRect","valueNodeRect","itemTextRect","itemTextOffset","leftDelta","minContentWidth","contentWidth","rightEdge","clampedLeft","rightDelta","leftEdge","clampedRight","items","availableHeight","itemsHeight","contentStyles","contentBorderTopWidth","contentPaddingTop","contentBorderBottomWidth","contentPaddingBottom","fullContentHeight","minContentHeight","viewportStyles","viewportPaddingTop","viewportPaddingBottom","topEdgeToTriggerMiddle","triggerMiddleToBottomEdge","selectedItemHalfHeight","itemOffsetMiddle","contentTopToItemMiddle","itemMiddleToContentBottom","isLastItem","viewportOffsetBottom","clampedTriggerMiddleToBottomEdge","isFirstItem","contentZIndex","setContentZIndex","handleScrollButtonChange","SelectViewportProvider","POPPER_POSITION_NAME","PopperPrimitive.Content","useSelectViewportContext","SelectViewport","nonce","viewportContext","prevScrollTopRef","scrolledBy","cssMinHeight","cssHeight","prevHeight","nextHeight","clampedNextHeight","heightDiff","GROUP_NAME","SelectGroupContextProvider","useSelectGroupContext","SelectGroup","groupProps","groupId","LABEL_NAME","SelectLabel","labelProps","groupContext","ITEM_NAME","SelectItemContextProvider","useSelectItemContext","SelectItem","textValueProp","itemProps","textValue","setTextValue","isFocused","setIsFocused","textId","handleSelect","prevTextValue","ITEM_TEXT_NAME","SelectItemText","itemTextProps","itemContext","nativeOptionsContext","itemTextNode","setItemTextNode","nativeOption","onNativeOptionAdd","onNativeOptionRemove","ITEM_INDICATOR_NAME","SelectItemIndicator","itemIndicatorProps","SCROLL_UP_BUTTON_NAME","SelectScrollUpButton","canScrollUp","setCanScrollUp","handleScroll2","canScrollUp2","SelectScrollButtonImpl","SCROLL_DOWN_BUTTON_NAME","SelectScrollDownButton","canScrollDown","setCanScrollDown","maxScroll","canScrollDown2","onAutoScroll","scrollIndicatorProps","autoScrollTimerRef","clearAutoScrollTimer","SEPARATOR_NAME","SelectSeparator","separatorProps","ARROW_NAME","SelectArrow","arrowProps","PopperPrimitive.Arrow","BUBBLE_INPUT_NAME","select","selectProto","onSearchChange","handleSearchChange","timerRef","updateSearch","normalizedSearch","currentItemIndex","wrappedItems","wrapArray","startIndex","Value","Icon","Content2","Item","ItemText","ItemIndicator","ScrollUpButton","ScrollDownButton","Separator","SelectPrimitive.Root","SelectPrimitive.Value","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDown","SelectPrimitive.ScrollUpButton","ChevronUp","SelectPrimitive.ScrollDownButton","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectPrimitive.Label","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","SelectPrimitive.ItemText","SelectPrimitive.Separator","AnswerManagementSection","answers","setAnswers","selectedTopicId","setSelectedTopicId","newAnswer","setNewAnswer","answerInputRef","loadData","subjectsResponse","wordsResponse","answersWithTopics","handleCreateAnswer","selectedTopic","submittedAnswer","getAnswerCountByTopic","FileText","badgeVariants","Badge","useStateMachine","machine","React.useReducer","SCROLL_AREA_NAME","createScrollAreaContext","ScrollAreaProvider","useScrollAreaContext","ScrollArea","React2.forwardRef","__scopeScrollArea","scrollHideDelay","scrollAreaProps","scrollArea","setScrollArea","React2.useState","scrollbarX","setScrollbarX","scrollbarY","setScrollbarY","cornerWidth","setCornerWidth","cornerHeight","setCornerHeight","scrollbarXEnabled","setScrollbarXEnabled","scrollbarYEnabled","setScrollbarYEnabled","ScrollAreaViewport","React2.useRef","SCROLLBAR_NAME","ScrollAreaScrollbar","scrollbarProps","onScrollbarXEnabledChange","onScrollbarYEnabledChange","isHorizontal","React2.useEffect","ScrollAreaScrollbarHover","ScrollAreaScrollbarScroll","ScrollAreaScrollbarAuto","ScrollAreaScrollbarVisible","setVisible","hideTimer","handlePointerEnter","handlePointerLeave","debounceScrollEnd","useDebounceCallback","send","scrollDirection","prevScrollPos","handleScroll","scrollPos","handleResize","isOverflowX","isOverflowY","useResizeObserver","thumbRef","pointerOffsetRef","sizes","setSizes","thumbRatio","getThumbRatio","commonProps","thumb","pointerPos","getScrollPosition","getScrollPositionFromPointer","ScrollAreaScrollbarX","getThumbOffsetFromScroll","ScrollAreaScrollbarY","onSizesChange","computedStyle","setComputedStyle","composeRefs","ScrollAreaScrollbarImpl","getThumbSize","maxScrollPos","isScrollingWithinScrollbarBounds","toInt","ScrollbarProvider","useScrollbarContext","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize","scrollbar","setScrollbar","rectRef","prevWebkitUserSelectRef","handleWheelScroll","handleThumbPositionChange","handleDragScroll","handleWheel","THUMB_NAME","ScrollAreaThumb","thumbProps","scrollbarContext","ScrollAreaThumbImpl","scrollAreaContext","composedRef","removeUnlinkedScrollListenerRef","addUnlinkedScrollListener","thumbRect","CORNER_NAME","ScrollAreaCorner","hasBothScrollbarsVisible","ScrollAreaCornerImpl","cornerProps","width","setWidth","setHeight","hasSize","height2","width2","viewportSize","contentSize","ratio","scrollbarPadding","thumbSize","pointerOffset","thumbSizePx","thumbCenter","thumbOffsetFromEnd","minPointerPos","maxPointerPos","scrollRange","linearScale","maxThumbPos","scrollClampRange","scrollWithoutMomentum","prevPosition","isHorizontalScroll","isVerticalScroll","handleCallback","debounceTimerRef","React2.useCallback","resizeObserver","Corner","ScrollAreaPrimitive.Root","ScrollAreaPrimitive.Viewport","ScrollBar","ScrollAreaPrimitive.Corner","ScrollAreaPrimitive.ScrollAreaScrollbar","ScrollAreaPrimitive.ScrollAreaThumb","ModalContext","ModalProvider","activeModals","setActiveModals","registerModal","modalId","newSet","unregisterModal","isAnyModalOpen","useModal","useModalRegistration","isOpen","CHAT_TYPES","normalizeChatType","toFiniteNumber","toOptionalString","resolvePlayerByIdentifiers","identifiers","identifier","normalizeChatMessage","rawMessage","defaultGameNumber","rawPlayerId","rawNickname","fallbackIdPart","resolvedPlayer","playerId","mergeChatMessages","mapGamePhase","phase","defaultPhase","stageOrder","mapPhaseToStage","getAuthIdentifiers","normalizeIdentifier","pickFirstIdentifier","values","findSelfPlayer","auth","isIdentifierSelf","selfPlayer","sessionCode","currentPlayer","existingIndex","updates","gamePhase","nextStage","gameMode","currentTopic","currentWord","currentLiar","isLiar","currentTurnPlayerId","turnOrder","playerName","voterId","voterName","targetId","targetName","defenderId","defenderName","userVote","gameResults","score","totalTime","targetPlayerId","results","chatMessages","gameFlowService$1","messages","isConnected","connectionError","reconnectAttempts","isLoading","gameList","gameListLoading","gameListError","modes","availableGameModes","gameState","readyState","currentGameState","scoreboard","existingPlayers","isWaitingRoom","normalizedYourRole","mappedPlayers","isDisconnectedState","normalizedId","existingPlayer","isSelfPlayer","existingRole","resolvedRole","scores","currentTurnIndex","currentTurnPlayer","mappedPhase","isSelfLiar","liarIdentifier","maskedWord","endTime","timeRemaining","resolvePlayerIdByIdentifier","updatePlayerByIdentifier","normalizedRole","newPlayer","kicked","promoted","category","liarId","timeLimit","isSelfRoundLiar","nextWord","nextLiarId","resolvedPlayerId","resolvedId","resolvedName","scoreEntries","newScores","scoreboardSnapshot","mapped","votes","stage","currentStage","currentOrder","nextOrder","summary","nextSummaries","screen","modal","newModal","m","notif","field","errs","ensureSuccess","fallbackMessage","extractData","statistics","games","game","requests","req","nemonemoApi","releasePack","session","connectionCallback","gameEventCallback","chatMessageCallback","currentRoom","numericTargetId","leavingId","updatedPlayers","scoreInfo","finalPlayers","resolvedState","GAME_FLOW_SCHEMA_VERSION","createInitialState","buildPlayerSummary","toNumber","toStringValue","toBoolean","KNOWN_GAME_PHASES","toGamePhase","toNumberArray","computeDeadline","seconds","normalizeScoreboardBroadcast","isAlive","buildSystemChatMessage","useGameplayStore","snapshot","playerSummaries","byId","order","playersById","playersOrder","playersChanged","voting","unreadCount","chatChanged","timerItems","timersChanged","payloadSchemaVersion","currentGameNumber","ensureVotingSnapshot","defaults","pushSystemMessage","additionalData","activeId","accusedId","phaseEndsAt","currentRound","totalRounds","deadline","totalPlayers","votingDeadline","pendingPlayers","restTimers","timerId","liarSummary","useConnectionStore","optimisticId","gameStoreState","optimisticState","original","originalRecord","queued","messageQueue","processingQueue","remaining","samples","avg","optimistic","serverState","optimisticUpdates","issue","syncIssue","GAME_MODES","PARTICIPANT_OPTIONS","LIAR_COUNT_OPTIONS","ROUND_OPTIONS","TARGET_POINT_OPTIONS","normalizeRoomStatus","statusLabel","getStatusBadge","createDefaultFormState","GameRoomsSection","connectWebSocket","rooms","setRooms","roomsLoading","setRoomsLoading","roomsError","setRoomsError","isRefreshing","setIsRefreshing","isJoinDialogOpen","setIsJoinDialogOpen","sessionCodeInput","setSessionCodeInput","isSubmitting","setIsSubmitting","setSubjects","subjectsLoading","setSubjectsLoading","setFormState","loadRooms","shouldToggleLoading","refreshRooms","handleLobbyUpdateEvent","parsedGameNumber","matched","shouldRefreshHost","loadSubjects","unsubscribe","cancelled","interval","handleCreateDialogChange","handleToggleSubject","selected","handleSelectAllSubjects","handleClearSubjects","handleCreateRoom","handleJoinRoom","isPrivate","password","handleJoinByCode","availableSubjectTags","Users","RefreshCw","Settings","Lock","Unlock","Play","MainLobbyPage","activeTab","setActiveTab","stats","setStats","fetchStats","gameListResponse","activeGameRooms","registeredTopics","totalAnswers","handleRefreshStats","Crown","isIterable","hasIterableEntries","compareEntries","valueA","valueB","mapA","mapB","compareIterables","iteratorA","iteratorB","nextA","nextB","shallow","useShallow","PROGRESS_NAME","DEFAULT_MAX","createProgressContext","ProgressProvider","useProgressContext","Progress","__scopeProgress","maxProp","getValueLabel","defaultGetValueLabel","progressProps","isValidMaxNumber","getInvalidMaxError","isValidValueNumber","getInvalidValueError","valueLabel","isNumber","getProgressState","INDICATOR_NAME","ProgressIndicator","indicatorProps","maxValue","componentName","Indicator","indicatorClassName","ProgressPrimitive.Root","ProgressPrimitive.Indicator","phaseConfig","Clock","MessageSquare","Vote","Shield","Eye","Trophy","GamePhaseIndicator","formatTime","minutes","remainingSeconds","GameActionInterface","isMyTurn","canVote","onSubmitHint","onVotePlayer","onSubmitDefense","onGuessWord","onCastFinalVote","suspectedPlayer","inputValue","setInputValue","selectedPlayer","setSelectedPlayer","finalVote","setFinalVote","setError","getActionConfig","Target","Search","canInteract","showInput","showVoting","showFinalVote","helperId","AnimatePresence","AlertTriangle","Lightbulb","CheckCircle","Loader2","Send","Avatar","AvatarPrimitive.Root","AvatarImage","AvatarPrimitive.Image","AvatarFallback","AvatarPrimitive.Fallback","useGameFlow","addVote","setChatMessages","submitHint","voteForLiar","submitDefense","endDefensePhase","castFinalVote","guessWord","endRound","getGameResult","sendChatMessage","loadChatHistory","getPhaseInfo","GameResults","gameResult","onNextRound","onReturnToLobby","setResult","isGameComplete","winningTeam","winners","losers","formatDuration","ActivityFeed","events","maxEvents","showTimestamps","autoScroll","restrictedPhases","MAX_MESSAGE_LENGTH","typeLabelMap","formatTimestamp","messageToneMap","SENDABLE_MESSAGE_TYPES","usePrefersReducedMotion","prefersReducedMotion","setPrefersReducedMotion","GameChat","typingPlayers","onSendMessage","onReportMessage","onReloadHistory","draft","setDraft","isExpanded","setIsExpanded","isSending","setIsSending","listEndRef","inputRef","isInputFocused","setIsInputFocused","sendError","setSendError","justSent","setJustSent","highlightedMessageId","setHighlightedMessageId","setAutoScroll","hasUnread","setHasUnread","scrollContainerRef","selectedType","setSelectedType","highlightTimeoutRef","sendPulseTimeoutRef","lastMessageIdRef","inputFocusTimeoutRef","hasHydratedRef","accessibilityId","playersByKey","resolvePlayer","latest","typingNames","canSendMessage","messageTypeOptions","messageCount","remainingCharacters","characterWarningThreshold","characterCriticalThreshold","characterCountTone","onlineCount","sendMessage","override","pulseDuration","handleRetry","handleComposerSubmit","handleReport","handleReloadHistory","atBottom","handleScrollToLatest","containerClasses","sendErrorId","unreadButtonClasses","hasMessages","MessageCircle","isSelf","isSystemMessage","isHostMessage","displayName","badgeConfigs","isViewerSamePlayer","typeLabel","showReport","avatarInitial","bubbleTone","justifyClass","alignmentClasses","contentTone","typeBadgeTone","isHighlighted","highlightClasses","Flag","ArrowDown","DEFAULT_ORIENTATION","ORIENTATIONS","decorative","orientationProp","domProps","isValidOrientation","semanticProps","SeparatorPrimitive.Root","summaryVariants","RoundSummaryPanel","history","suspectedNickname","useGameWebSocket","selectGameStore","setConnectionError","setConnectionState","resetGameData","sendChatMessageAction","castVoteAction","startGameAction","selectConnectionStore","connectionStatus","connectConnection","disconnectConnection","isConnecting","setIsConnecting","derivedError","connect","disconnect","joinGame","castVote","startGame","ConnectionStatus","showDetails","compact","selectConnectionMetrics","connectionMetrics","realtimeStatus","avgLatency","backlog","isReconnecting","isDegraded","metricsText","statusInfo","AlertCircle","Signal","quickShortcuts","GameHelpPanel","Info","Keyboard","shortcut","ShieldAlert","GameplayScoreboard","entries","PlayerStatusPanel","currentPhase","getPlayerStatus","getStatusConfig","WifiOff","Zap","getPlayerRole","getRoleConfig","role","getRoleAccentClass","isCurrent","getVoteCount","vote","formatLastActive","statusConfig","roleConfig","voteCount","isCurrentPlayer","accentClass","badgeAriaLabel","stageLabels","stageDescriptions","nextStageHints","GameLayout","activities","chatLoading","chatError","actionSlot","roundStage","roundStageEnteredAt","_roundHasStarted","roundSummaries","currentRoundSummary","scoreboardEntries","onSendChatMessage","onReportChatMessage","onReloadChat","lastCriticalToast","isChatFocused","setIsChatFocused","isContextPanelCollapsed","setIsContextPanelCollapsed","isPlayersDialogOpen","setIsPlayersDialogOpen","isLogDialogOpen","setIsLogDialogOpen","isHelpDialogOpen","setIsHelpDialogOpen","isContextOverlayOpen","setIsContextOverlayOpen","headerRef","setHeaderHeight","updateHeight","gridContainerStyle","summaryForPanel","roundSummaryHistory","normalizedStage","stageIndex","stageProgress","stageLabel","stageDescription","nextStageHint","roundLabel","preRoundNotice","topicSummary","wordSummary","showContextColumn","gridTemplateClass","contextCards","ArrowLeft","UserCheck","ListTree","LifeBuoy","useGameLayoutViewModel","selectGameLayout","alivePlayers","readyPlayers","WaitingRoomControls","minimumPlayers","onToggleReady","onStartGame","isTogglePending","isStartPending","canStartGame","isHost","isReady","awaitingPlayers","needsMorePlayers","statusMessage","CheckCircle2","isPlayerHost","ConflictResolver","localState","conflictType","localAction","serverAction","states","to","fromIndex","conflictResolver","MessageHandlerRegistry","messageHandlers","StateSync","storeHandle","gameStore","merged","stateSync","useWebSocket","selectConnectionState","processQueue","HISTORY_LIMIT","generateId","emit","registryWindow","registry","gameMonitoring","wrapped","LATENCY_WARNING_COOLDOWN","isRecoveryTriggerStatus","previous","useGameRecovery","queueLength","pendingCount","syncIssues","clearSyncIssues","updateFromGameState","hydrateFromSnapshot","previousStatusRef","recoveryInFlight","lastLatencyNoticeRef","previousStatus","startedAt","queuePressure","metadata","createActivityId","resolveIdentifier","getPhaseForLog","GameFlowManager","viewModel","roundHasStarted","addHint","addDefense","setUserVote","toggleReady","submitHintRequest","voteForLiarRequest","submitDefenseRequest","castFinalVoteRequest","guessWordRequest","setActivities","isStartingGame","setIsStartingGame","isTogglingReady","setIsTogglingReady","roomDeletionHandledRef","appendActivity","activity","makeActivity","highlight","unsubscribeHint","unsubscribeVote","fallbackPayload","voter","unsubscribeDefense","defender","unsubscribePhase","nextPhase","unsubscribeRound","unsubscribeRoomDeleted","handleSubmitHint","handleVotePlayer","targetPlayer","resolvedTargetId","resolvedTargetUserId","handleSubmitDefense","handleGuessWord","handleCastFinalVote","execute","handleSendChatMessage","handleReloadChatHistory","handleReportChatMessage","handleToggleReady","nextReadyState","handleStartGame","isWaitingForPlayers","waitingControls","MainGamePage","useParams","selectGamePageState","setGameNumber","setIsLoading","gameIdNumber","handleReturnToLobby","shouldSkipServer","activeGameNumber","handleNextRound","MainResultsPage","setGameResults","handlePlayAgain","handleShareResults","resultText","getRankIcon","rank","Medal","Star","getRankBadge","RotateCcw","Share2","ErrorBoundary","useRouteError","handleReload","handleGoHome","NotFoundPage","basename","router","createBrowserRouter","LoginPage","LobbyPage","GamePage","ResultsPage","SESSION_REFRESH_INTERVAL","ACTIVITY_EVENTS","useSessionManager","intervalRef","lastActivityRef","updateActivity","refreshSession","handleActivity","App","isInitializing","setIsInitializing","currentPath","RouterProvider","createRoot","StrictMode"],"ignoreList":[0,1,2,3,4,5,7,8,9,16,17,18,19,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,114,118,124,125,126,130,144,145,146,155],"sources":["../../node_modules/scheduler/cjs/scheduler.production.js","../../node_modules/scheduler/index.js","../../node_modules/react-dom/cjs/react-dom-client.production.js","../../node_modules/react-dom/client.js","../../node_modules/sonner/dist/index.mjs","../../node_modules/@tanstack/react-query-devtools/build/modern/index.js","../../src/lib/queryClient.ts","../../node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../../node_modules/@radix-ui/react-toast/dist/index.mjs","../../node_modules/class-variance-authority/dist/index.mjs","../../src/lib/utils.ts","../../src/components/ui/toast.tsx","../../src/hooks/useToast.ts","../../src/components/ui/toaster.tsx","../../../ui/dist/tokens.js","../../../ui/dist/theme/index.js","../../../ui/node_modules/react/cjs/react-jsx-runtime.production.js","../../../ui/node_modules/react/jsx-runtime.js","../../../ui/node_modules/react/cjs/react.production.js","../../../ui/node_modules/react/index.js","../../../ui/dist/react/StelliveThemeProvider.js","../../src/components/common/ThemeProvider.tsx","../../src/components/ui/button.tsx","../../src/hooks/useTheme.ts","../../src/components/common/ThemeToggle.tsx","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/zustand/esm/react.mjs","../../node_modules/zustand/esm/middleware.mjs","../../node_modules/@stomp/stompjs/esm6/augment-websocket.js","../../node_modules/@stomp/stompjs/esm6/byte.js","../../node_modules/@stomp/stompjs/esm6/frame-impl.js","../../node_modules/@stomp/stompjs/esm6/parser.js","../../node_modules/@stomp/stompjs/esm6/types.js","../../node_modules/@stomp/stompjs/esm6/ticker.js","../../node_modules/@stomp/stompjs/esm6/versions.js","../../node_modules/@stomp/stompjs/esm6/stomp-handler.js","../../node_modules/@stomp/stompjs/esm6/client.js","../../node_modules/sockjs-client/lib/utils/browser-crypto.js","../../node_modules/sockjs-client/lib/utils/random.js","../../node_modules/sockjs-client/lib/utils/event.js","../../node_modules/requires-port/index.js","../../node_modules/querystringify/index.js","../../node_modules/url-parse/index.js","../../node_modules/sockjs-client/lib/utils/url.js","../../node_modules/inherits/inherits_browser.js","../../node_modules/sockjs-client/lib/event/eventtarget.js","../../node_modules/sockjs-client/lib/event/emitter.js","../../node_modules/sockjs-client/lib/transport/browser/websocket.js","../../node_modules/sockjs-client/lib/transport/websocket.js","../../node_modules/sockjs-client/lib/transport/lib/buffered-sender.js","../../node_modules/sockjs-client/lib/transport/lib/polling.js","../../node_modules/sockjs-client/lib/transport/lib/sender-receiver.js","../../node_modules/sockjs-client/lib/transport/lib/ajax-based.js","../../node_modules/sockjs-client/lib/transport/receiver/xhr.js","../../node_modules/sockjs-client/lib/transport/browser/abstract-xhr.js","../../node_modules/sockjs-client/lib/transport/sender/xhr-cors.js","../../node_modules/sockjs-client/lib/transport/sender/xhr-local.js","../../node_modules/sockjs-client/lib/utils/browser.js","../../node_modules/sockjs-client/lib/transport/xhr-streaming.js","../../node_modules/sockjs-client/lib/transport/sender/xdr.js","../../node_modules/sockjs-client/lib/transport/xdr-streaming.js","../../node_modules/sockjs-client/lib/transport/browser/eventsource.js","../../node_modules/sockjs-client/lib/transport/receiver/eventsource.js","../../node_modules/sockjs-client/lib/transport/eventsource.js","../../node_modules/sockjs-client/lib/version.js","../../node_modules/sockjs-client/lib/utils/iframe.js","../../node_modules/sockjs-client/lib/transport/iframe.js","../../node_modules/sockjs-client/lib/utils/object.js","../../node_modules/sockjs-client/lib/transport/lib/iframe-wrap.js","../../node_modules/sockjs-client/lib/transport/receiver/htmlfile.js","../../node_modules/sockjs-client/lib/transport/htmlfile.js","../../node_modules/sockjs-client/lib/transport/xhr-polling.js","../../node_modules/sockjs-client/lib/transport/xdr-polling.js","../../node_modules/sockjs-client/lib/transport/receiver/jsonp.js","../../node_modules/sockjs-client/lib/transport/sender/jsonp.js","../../node_modules/sockjs-client/lib/transport/jsonp-polling.js","../../node_modules/sockjs-client/lib/transport-list.js","../../node_modules/sockjs-client/lib/shims.js","../../node_modules/sockjs-client/lib/utils/escape.js","../../node_modules/sockjs-client/lib/utils/transport.js","../../node_modules/sockjs-client/lib/utils/log.js","../../node_modules/sockjs-client/lib/event/event.js","../../node_modules/sockjs-client/lib/location.js","../../node_modules/sockjs-client/lib/event/close.js","../../node_modules/sockjs-client/lib/event/trans-message.js","../../node_modules/sockjs-client/lib/transport/sender/xhr-fake.js","../../node_modules/sockjs-client/lib/info-ajax.js","../../node_modules/sockjs-client/lib/info-iframe-receiver.js","../../node_modules/sockjs-client/lib/info-iframe.js","../../node_modules/sockjs-client/lib/info-receiver.js","../../node_modules/sockjs-client/lib/facade.js","../../node_modules/sockjs-client/lib/iframe-bootstrap.js","../../node_modules/sockjs-client/lib/main.js","../../node_modules/sockjs-client/lib/entry.js","../../src/utils/sessionCleanup.ts","../../src/services/websocketService.ts","../../src/api/client.ts","../../src/services/api.ts","../../src/constants/apiEndpoints.ts","../../src/services/authService.ts","../../src/api/gameApi.ts","../../src/api/wordApi.ts","../../src/api/subjectApi.ts","../../src/utils/apiResponseHandler.ts","../../src/api/adminApi.ts","../../src/services/gameFlowService.ts","../../src/stores/authStore.ts","../../src/components/layout/Header.tsx","../../src/components/layout/Footer.tsx","../../src/components/layout/Layout.tsx","../../src/components/layout/AuthLayout.tsx","../../src/components/auth/ProtectedRoute.tsx","../../src/components/ui/card.tsx","../../src/components/ui/input.tsx","../../node_modules/@radix-ui/react-label/dist/index.mjs","../../src/components/ui/label.tsx","../../src/utils/nicknameValidation.ts","../../src/versions/main/pages/LoginPage.tsx","../../node_modules/@radix-ui/react-tabs/dist/index.mjs","../../src/components/ui/tabs.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/textarea.tsx","../../src/components/ui/dialog.tsx","../../src/components/lobby/TopicManagementSection.tsx","../../node_modules/@radix-ui/number/dist/index.mjs","../../node_modules/@radix-ui/react-use-previous/dist/index.mjs","../../node_modules/@radix-ui/react-select/dist/index.mjs","../../src/components/ui/select.tsx","../../src/components/lobby/AnswerManagementSection.tsx","../../src/components/ui/badge.tsx","../../node_modules/@radix-ui/react-scroll-area/dist/index.mjs","../../src/components/ui/scroll-area.tsx","../../src/contexts/ModalContext.tsx","../../src/stores/unifiedGameStore.ts","../../src/stores/uiStore.ts","../../src/stores/adminStore.ts","../../src/api/nemonemoApi.ts","../../src/stores/nemonemoStore.ts","../../src/stores/gameStore.ts","../../src/types/contracts/versioning.ts","../../src/stores/gameplayStore.ts","../../src/stores/connectionStore.ts","../../src/components/lobby/GameRoomsSection.tsx","../../src/versions/main/pages/LobbyPage.tsx","../../node_modules/zustand/esm/vanilla/shallow.mjs","../../node_modules/zustand/esm/react/shallow.mjs","../../node_modules/@radix-ui/react-progress/dist/index.mjs","../../src/components/ui/progress.tsx","../../src/components/game/GamePhaseIndicator.tsx","../../src/components/game/GameActionInterface.tsx","../../src/components/ui/avatar.tsx","../../src/hooks/useGameFlow.ts","../../src/components/game/GameResults.tsx","../../src/components/game/ActivityFeed.tsx","../../src/components/game/GameChat.tsx","../../node_modules/@radix-ui/react-separator/dist/index.mjs","../../src/components/ui/separator.tsx","../../src/components/game/RoundSummaryPanel.tsx","../../src/hooks/useGameWebSocket.ts","../../src/components/game/ConnectionStatus/ConnectionStatus.tsx","../../src/components/game/GameHelpPanel.tsx","../../src/components/gameplay/GameplayScoreboard.tsx","../../src/components/game/PlayerStatusPanel.tsx","../../src/components/game/GameLayout.tsx","../../src/components/game/useGameLayoutViewModel.ts","../../src/components/game/WaitingRoomControls.tsx","../../src/services/conflictResolver.ts","../../src/services/messageHandlers.ts","../../src/services/stateSync.ts","../../src/hooks/useWebSocket.ts","../../src/services/gameMonitoring.ts","../../src/hooks/useGameRecovery.ts","../../src/components/game/GameFlowManager.tsx","../../src/versions/main/pages/GamePage.tsx","../../src/versions/main/pages/ResultsPage.tsx","../../src/components/common/ErrorBoundary.tsx","../../src/components/common/NotFoundPage.tsx","../../src/lib/router.tsx","../../src/hooks/useSessionManager.ts","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 256,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194048;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$5 = 31 - clz32(remainingLanes),\n      lane = 1 << index$5;\n    entanglements[index$5] = 0;\n    expirationTimes[index$5] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$5];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$5] = null, index$5 = 0;\n        index$5 < hiddenUpdatesForLane.length;\n        index$5++\n      ) {\n        var update = hiddenUpdatesForLane[index$5];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194090);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$6 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$6;\n    (lane & entangledLanes) | (root[index$6] & entangledLanes) &&\n      (root[index$6] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$8 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$8 && \"aria-\" !== prefix$8) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$9) {\n                control = x$9;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$10) {\n              control = x$10;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$282;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_417 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_417) {\n      var element$jscomp$inline_418 = document.createElement(\"div\");\n      element$jscomp$inline_418.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_417 =\n        \"function\" === typeof element$jscomp$inline_418.oninput;\n    }\n    JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417;\n  } else JSCompiler_inline_result$jscomp$282 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$282 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (tag = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === tag) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            tag--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              tag++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter$1 = 0,\n  thenableState$1 = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter$1 = 0;\n  thenableState$1 = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null);\n    thenableIndexCounter$1 = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter$1 = localIdCounter = 0;\n  thenableState$1 = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  thenable = trackUsedThenable(thenableState$1, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$32 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$32 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$32 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$32 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n  updateEffectImpl(2048, 8, create, [subscribe]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 124) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$38) {\n      onActionError(actionQueue, node, error$38);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, createDeps) {\n  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((createDeps = create.next),\n      (create.next = tag),\n      (tag.next = createDeps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction createEffectInstance() {\n  return { destroy: void 0, resource: void 0 };\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {\n  var hook = mountWorkInProgressHook();\n  createDeps = void 0 === createDeps ? null : createDeps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    createEffectInstance(),\n    create,\n    createDeps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, createDeps) {\n  mountEffectImpl(8390656, 8, create, createDeps);\n}\nfunction updateEffect(create, createDeps) {\n  updateEffectImpl(2048, 8, create, createDeps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$41 = enqueueUpdate(provider, fiber, lane);\n        null !== root$41 &&\n          (scheduleUpdateOnFiber(root$41, provider, lane),\n          entangleTransitions(root$41, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n    readContext: readContext,\n    use: use,\n    useCallback: throwInvalidHookError,\n    useContext: throwInvalidHookError,\n    useEffect: throwInvalidHookError,\n    useImperativeHandle: throwInvalidHookError,\n    useLayoutEffect: throwInvalidHookError,\n    useInsertionEffect: throwInvalidHookError,\n    useMemo: throwInvalidHookError,\n    useReducer: throwInvalidHookError,\n    useRef: throwInvalidHookError,\n    useState: throwInvalidHookError,\n    useDebugValue: throwInvalidHookError,\n    useDeferredValue: throwInvalidHookError,\n    useTransition: throwInvalidHookError,\n    useSyncExternalStore: throwInvalidHookError,\n    useId: throwInvalidHookError,\n    useHostTransitionStatus: throwInvalidHookError,\n    useFormState: throwInvalidHookError,\n    useActionState: throwInvalidHookError,\n    useOptimistic: throwInvalidHookError,\n    useMemoCache: throwInvalidHookError,\n    useCacheRefresh: throwInvalidHookError\n  },\n  HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 124) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        createEffectInstance(),\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"\\u00ab\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"\\u00bb\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"\\u00ab\" +\n            identifierPrefix +\n            \"r\" +\n            JSCompiler_inline_result.toString(32) +\n            \"\\u00bb\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  HooksDispatcherOnRerender = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: rerenderReducer,\n    useRef: updateRef,\n    useState: function () {\n      return rerenderReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    },\n    useTransition: function () {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: rerenderActionState,\n    useActionState: rerenderActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  thenableState = null,\n  thenableIndexCounter = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  return trackUsedThenable(thenableState, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          \"$?\" === state.data ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (prevState = 0; null !== nextChildren; )\n          (prevState =\n            prevState | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = prevState & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912,\n                hydrationErrors: null\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          isSuspenseInstanceFallback(nextInstance)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextInstance))\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = renderLanes & -renderLanes),\n        (nextProps =\n          0 !== (nextProps & 42)\n            ? 1\n            : getBumpedLaneForHydrationByLane(nextProps)),\n        (nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps),\n        0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n      )\n        throw (\n          ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 65011712),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  offscreenProps.stateNode = {\n    _visibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null\n  };\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        lazyComponent = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        init = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        lazyComponent = nextState.cache;\n        pushProvider(workInProgress, CacheContext, lazyComponent);\n        lazyComponent !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        lazyComponent = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: lazyComponent,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else if (lazyComponent !== init) {\n            init = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(init);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (lazyComponent === init) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(\n            current,\n            workInProgress,\n            lazyComponent,\n            renderLanes\n          );\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (init = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = init),\n              (nextHydratableInstance = getNextHydratable(\n                lazyComponent.firstChild\n              )))\n            : (nextHydratableInstance = init)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = prevState.children;\n      shouldSetTextContent(init, prevState)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        (renderLanes = workInProgress.mode),\n        (lazyComponent = {\n          mode: lazyComponent.mode,\n          children: lazyComponent.children\n        }),\n        null === current\n          ? ((renderLanes = mountWorkInProgressOffscreenFiber(\n              lazyComponent,\n              renderLanes\n            )),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes))\n          : ((renderLanes = createWorkInProgress(current.child, lazyComponent)),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes)),\n        workInProgress\n      );\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (prevState = createCache()),\n              (init.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && (init.pooledCacheLanes |= renderLanes),\n              (init = prevState)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = prevState.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194048) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$113 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$113 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$113\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$113.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags & 65011712),\n        (subtreeFlags |= child$114.flags & 65011712),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  else\n    for (child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags),\n        (subtreeFlags |= child$114.flags),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 31:\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$127 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$127 = newProps.memoizedState.cachePool.pool);\n        cache$127 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$127 = type.rendering;\n      if (null === cache$127)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$127 = findFirstSuspended(current);\n              if (null !== cache$127) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$127.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$127)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$127.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$127.sibling = workInProgress.child),\n            (workInProgress.child = cache$127))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$127)\n              : (workInProgress.child = cache$127),\n            (type.last = cache$127));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$143) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$143);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1024) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$142) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$142\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearSuspenseBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$144 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$144, \"\"), (hostParentFiber.flags &= -33));\n          var before$145 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$145, parent$144);\n          break;\n        case 3:\n        case 4:\n          var parent$146 = hostParentFiber.stateNode.containerInfo,\n            before$147 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$147,\n            parent$146\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 124) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              2,\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  )\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (suspendedCommitReason = waitForCommitToBeReady()),\n      null !== suspendedCommitReason)\n    ) {\n      root.cancelPendingCommit = suspendedCommitReason(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$4 = 31 - clz32(lanes),\n      lane = 1 << index$4;\n    didAttemptEntireTree[index$4] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState = null),\n        (thenableIndexCounter = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$2 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$2;\n      lanes |= root[index$2];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$169) {\n      handleThrow(root, thrownValue$169);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState = null;\n  thenableIndexCounter = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects(!0);\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 4194090) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects(wasDelayedCommit) {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects(wasDelayedCommit);\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$174 = firstScheduledRoot; null !== root$174; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$174.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$174.suspendedLanes,\n                pingedLanes = root$174.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$174,\n                root$174 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$174.cancelPendingCommit ||\n                  -1 !== root$174.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$174, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n        root$174 = root$174.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$3 = 31 - clz32(lanes),\n      lane = 1 << index$3,\n      expirationTime = expirationTimes[index$3];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$3] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects(!0) && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1528 = 0;\n  i$jscomp$inline_1528 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1528++\n) {\n  var eventName$jscomp$inline_1529 =\n      simpleEventPluginEvents[i$jscomp$inline_1528],\n    domEventName$jscomp$inline_1530 =\n      eventName$jscomp$inline_1529.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1531 =\n      eventName$jscomp$inline_1529[0].toUpperCase() +\n      eventName$jscomp$inline_1529.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1530,\n    \"on\" + capitalizedEvent$jscomp$inline_1531\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$188 = props[hasSrc];\n          if (null != propValue$188)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$188;\n                break;\n              case \"type\":\n                propValue = propValue$188;\n                break;\n              case \"checked\":\n                checked = propValue$188;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$188;\n                break;\n              case \"value\":\n                propKey = propValue$188;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$188;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$188)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$188, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$188 in props)\n          props.hasOwnProperty(propValue$188) &&\n            ((hasSrc = props[propValue$188]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$188,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$205 in nextProps) {\n        var propKey = nextProps[propKey$205];\n        lastProp = lastProps[propKey$205];\n        if (\n          nextProps.hasOwnProperty(propKey$205) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$205) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$205,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$205 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$205 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$205\n        ? updateOptions(domElement, !!lastProps, propKey$205, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$205 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$205 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$205, propKey);\n      return;\n    case \"option\":\n      for (var propKey$221 in lastProps)\n        if (\n          ((propKey$205 = lastProps[propKey$221]),\n          lastProps.hasOwnProperty(propKey$221) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$221))\n        )\n          switch (propKey$221) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$221,\n                null,\n                nextProps,\n                propKey$205\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$205 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$205 &&\n                \"function\" !== typeof propKey$205 &&\n                \"symbol\" !== typeof propKey$205;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$226 in lastProps)\n        (propKey$205 = lastProps[propKey$226]),\n          lastProps.hasOwnProperty(propKey$226) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$226) &&\n            setProp(domElement, tag, propKey$226, null, nextProps, propKey$205);\n      for (checked in nextProps)\n        if (\n          ((propKey$205 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$205)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$231 in lastProps)\n          (propKey$205 = lastProps[propKey$231]),\n            lastProps.hasOwnProperty(propKey$231) &&\n              void 0 !== propKey$205 &&\n              !nextProps.hasOwnProperty(propKey$231) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$231,\n                void 0,\n                nextProps,\n                propKey$205\n              );\n        for (defaultChecked in nextProps)\n          (propKey$205 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$205 === propKey ||\n              (void 0 === propKey$205 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$236 in lastProps)\n    (propKey$205 = lastProps[propKey$236]),\n      lastProps.hasOwnProperty(propKey$236) &&\n        null != propKey$205 &&\n        !nextProps.hasOwnProperty(propKey$236) &&\n        setProp(domElement, tag, propKey$236, null, nextProps, propKey$205);\n  for (lastProp in nextProps)\n    (propKey$205 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$205 === propKey ||\n        (null == propKey$205 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$205, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    possiblePreambleContribution = 0,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (\n          0 < possiblePreambleContribution &&\n          8 > possiblePreambleContribution\n        ) {\n          node = possiblePreambleContribution;\n          var ownerDocument = parentInstance.ownerDocument;\n          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);\n          node & 2 && releaseSingletonInstance(ownerDocument.body);\n          if (node & 4)\n            for (\n              node = ownerDocument.head,\n                releaseSingletonInstance(node),\n                ownerDocument = node.firstChild;\n              ownerDocument;\n\n            ) {\n              var nextNode$jscomp$0 = ownerDocument.nextSibling,\n                nodeName = ownerDocument.nodeName;\n              ownerDocument[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === ownerDocument.rel.toLowerCase()) ||\n                node.removeChild(ownerDocument);\n              ownerDocument = nextNode$jscomp$0;\n            }\n        }\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else\n        \"$\" === node || \"$?\" === node || \"$!\" === node\n          ? depth++\n          : (possiblePreambleContribution = node.charCodeAt(0) - 48);\n    else possiblePreambleContribution = 0;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"complete\" === instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$?\" !== instance.data || \"complete\" === ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$244 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$245 = styles$244.get(type);\n        resource$245 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$245 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$244.set(type, resource$245),\n          (styles$244 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$244._p &&\n            ((resource$245.instance = styles$244),\n            (resource$245.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$244 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$245.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$245;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$250 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$250)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$250),\n            markNodeAsHoistable(instance$250),\n            instance$250\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$250 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$250);\n        var linkInstance = instance$250;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$250, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$250, props.precedence, hoistableRoot);\n        return (resource.instance = instance$250);\n      case \"script\":\n        instance$250 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$250)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$250)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane();\n              lane = getBumpedLaneForHydrationByLane(lane);\n              var root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1785 = React.version;\nif (\n  \"19.1.1\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1785\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1785,\n      \"19.1.1\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2256 = {\n  bundleType: 0,\n  version: \"19.1.1\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.1.1\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2257.isDisabled &&\n    hook$jscomp$inline_2257.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2257.inject(\n        internals$jscomp$inline_2256\n      )),\n        (injectedHook = hook$jscomp$inline_2257);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use client';\nfunction __insertCSS(code) {\n  if (!code || typeof document == 'undefined') return\n  let head = document.head || document.getElementsByTagName('head')[0]\n  let style = document.createElement('style')\n  style.type = 'text/css'\n  head.appendChild(style)\n  ;style.styleSheet ? (style.styleSheet.cssText = code) : style.appendChild(document.createTextNode(code))\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst getAsset = (type)=>{\n    switch(type){\n        case 'success':\n            return SuccessIcon;\n        case 'info':\n            return InfoIcon;\n        case 'warning':\n            return WarningIcon;\n        case 'error':\n            return ErrorIcon;\n        default:\n            return null;\n    }\n};\nconst bars = Array(12).fill(0);\nconst Loader = ({ visible, className })=>{\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: [\n            'sonner-loading-wrapper',\n            className\n        ].filter(Boolean).join(' '),\n        \"data-visible\": visible\n    }, /*#__PURE__*/ React.createElement(\"div\", {\n        className: \"sonner-spinner\"\n    }, bars.map((_, i)=>/*#__PURE__*/ React.createElement(\"div\", {\n            className: \"sonner-loading-bar\",\n            key: `spinner-bar-${i}`\n        }))));\n};\nconst SuccessIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\",\n    clipRule: \"evenodd\"\n}));\nconst WarningIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\",\n    clipRule: \"evenodd\"\n}));\nconst InfoIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\",\n    clipRule: \"evenodd\"\n}));\nconst ErrorIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"20\"\n}, /*#__PURE__*/ React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\",\n    clipRule: \"evenodd\"\n}));\nconst CloseIcon = /*#__PURE__*/ React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"12\",\n    height: \"12\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n}, /*#__PURE__*/ React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n}), /*#__PURE__*/ React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n}));\n\nconst useIsDocumentHidden = ()=>{\n    const [isDocumentHidden, setIsDocumentHidden] = React.useState(document.hidden);\n    React.useEffect(()=>{\n        const callback = ()=>{\n            setIsDocumentHidden(document.hidden);\n        };\n        document.addEventListener('visibilitychange', callback);\n        return ()=>window.removeEventListener('visibilitychange', callback);\n    }, []);\n    return isDocumentHidden;\n};\n\nlet toastsCounter = 1;\nclass Observer {\n    constructor(){\n        // We use arrow functions to maintain the correct `this` reference\n        this.subscribe = (subscriber)=>{\n            this.subscribers.push(subscriber);\n            return ()=>{\n                const index = this.subscribers.indexOf(subscriber);\n                this.subscribers.splice(index, 1);\n            };\n        };\n        this.publish = (data)=>{\n            this.subscribers.forEach((subscriber)=>subscriber(data));\n        };\n        this.addToast = (data)=>{\n            this.publish(data);\n            this.toasts = [\n                ...this.toasts,\n                data\n            ];\n        };\n        this.create = (data)=>{\n            var _data_id;\n            const { message, ...rest } = data;\n            const id = typeof (data == null ? void 0 : data.id) === 'number' || ((_data_id = data.id) == null ? void 0 : _data_id.length) > 0 ? data.id : toastsCounter++;\n            const alreadyExists = this.toasts.find((toast)=>{\n                return toast.id === id;\n            });\n            const dismissible = data.dismissible === undefined ? true : data.dismissible;\n            if (this.dismissedToasts.has(id)) {\n                this.dismissedToasts.delete(id);\n            }\n            if (alreadyExists) {\n                this.toasts = this.toasts.map((toast)=>{\n                    if (toast.id === id) {\n                        this.publish({\n                            ...toast,\n                            ...data,\n                            id,\n                            title: message\n                        });\n                        return {\n                            ...toast,\n                            ...data,\n                            id,\n                            dismissible,\n                            title: message\n                        };\n                    }\n                    return toast;\n                });\n            } else {\n                this.addToast({\n                    title: message,\n                    ...rest,\n                    dismissible,\n                    id\n                });\n            }\n            return id;\n        };\n        this.dismiss = (id)=>{\n            if (id) {\n                this.dismissedToasts.add(id);\n                requestAnimationFrame(()=>this.subscribers.forEach((subscriber)=>subscriber({\n                            id,\n                            dismiss: true\n                        })));\n            } else {\n                this.toasts.forEach((toast)=>{\n                    this.subscribers.forEach((subscriber)=>subscriber({\n                            id: toast.id,\n                            dismiss: true\n                        }));\n                });\n            }\n            return id;\n        };\n        this.message = (message, data)=>{\n            return this.create({\n                ...data,\n                message\n            });\n        };\n        this.error = (message, data)=>{\n            return this.create({\n                ...data,\n                message,\n                type: 'error'\n            });\n        };\n        this.success = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'success',\n                message\n            });\n        };\n        this.info = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'info',\n                message\n            });\n        };\n        this.warning = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'warning',\n                message\n            });\n        };\n        this.loading = (message, data)=>{\n            return this.create({\n                ...data,\n                type: 'loading',\n                message\n            });\n        };\n        this.promise = (promise, data)=>{\n            if (!data) {\n                // Nothing to show\n                return;\n            }\n            let id = undefined;\n            if (data.loading !== undefined) {\n                id = this.create({\n                    ...data,\n                    promise,\n                    type: 'loading',\n                    message: data.loading,\n                    description: typeof data.description !== 'function' ? data.description : undefined\n                });\n            }\n            const p = Promise.resolve(promise instanceof Function ? promise() : promise);\n            let shouldDismiss = id !== undefined;\n            let result;\n            const originalPromise = p.then(async (response)=>{\n                result = [\n                    'resolve',\n                    response\n                ];\n                const isReactElementResponse = React.isValidElement(response);\n                if (isReactElementResponse) {\n                    shouldDismiss = false;\n                    this.create({\n                        id,\n                        type: 'default',\n                        message: response\n                    });\n                } else if (isHttpResponse(response) && !response.ok) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(`HTTP error! status: ${response.status}`) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(`HTTP error! status: ${response.status}`) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                } else if (response instanceof Error) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(response) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                } else if (data.success !== undefined) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.success === 'function' ? await data.success(response) : data.success;\n                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'success',\n                        description,\n                        ...toastSettings\n                    });\n                }\n            }).catch(async (error)=>{\n                result = [\n                    'reject',\n                    error\n                ];\n                if (data.error !== undefined) {\n                    shouldDismiss = false;\n                    const promiseData = typeof data.error === 'function' ? await data.error(error) : data.error;\n                    const description = typeof data.description === 'function' ? await data.description(error) : data.description;\n                    const isExtendedResult = typeof promiseData === 'object' && !React.isValidElement(promiseData);\n                    const toastSettings = isExtendedResult ? promiseData : {\n                        message: promiseData\n                    };\n                    this.create({\n                        id,\n                        type: 'error',\n                        description,\n                        ...toastSettings\n                    });\n                }\n            }).finally(()=>{\n                if (shouldDismiss) {\n                    // Toast is still in load state (and will be indefinitely  dismiss it)\n                    this.dismiss(id);\n                    id = undefined;\n                }\n                data.finally == null ? void 0 : data.finally.call(data);\n            });\n            const unwrap = ()=>new Promise((resolve, reject)=>originalPromise.then(()=>result[0] === 'reject' ? reject(result[1]) : resolve(result[1])).catch(reject));\n            if (typeof id !== 'string' && typeof id !== 'number') {\n                // cannot Object.assign on undefined\n                return {\n                    unwrap\n                };\n            } else {\n                return Object.assign(id, {\n                    unwrap\n                });\n            }\n        };\n        this.custom = (jsx, data)=>{\n            const id = (data == null ? void 0 : data.id) || toastsCounter++;\n            this.create({\n                jsx: jsx(id),\n                id,\n                ...data\n            });\n            return id;\n        };\n        this.getActiveToasts = ()=>{\n            return this.toasts.filter((toast)=>!this.dismissedToasts.has(toast.id));\n        };\n        this.subscribers = [];\n        this.toasts = [];\n        this.dismissedToasts = new Set();\n    }\n}\nconst ToastState = new Observer();\n// bind this to the toast function\nconst toastFunction = (message, data)=>{\n    const id = (data == null ? void 0 : data.id) || toastsCounter++;\n    ToastState.addToast({\n        title: message,\n        ...data,\n        id\n    });\n    return id;\n};\nconst isHttpResponse = (data)=>{\n    return data && typeof data === 'object' && 'ok' in data && typeof data.ok === 'boolean' && 'status' in data && typeof data.status === 'number';\n};\nconst basicToast = toastFunction;\nconst getHistory = ()=>ToastState.toasts;\nconst getToasts = ()=>ToastState.getActiveToasts();\n// We use `Object.assign` to maintain the correct types as we would lose them otherwise\nconst toast = Object.assign(basicToast, {\n    success: ToastState.success,\n    info: ToastState.info,\n    warning: ToastState.warning,\n    error: ToastState.error,\n    custom: ToastState.custom,\n    message: ToastState.message,\n    promise: ToastState.promise,\n    dismiss: ToastState.dismiss,\n    loading: ToastState.loading\n}, {\n    getHistory,\n    getToasts\n});\n\n__insertCSS(\"[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\");\n\nfunction isAction(action) {\n    return action.label !== undefined;\n}\n\n// Visible toasts amount\nconst VISIBLE_TOASTS_AMOUNT = 3;\n// Viewport padding\nconst VIEWPORT_OFFSET = '24px';\n// Mobile viewport padding\nconst MOBILE_VIEWPORT_OFFSET = '16px';\n// Default lifetime of a toasts (in ms)\nconst TOAST_LIFETIME = 4000;\n// Default toast width\nconst TOAST_WIDTH = 356;\n// Default gap between toasts\nconst GAP = 14;\n// Threshold to dismiss a toast\nconst SWIPE_THRESHOLD = 45;\n// Equal to exit animation duration\nconst TIME_BEFORE_UNMOUNT = 200;\nfunction cn(...classes) {\n    return classes.filter(Boolean).join(' ');\n}\nfunction getDefaultSwipeDirections(position) {\n    const [y, x] = position.split('-');\n    const directions = [];\n    if (y) {\n        directions.push(y);\n    }\n    if (x) {\n        directions.push(x);\n    }\n    return directions;\n}\nconst Toast = (props)=>{\n    var _toast_classNames, _toast_classNames1, _toast_classNames2, _toast_classNames3, _toast_classNames4, _toast_classNames5, _toast_classNames6, _toast_classNames7, _toast_classNames8;\n    const { invert: ToasterInvert, toast, unstyled, interacting, setHeights, visibleToasts, heights, index, toasts, expanded, removeToast, defaultRichColors, closeButton: closeButtonFromToaster, style, cancelButtonStyle, actionButtonStyle, className = '', descriptionClassName = '', duration: durationFromToaster, position, gap, expandByDefault, classNames, icons, closeButtonAriaLabel = 'Close toast' } = props;\n    const [swipeDirection, setSwipeDirection] = React.useState(null);\n    const [swipeOutDirection, setSwipeOutDirection] = React.useState(null);\n    const [mounted, setMounted] = React.useState(false);\n    const [removed, setRemoved] = React.useState(false);\n    const [swiping, setSwiping] = React.useState(false);\n    const [swipeOut, setSwipeOut] = React.useState(false);\n    const [isSwiped, setIsSwiped] = React.useState(false);\n    const [offsetBeforeRemove, setOffsetBeforeRemove] = React.useState(0);\n    const [initialHeight, setInitialHeight] = React.useState(0);\n    const remainingTime = React.useRef(toast.duration || durationFromToaster || TOAST_LIFETIME);\n    const dragStartTime = React.useRef(null);\n    const toastRef = React.useRef(null);\n    const isFront = index === 0;\n    const isVisible = index + 1 <= visibleToasts;\n    const toastType = toast.type;\n    const dismissible = toast.dismissible !== false;\n    const toastClassname = toast.className || '';\n    const toastDescriptionClassname = toast.descriptionClassName || '';\n    // Height index is used to calculate the offset as it gets updated before the toast array, which means we can calculate the new layout faster.\n    const heightIndex = React.useMemo(()=>heights.findIndex((height)=>height.toastId === toast.id) || 0, [\n        heights,\n        toast.id\n    ]);\n    const closeButton = React.useMemo(()=>{\n        var _toast_closeButton;\n        return (_toast_closeButton = toast.closeButton) != null ? _toast_closeButton : closeButtonFromToaster;\n    }, [\n        toast.closeButton,\n        closeButtonFromToaster\n    ]);\n    const duration = React.useMemo(()=>toast.duration || durationFromToaster || TOAST_LIFETIME, [\n        toast.duration,\n        durationFromToaster\n    ]);\n    const closeTimerStartTimeRef = React.useRef(0);\n    const offset = React.useRef(0);\n    const lastCloseTimerStartTimeRef = React.useRef(0);\n    const pointerStartRef = React.useRef(null);\n    const [y, x] = position.split('-');\n    const toastsHeightBefore = React.useMemo(()=>{\n        return heights.reduce((prev, curr, reducerIndex)=>{\n            // Calculate offset up until current toast\n            if (reducerIndex >= heightIndex) {\n                return prev;\n            }\n            return prev + curr.height;\n        }, 0);\n    }, [\n        heights,\n        heightIndex\n    ]);\n    const isDocumentHidden = useIsDocumentHidden();\n    const invert = toast.invert || ToasterInvert;\n    const disabled = toastType === 'loading';\n    offset.current = React.useMemo(()=>heightIndex * gap + toastsHeightBefore, [\n        heightIndex,\n        toastsHeightBefore\n    ]);\n    React.useEffect(()=>{\n        remainingTime.current = duration;\n    }, [\n        duration\n    ]);\n    React.useEffect(()=>{\n        // Trigger enter animation without using CSS animation\n        setMounted(true);\n    }, []);\n    React.useEffect(()=>{\n        const toastNode = toastRef.current;\n        if (toastNode) {\n            const height = toastNode.getBoundingClientRect().height;\n            // Add toast height to heights array after the toast is mounted\n            setInitialHeight(height);\n            setHeights((h)=>[\n                    {\n                        toastId: toast.id,\n                        height,\n                        position: toast.position\n                    },\n                    ...h\n                ]);\n            return ()=>setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));\n        }\n    }, [\n        setHeights,\n        toast.id\n    ]);\n    React.useLayoutEffect(()=>{\n        // Keep height up to date with the content in case it updates\n        if (!mounted) return;\n        const toastNode = toastRef.current;\n        const originalHeight = toastNode.style.height;\n        toastNode.style.height = 'auto';\n        const newHeight = toastNode.getBoundingClientRect().height;\n        toastNode.style.height = originalHeight;\n        setInitialHeight(newHeight);\n        setHeights((heights)=>{\n            const alreadyExists = heights.find((height)=>height.toastId === toast.id);\n            if (!alreadyExists) {\n                return [\n                    {\n                        toastId: toast.id,\n                        height: newHeight,\n                        position: toast.position\n                    },\n                    ...heights\n                ];\n            } else {\n                return heights.map((height)=>height.toastId === toast.id ? {\n                        ...height,\n                        height: newHeight\n                    } : height);\n            }\n        });\n    }, [\n        mounted,\n        toast.title,\n        toast.description,\n        setHeights,\n        toast.id,\n        toast.jsx,\n        toast.action,\n        toast.cancel\n    ]);\n    const deleteToast = React.useCallback(()=>{\n        // Save the offset for the exit swipe animation\n        setRemoved(true);\n        setOffsetBeforeRemove(offset.current);\n        setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));\n        setTimeout(()=>{\n            removeToast(toast);\n        }, TIME_BEFORE_UNMOUNT);\n    }, [\n        toast,\n        removeToast,\n        setHeights,\n        offset\n    ]);\n    React.useEffect(()=>{\n        if (toast.promise && toastType === 'loading' || toast.duration === Infinity || toast.type === 'loading') return;\n        let timeoutId;\n        // Pause the timer on each hover\n        const pauseTimer = ()=>{\n            if (lastCloseTimerStartTimeRef.current < closeTimerStartTimeRef.current) {\n                // Get the elapsed time since the timer started\n                const elapsedTime = new Date().getTime() - closeTimerStartTimeRef.current;\n                remainingTime.current = remainingTime.current - elapsedTime;\n            }\n            lastCloseTimerStartTimeRef.current = new Date().getTime();\n        };\n        const startTimer = ()=>{\n            // setTimeout(, Infinity) behaves as if the delay is 0.\n            // As a result, the toast would be closed immediately, giving the appearance that it was never rendered.\n            // See: https://github.com/denysdovhan/wtfjs?tab=readme-ov-file#an-infinite-timeout\n            if (remainingTime.current === Infinity) return;\n            closeTimerStartTimeRef.current = new Date().getTime();\n            // Let the toast know it has started\n            timeoutId = setTimeout(()=>{\n                toast.onAutoClose == null ? void 0 : toast.onAutoClose.call(toast, toast);\n                deleteToast();\n            }, remainingTime.current);\n        };\n        if (expanded || interacting || isDocumentHidden) {\n            pauseTimer();\n        } else {\n            startTimer();\n        }\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        expanded,\n        interacting,\n        toast,\n        toastType,\n        isDocumentHidden,\n        deleteToast\n    ]);\n    React.useEffect(()=>{\n        if (toast.delete) {\n            deleteToast();\n            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n        }\n    }, [\n        deleteToast,\n        toast.delete\n    ]);\n    function getLoadingIcon() {\n        var _toast_classNames;\n        if (icons == null ? void 0 : icons.loading) {\n            var _toast_classNames1;\n            return /*#__PURE__*/ React.createElement(\"div\", {\n                className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1.loader, 'sonner-loader'),\n                \"data-visible\": toastType === 'loading'\n            }, icons.loading);\n        }\n        return /*#__PURE__*/ React.createElement(Loader, {\n            className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.loader),\n            visible: toastType === 'loading'\n        });\n    }\n    const icon = toast.icon || (icons == null ? void 0 : icons[toastType]) || getAsset(toastType);\n    var _toast_richColors, _icons_close;\n    return /*#__PURE__*/ React.createElement(\"li\", {\n        tabIndex: 0,\n        ref: toastRef,\n        className: cn(className, toastClassname, classNames == null ? void 0 : classNames.toast, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.toast, classNames == null ? void 0 : classNames.default, classNames == null ? void 0 : classNames[toastType], toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1[toastType]),\n        \"data-sonner-toast\": \"\",\n        \"data-rich-colors\": (_toast_richColors = toast.richColors) != null ? _toast_richColors : defaultRichColors,\n        \"data-styled\": !Boolean(toast.jsx || toast.unstyled || unstyled),\n        \"data-mounted\": mounted,\n        \"data-promise\": Boolean(toast.promise),\n        \"data-swiped\": isSwiped,\n        \"data-removed\": removed,\n        \"data-visible\": isVisible,\n        \"data-y-position\": y,\n        \"data-x-position\": x,\n        \"data-index\": index,\n        \"data-front\": isFront,\n        \"data-swiping\": swiping,\n        \"data-dismissible\": dismissible,\n        \"data-type\": toastType,\n        \"data-invert\": invert,\n        \"data-swipe-out\": swipeOut,\n        \"data-swipe-direction\": swipeOutDirection,\n        \"data-expanded\": Boolean(expanded || expandByDefault && mounted),\n        \"data-testid\": toast.testId,\n        style: {\n            '--index': index,\n            '--toasts-before': index,\n            '--z-index': toasts.length - index,\n            '--offset': `${removed ? offsetBeforeRemove : offset.current}px`,\n            '--initial-height': expandByDefault ? 'auto' : `${initialHeight}px`,\n            ...style,\n            ...toast.style\n        },\n        onDragEnd: ()=>{\n            setSwiping(false);\n            setSwipeDirection(null);\n            pointerStartRef.current = null;\n        },\n        onPointerDown: (event)=>{\n            if (event.button === 2) return; // Return early on right click\n            if (disabled || !dismissible) return;\n            dragStartTime.current = new Date();\n            setOffsetBeforeRemove(offset.current);\n            // Ensure we maintain correct pointer capture even when going outside of the toast (e.g. when swiping)\n            event.target.setPointerCapture(event.pointerId);\n            if (event.target.tagName === 'BUTTON') return;\n            setSwiping(true);\n            pointerStartRef.current = {\n                x: event.clientX,\n                y: event.clientY\n            };\n        },\n        onPointerUp: ()=>{\n            var _toastRef_current, _toastRef_current1, _dragStartTime_current;\n            if (swipeOut || !dismissible) return;\n            pointerStartRef.current = null;\n            const swipeAmountX = Number(((_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.getPropertyValue('--swipe-amount-x').replace('px', '')) || 0);\n            const swipeAmountY = Number(((_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.getPropertyValue('--swipe-amount-y').replace('px', '')) || 0);\n            const timeTaken = new Date().getTime() - ((_dragStartTime_current = dragStartTime.current) == null ? void 0 : _dragStartTime_current.getTime());\n            const swipeAmount = swipeDirection === 'x' ? swipeAmountX : swipeAmountY;\n            const velocity = Math.abs(swipeAmount) / timeTaken;\n            if (Math.abs(swipeAmount) >= SWIPE_THRESHOLD || velocity > 0.11) {\n                setOffsetBeforeRemove(offset.current);\n                toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n                if (swipeDirection === 'x') {\n                    setSwipeOutDirection(swipeAmountX > 0 ? 'right' : 'left');\n                } else {\n                    setSwipeOutDirection(swipeAmountY > 0 ? 'down' : 'up');\n                }\n                deleteToast();\n                setSwipeOut(true);\n                return;\n            } else {\n                var _toastRef_current2, _toastRef_current3;\n                (_toastRef_current2 = toastRef.current) == null ? void 0 : _toastRef_current2.style.setProperty('--swipe-amount-x', `0px`);\n                (_toastRef_current3 = toastRef.current) == null ? void 0 : _toastRef_current3.style.setProperty('--swipe-amount-y', `0px`);\n            }\n            setIsSwiped(false);\n            setSwiping(false);\n            setSwipeDirection(null);\n        },\n        onPointerMove: (event)=>{\n            var _window_getSelection, // Apply transform using both x and y values\n            _toastRef_current, _toastRef_current1;\n            if (!pointerStartRef.current || !dismissible) return;\n            const isHighlighted = ((_window_getSelection = window.getSelection()) == null ? void 0 : _window_getSelection.toString().length) > 0;\n            if (isHighlighted) return;\n            const yDelta = event.clientY - pointerStartRef.current.y;\n            const xDelta = event.clientX - pointerStartRef.current.x;\n            var _props_swipeDirections;\n            const swipeDirections = (_props_swipeDirections = props.swipeDirections) != null ? _props_swipeDirections : getDefaultSwipeDirections(position);\n            // Determine swipe direction if not already locked\n            if (!swipeDirection && (Math.abs(xDelta) > 1 || Math.abs(yDelta) > 1)) {\n                setSwipeDirection(Math.abs(xDelta) > Math.abs(yDelta) ? 'x' : 'y');\n            }\n            let swipeAmount = {\n                x: 0,\n                y: 0\n            };\n            const getDampening = (delta)=>{\n                const factor = Math.abs(delta) / 20;\n                return 1 / (1.5 + factor);\n            };\n            // Only apply swipe in the locked direction\n            if (swipeDirection === 'y') {\n                // Handle vertical swipes\n                if (swipeDirections.includes('top') || swipeDirections.includes('bottom')) {\n                    if (swipeDirections.includes('top') && yDelta < 0 || swipeDirections.includes('bottom') && yDelta > 0) {\n                        swipeAmount.y = yDelta;\n                    } else {\n                        // Smoothly transition to dampened movement\n                        const dampenedDelta = yDelta * getDampening(yDelta);\n                        // Ensure we don't jump when transitioning to dampened movement\n                        swipeAmount.y = Math.abs(dampenedDelta) < Math.abs(yDelta) ? dampenedDelta : yDelta;\n                    }\n                }\n            } else if (swipeDirection === 'x') {\n                // Handle horizontal swipes\n                if (swipeDirections.includes('left') || swipeDirections.includes('right')) {\n                    if (swipeDirections.includes('left') && xDelta < 0 || swipeDirections.includes('right') && xDelta > 0) {\n                        swipeAmount.x = xDelta;\n                    } else {\n                        // Smoothly transition to dampened movement\n                        const dampenedDelta = xDelta * getDampening(xDelta);\n                        // Ensure we don't jump when transitioning to dampened movement\n                        swipeAmount.x = Math.abs(dampenedDelta) < Math.abs(xDelta) ? dampenedDelta : xDelta;\n                    }\n                }\n            }\n            if (Math.abs(swipeAmount.x) > 0 || Math.abs(swipeAmount.y) > 0) {\n                setIsSwiped(true);\n            }\n            (_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.setProperty('--swipe-amount-x', `${swipeAmount.x}px`);\n            (_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.setProperty('--swipe-amount-y', `${swipeAmount.y}px`);\n        }\n    }, closeButton && !toast.jsx && toastType !== 'loading' ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"aria-label\": closeButtonAriaLabel,\n        \"data-disabled\": disabled,\n        \"data-close-button\": true,\n        onClick: disabled || !dismissible ? ()=>{} : ()=>{\n            deleteToast();\n            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);\n        },\n        className: cn(classNames == null ? void 0 : classNames.closeButton, toast == null ? void 0 : (_toast_classNames2 = toast.classNames) == null ? void 0 : _toast_classNames2.closeButton)\n    }, (_icons_close = icons == null ? void 0 : icons.close) != null ? _icons_close : CloseIcon) : null, (toastType || toast.icon || toast.promise) && toast.icon !== null && ((icons == null ? void 0 : icons[toastType]) !== null || toast.icon) ? /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-icon\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.icon, toast == null ? void 0 : (_toast_classNames3 = toast.classNames) == null ? void 0 : _toast_classNames3.icon)\n    }, toast.promise || toast.type === 'loading' && !toast.icon ? toast.icon || getLoadingIcon() : null, toast.type !== 'loading' ? icon : null) : null, /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-content\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.content, toast == null ? void 0 : (_toast_classNames4 = toast.classNames) == null ? void 0 : _toast_classNames4.content)\n    }, /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-title\": \"\",\n        className: cn(classNames == null ? void 0 : classNames.title, toast == null ? void 0 : (_toast_classNames5 = toast.classNames) == null ? void 0 : _toast_classNames5.title)\n    }, toast.jsx ? toast.jsx : typeof toast.title === 'function' ? toast.title() : toast.title), toast.description ? /*#__PURE__*/ React.createElement(\"div\", {\n        \"data-description\": \"\",\n        className: cn(descriptionClassName, toastDescriptionClassname, classNames == null ? void 0 : classNames.description, toast == null ? void 0 : (_toast_classNames6 = toast.classNames) == null ? void 0 : _toast_classNames6.description)\n    }, typeof toast.description === 'function' ? toast.description() : toast.description) : null), /*#__PURE__*/ React.isValidElement(toast.cancel) ? toast.cancel : toast.cancel && isAction(toast.cancel) ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"data-button\": true,\n        \"data-cancel\": true,\n        style: toast.cancelButtonStyle || cancelButtonStyle,\n        onClick: (event)=>{\n            // We need to check twice because typescript\n            if (!isAction(toast.cancel)) return;\n            if (!dismissible) return;\n            toast.cancel.onClick == null ? void 0 : toast.cancel.onClick.call(toast.cancel, event);\n            deleteToast();\n        },\n        className: cn(classNames == null ? void 0 : classNames.cancelButton, toast == null ? void 0 : (_toast_classNames7 = toast.classNames) == null ? void 0 : _toast_classNames7.cancelButton)\n    }, toast.cancel.label) : null, /*#__PURE__*/ React.isValidElement(toast.action) ? toast.action : toast.action && isAction(toast.action) ? /*#__PURE__*/ React.createElement(\"button\", {\n        \"data-button\": true,\n        \"data-action\": true,\n        style: toast.actionButtonStyle || actionButtonStyle,\n        onClick: (event)=>{\n            // We need to check twice because typescript\n            if (!isAction(toast.action)) return;\n            toast.action.onClick == null ? void 0 : toast.action.onClick.call(toast.action, event);\n            if (event.defaultPrevented) return;\n            deleteToast();\n        },\n        className: cn(classNames == null ? void 0 : classNames.actionButton, toast == null ? void 0 : (_toast_classNames8 = toast.classNames) == null ? void 0 : _toast_classNames8.actionButton)\n    }, toast.action.label) : null);\n};\nfunction getDocumentDirection() {\n    if (typeof window === 'undefined') return 'ltr';\n    if (typeof document === 'undefined') return 'ltr'; // For Fresh purpose\n    const dirAttribute = document.documentElement.getAttribute('dir');\n    if (dirAttribute === 'auto' || !dirAttribute) {\n        return window.getComputedStyle(document.documentElement).direction;\n    }\n    return dirAttribute;\n}\nfunction assignOffset(defaultOffset, mobileOffset) {\n    const styles = {};\n    [\n        defaultOffset,\n        mobileOffset\n    ].forEach((offset, index)=>{\n        const isMobile = index === 1;\n        const prefix = isMobile ? '--mobile-offset' : '--offset';\n        const defaultValue = isMobile ? MOBILE_VIEWPORT_OFFSET : VIEWPORT_OFFSET;\n        function assignAll(offset) {\n            [\n                'top',\n                'right',\n                'bottom',\n                'left'\n            ].forEach((key)=>{\n                styles[`${prefix}-${key}`] = typeof offset === 'number' ? `${offset}px` : offset;\n            });\n        }\n        if (typeof offset === 'number' || typeof offset === 'string') {\n            assignAll(offset);\n        } else if (typeof offset === 'object') {\n            [\n                'top',\n                'right',\n                'bottom',\n                'left'\n            ].forEach((key)=>{\n                if (offset[key] === undefined) {\n                    styles[`${prefix}-${key}`] = defaultValue;\n                } else {\n                    styles[`${prefix}-${key}`] = typeof offset[key] === 'number' ? `${offset[key]}px` : offset[key];\n                }\n            });\n        } else {\n            assignAll(defaultValue);\n        }\n    });\n    return styles;\n}\nfunction useSonner() {\n    const [activeToasts, setActiveToasts] = React.useState([]);\n    React.useEffect(()=>{\n        return ToastState.subscribe((toast)=>{\n            if (toast.dismiss) {\n                setTimeout(()=>{\n                    ReactDOM.flushSync(()=>{\n                        setActiveToasts((toasts)=>toasts.filter((t)=>t.id !== toast.id));\n                    });\n                });\n                return;\n            }\n            // Prevent batching, temp solution.\n            setTimeout(()=>{\n                ReactDOM.flushSync(()=>{\n                    setActiveToasts((toasts)=>{\n                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);\n                        // Update the toast if it already exists\n                        if (indexOfExistingToast !== -1) {\n                            return [\n                                ...toasts.slice(0, indexOfExistingToast),\n                                {\n                                    ...toasts[indexOfExistingToast],\n                                    ...toast\n                                },\n                                ...toasts.slice(indexOfExistingToast + 1)\n                            ];\n                        }\n                        return [\n                            toast,\n                            ...toasts\n                        ];\n                    });\n                });\n            });\n        });\n    }, []);\n    return {\n        toasts: activeToasts\n    };\n}\nconst Toaster = /*#__PURE__*/ React.forwardRef(function Toaster(props, ref) {\n    const { id, invert, position = 'bottom-right', hotkey = [\n        'altKey',\n        'KeyT'\n    ], expand, closeButton, className, offset, mobileOffset, theme = 'light', richColors, duration, style, visibleToasts = VISIBLE_TOASTS_AMOUNT, toastOptions, dir = getDocumentDirection(), gap = GAP, icons, containerAriaLabel = 'Notifications' } = props;\n    const [toasts, setToasts] = React.useState([]);\n    const filteredToasts = React.useMemo(()=>{\n        if (id) {\n            return toasts.filter((toast)=>toast.toasterId === id);\n        }\n        return toasts.filter((toast)=>!toast.toasterId);\n    }, [\n        toasts,\n        id\n    ]);\n    const possiblePositions = React.useMemo(()=>{\n        return Array.from(new Set([\n            position\n        ].concat(filteredToasts.filter((toast)=>toast.position).map((toast)=>toast.position))));\n    }, [\n        filteredToasts,\n        position\n    ]);\n    const [heights, setHeights] = React.useState([]);\n    const [expanded, setExpanded] = React.useState(false);\n    const [interacting, setInteracting] = React.useState(false);\n    const [actualTheme, setActualTheme] = React.useState(theme !== 'system' ? theme : typeof window !== 'undefined' ? window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' : 'light');\n    const listRef = React.useRef(null);\n    const hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n    const lastFocusedElementRef = React.useRef(null);\n    const isFocusWithinRef = React.useRef(false);\n    const removeToast = React.useCallback((toastToRemove)=>{\n        setToasts((toasts)=>{\n            var _toasts_find;\n            if (!((_toasts_find = toasts.find((toast)=>toast.id === toastToRemove.id)) == null ? void 0 : _toasts_find.delete)) {\n                ToastState.dismiss(toastToRemove.id);\n            }\n            return toasts.filter(({ id })=>id !== toastToRemove.id);\n        });\n    }, []);\n    React.useEffect(()=>{\n        return ToastState.subscribe((toast)=>{\n            if (toast.dismiss) {\n                // Prevent batching of other state updates\n                requestAnimationFrame(()=>{\n                    setToasts((toasts)=>toasts.map((t)=>t.id === toast.id ? {\n                                ...t,\n                                delete: true\n                            } : t));\n                });\n                return;\n            }\n            // Prevent batching, temp solution.\n            setTimeout(()=>{\n                ReactDOM.flushSync(()=>{\n                    setToasts((toasts)=>{\n                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);\n                        // Update the toast if it already exists\n                        if (indexOfExistingToast !== -1) {\n                            return [\n                                ...toasts.slice(0, indexOfExistingToast),\n                                {\n                                    ...toasts[indexOfExistingToast],\n                                    ...toast\n                                },\n                                ...toasts.slice(indexOfExistingToast + 1)\n                            ];\n                        }\n                        return [\n                            toast,\n                            ...toasts\n                        ];\n                    });\n                });\n            });\n        });\n    }, [\n        toasts\n    ]);\n    React.useEffect(()=>{\n        if (theme !== 'system') {\n            setActualTheme(theme);\n            return;\n        }\n        if (theme === 'system') {\n            // check if current preference is dark\n            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n                // it's currently dark\n                setActualTheme('dark');\n            } else {\n                // it's not dark\n                setActualTheme('light');\n            }\n        }\n        if (typeof window === 'undefined') return;\n        const darkMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n        try {\n            // Chrome & Firefox\n            darkMediaQuery.addEventListener('change', ({ matches })=>{\n                if (matches) {\n                    setActualTheme('dark');\n                } else {\n                    setActualTheme('light');\n                }\n            });\n        } catch (error) {\n            // Safari < 14\n            darkMediaQuery.addListener(({ matches })=>{\n                try {\n                    if (matches) {\n                        setActualTheme('dark');\n                    } else {\n                        setActualTheme('light');\n                    }\n                } catch (e) {\n                    console.error(e);\n                }\n            });\n        }\n    }, [\n        theme\n    ]);\n    React.useEffect(()=>{\n        // Ensure expanded is always false when no toasts are present / only one left\n        if (toasts.length <= 1) {\n            setExpanded(false);\n        }\n    }, [\n        toasts\n    ]);\n    React.useEffect(()=>{\n        const handleKeyDown = (event)=>{\n            var _listRef_current;\n            const isHotkeyPressed = hotkey.every((key)=>event[key] || event.code === key);\n            if (isHotkeyPressed) {\n                var _listRef_current1;\n                setExpanded(true);\n                (_listRef_current1 = listRef.current) == null ? void 0 : _listRef_current1.focus();\n            }\n            if (event.code === 'Escape' && (document.activeElement === listRef.current || ((_listRef_current = listRef.current) == null ? void 0 : _listRef_current.contains(document.activeElement)))) {\n                setExpanded(false);\n            }\n        };\n        document.addEventListener('keydown', handleKeyDown);\n        return ()=>document.removeEventListener('keydown', handleKeyDown);\n    }, [\n        hotkey\n    ]);\n    React.useEffect(()=>{\n        if (listRef.current) {\n            return ()=>{\n                if (lastFocusedElementRef.current) {\n                    lastFocusedElementRef.current.focus({\n                        preventScroll: true\n                    });\n                    lastFocusedElementRef.current = null;\n                    isFocusWithinRef.current = false;\n                }\n            };\n        }\n    }, [\n        listRef.current\n    ]);\n    return(// Remove item from normal navigation flow, only available via hotkey\n    /*#__PURE__*/ React.createElement(\"section\", {\n        ref: ref,\n        \"aria-label\": `${containerAriaLabel} ${hotkeyLabel}`,\n        tabIndex: -1,\n        \"aria-live\": \"polite\",\n        \"aria-relevant\": \"additions text\",\n        \"aria-atomic\": \"false\",\n        suppressHydrationWarning: true\n    }, possiblePositions.map((position, index)=>{\n        var _heights_;\n        const [y, x] = position.split('-');\n        if (!filteredToasts.length) return null;\n        return /*#__PURE__*/ React.createElement(\"ol\", {\n            key: position,\n            dir: dir === 'auto' ? getDocumentDirection() : dir,\n            tabIndex: -1,\n            ref: listRef,\n            className: className,\n            \"data-sonner-toaster\": true,\n            \"data-sonner-theme\": actualTheme,\n            \"data-y-position\": y,\n            \"data-x-position\": x,\n            style: {\n                '--front-toast-height': `${((_heights_ = heights[0]) == null ? void 0 : _heights_.height) || 0}px`,\n                '--width': `${TOAST_WIDTH}px`,\n                '--gap': `${gap}px`,\n                ...style,\n                ...assignOffset(offset, mobileOffset)\n            },\n            onBlur: (event)=>{\n                if (isFocusWithinRef.current && !event.currentTarget.contains(event.relatedTarget)) {\n                    isFocusWithinRef.current = false;\n                    if (lastFocusedElementRef.current) {\n                        lastFocusedElementRef.current.focus({\n                            preventScroll: true\n                        });\n                        lastFocusedElementRef.current = null;\n                    }\n                }\n            },\n            onFocus: (event)=>{\n                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';\n                if (isNotDismissible) return;\n                if (!isFocusWithinRef.current) {\n                    isFocusWithinRef.current = true;\n                    lastFocusedElementRef.current = event.relatedTarget;\n                }\n            },\n            onMouseEnter: ()=>setExpanded(true),\n            onMouseMove: ()=>setExpanded(true),\n            onMouseLeave: ()=>{\n                // Avoid setting expanded to false when interacting with a toast, e.g. swiping\n                if (!interacting) {\n                    setExpanded(false);\n                }\n            },\n            onDragEnd: ()=>setExpanded(false),\n            onPointerDown: (event)=>{\n                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';\n                if (isNotDismissible) return;\n                setInteracting(true);\n            },\n            onPointerUp: ()=>setInteracting(false)\n        }, filteredToasts.filter((toast)=>!toast.position && index === 0 || toast.position === position).map((toast, index)=>{\n            var _toastOptions_duration, _toastOptions_closeButton;\n            return /*#__PURE__*/ React.createElement(Toast, {\n                key: toast.id,\n                icons: icons,\n                index: index,\n                toast: toast,\n                defaultRichColors: richColors,\n                duration: (_toastOptions_duration = toastOptions == null ? void 0 : toastOptions.duration) != null ? _toastOptions_duration : duration,\n                className: toastOptions == null ? void 0 : toastOptions.className,\n                descriptionClassName: toastOptions == null ? void 0 : toastOptions.descriptionClassName,\n                invert: invert,\n                visibleToasts: visibleToasts,\n                closeButton: (_toastOptions_closeButton = toastOptions == null ? void 0 : toastOptions.closeButton) != null ? _toastOptions_closeButton : closeButton,\n                interacting: interacting,\n                position: position,\n                style: toastOptions == null ? void 0 : toastOptions.style,\n                unstyled: toastOptions == null ? void 0 : toastOptions.unstyled,\n                classNames: toastOptions == null ? void 0 : toastOptions.classNames,\n                cancelButtonStyle: toastOptions == null ? void 0 : toastOptions.cancelButtonStyle,\n                actionButtonStyle: toastOptions == null ? void 0 : toastOptions.actionButtonStyle,\n                closeButtonAriaLabel: toastOptions == null ? void 0 : toastOptions.closeButtonAriaLabel,\n                removeToast: removeToast,\n                toasts: filteredToasts.filter((t)=>t.position == toast.position),\n                heights: heights.filter((h)=>h.position == toast.position),\n                setHeights: setHeights,\n                expandByDefault: expand,\n                gap: gap,\n                expanded: expanded,\n                swipeDirections: props.swipeDirections\n            });\n        }));\n    })));\n});\n\nexport { Toaster, toast, useSonner };\n","\"use client\";\n\n// src/index.ts\nimport * as Devtools from \"./ReactQueryDevtools.js\";\nimport * as DevtoolsPanel from \"./ReactQueryDevtoolsPanel.js\";\nvar ReactQueryDevtools2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : Devtools.ReactQueryDevtools;\nvar ReactQueryDevtoolsPanel2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : DevtoolsPanel.ReactQueryDevtoolsPanel;\nexport {\n  ReactQueryDevtools2 as ReactQueryDevtools,\n  ReactQueryDevtoolsPanel2 as ReactQueryDevtoolsPanel\n};\n//# sourceMappingURL=index.js.map","import {QueryClient} from '@tanstack/react-query'\r\n\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 1000 * 60 * 5, // 5 minutes\r\n      gcTime: 1000 * 60 * 30, // 30 minutes (formerly cacheTime)\r\n      retry: (failureCount, error) => {\r\n        // Don't retry on 401, 403, 404\r\n        if (error instanceof Error && error.message.includes('401')) return false\r\n        if (error instanceof Error && error.message.includes('403')) return false\r\n        if (error instanceof Error && error.message.includes('404')) return false\r\n        \r\n        // Retry up to 2 times for other errors\r\n        return failureCount < 2\r\n      },\r\n      refetchOnWindowFocus: false,\r\n    },\r\n    mutations: {\r\n      retry: false,\r\n    },\r\n  },\r\n})\r\n\r\n// Query Keys\r\nexport const QUERY_KEYS = {\r\n  GAME: {\r\n    STATUS: (gameId: string) => ['game', 'status', gameId],\r\n    PLAYERS: (gameId: string) => ['game', 'players', gameId],\r\n    RESULTS: (gameId: string) => ['game', 'results', gameId],\r\n  },\r\n  PLAYER: {\r\n    PROFILE: (playerId: string) => ['player', 'profile', playerId],\r\n  },\r\n  ROUND: {\r\n    RESULTS: (gameId: string, round: number) => ['round', 'results', gameId, round],\r\n  },\r\n  REALTIME: {\r\n    READY_STATUS: (gameNumber: number) => ['realtime', 'ready-status', gameNumber],\r\n    COUNTDOWN: (gameNumber: number) => ['realtime', 'countdown', gameNumber],\r\n    CONNECTION_STATUS: (gameNumber: number) => ['realtime', 'connection-status', gameNumber],\r\n    VOTING_STATUS: (gameNumber: number) => ['realtime', 'voting-status', gameNumber],\r\n  }\r\n} as const","// src/visually-hidden.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...props,\n        ref: forwardedRef,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style }\n      }\n    );\n  }\n);\nVisuallyHidden.displayName = NAME;\nvar Root = VisuallyHidden;\nexport {\n  Root,\n  VISUALLY_HIDDEN_STYLES,\n  VisuallyHidden\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/toast.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport * as DismissableLayer from \"@radix-ui/react-dismissable-layer\";\nimport { Portal } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar PROVIDER_NAME = \"ToastProvider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(\"Toast\");\nvar [createToastContext, createToastScope] = createContextScope(\"Toast\", [createCollectionScope]);\nvar [ToastProviderProvider, useToastProviderContext] = createToastContext(PROVIDER_NAME);\nvar ToastProvider = (props) => {\n  const {\n    __scopeToast,\n    label = \"Notification\",\n    duration = 5e3,\n    swipeDirection = \"right\",\n    swipeThreshold = 50,\n    children\n  } = props;\n  const [viewport, setViewport] = React.useState(null);\n  const [toastCount, setToastCount] = React.useState(0);\n  const isFocusedToastEscapeKeyDownRef = React.useRef(false);\n  const isClosePausedRef = React.useRef(false);\n  if (!label.trim()) {\n    console.error(\n      `Invalid prop \\`label\\` supplied to \\`${PROVIDER_NAME}\\`. Expected non-empty \\`string\\`.`\n    );\n  }\n  return /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n    ToastProviderProvider,\n    {\n      scope: __scopeToast,\n      label,\n      duration,\n      swipeDirection,\n      swipeThreshold,\n      toastCount,\n      viewport,\n      onViewportChange: setViewport,\n      onToastAdd: React.useCallback(() => setToastCount((prevCount) => prevCount + 1), []),\n      onToastRemove: React.useCallback(() => setToastCount((prevCount) => prevCount - 1), []),\n      isFocusedToastEscapeKeyDownRef,\n      isClosePausedRef,\n      children\n    }\n  ) });\n};\nToastProvider.displayName = PROVIDER_NAME;\nvar VIEWPORT_NAME = \"ToastViewport\";\nvar VIEWPORT_DEFAULT_HOTKEY = [\"F8\"];\nvar VIEWPORT_PAUSE = \"toast.viewportPause\";\nvar VIEWPORT_RESUME = \"toast.viewportResume\";\nvar ToastViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      hotkey = VIEWPORT_DEFAULT_HOTKEY,\n      label = \"Notifications ({hotkey})\",\n      ...viewportProps\n    } = props;\n    const context = useToastProviderContext(VIEWPORT_NAME, __scopeToast);\n    const getItems = useCollection(__scopeToast);\n    const wrapperRef = React.useRef(null);\n    const headFocusProxyRef = React.useRef(null);\n    const tailFocusProxyRef = React.useRef(null);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    const hotkeyLabel = hotkey.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\");\n    const hasToasts = context.toastCount > 0;\n    React.useEffect(() => {\n      const handleKeyDown = (event) => {\n        const isHotkeyPressed = hotkey.length !== 0 && hotkey.every((key) => event[key] || event.code === key);\n        if (isHotkeyPressed) ref.current?.focus();\n      };\n      document.addEventListener(\"keydown\", handleKeyDown);\n      return () => document.removeEventListener(\"keydown\", handleKeyDown);\n    }, [hotkey]);\n    React.useEffect(() => {\n      const wrapper = wrapperRef.current;\n      const viewport = ref.current;\n      if (hasToasts && wrapper && viewport) {\n        const handlePause = () => {\n          if (!context.isClosePausedRef.current) {\n            const pauseEvent = new CustomEvent(VIEWPORT_PAUSE);\n            viewport.dispatchEvent(pauseEvent);\n            context.isClosePausedRef.current = true;\n          }\n        };\n        const handleResume = () => {\n          if (context.isClosePausedRef.current) {\n            const resumeEvent = new CustomEvent(VIEWPORT_RESUME);\n            viewport.dispatchEvent(resumeEvent);\n            context.isClosePausedRef.current = false;\n          }\n        };\n        const handleFocusOutResume = (event) => {\n          const isFocusMovingOutside = !wrapper.contains(event.relatedTarget);\n          if (isFocusMovingOutside) handleResume();\n        };\n        const handlePointerLeaveResume = () => {\n          const isFocusInside = wrapper.contains(document.activeElement);\n          if (!isFocusInside) handleResume();\n        };\n        wrapper.addEventListener(\"focusin\", handlePause);\n        wrapper.addEventListener(\"focusout\", handleFocusOutResume);\n        wrapper.addEventListener(\"pointermove\", handlePause);\n        wrapper.addEventListener(\"pointerleave\", handlePointerLeaveResume);\n        window.addEventListener(\"blur\", handlePause);\n        window.addEventListener(\"focus\", handleResume);\n        return () => {\n          wrapper.removeEventListener(\"focusin\", handlePause);\n          wrapper.removeEventListener(\"focusout\", handleFocusOutResume);\n          wrapper.removeEventListener(\"pointermove\", handlePause);\n          wrapper.removeEventListener(\"pointerleave\", handlePointerLeaveResume);\n          window.removeEventListener(\"blur\", handlePause);\n          window.removeEventListener(\"focus\", handleResume);\n        };\n      }\n    }, [hasToasts, context.isClosePausedRef]);\n    const getSortedTabbableCandidates = React.useCallback(\n      ({ tabbingDirection }) => {\n        const toastItems = getItems();\n        const tabbableCandidates = toastItems.map((toastItem) => {\n          const toastNode = toastItem.ref.current;\n          const toastTabbableCandidates = [toastNode, ...getTabbableCandidates(toastNode)];\n          return tabbingDirection === \"forwards\" ? toastTabbableCandidates : toastTabbableCandidates.reverse();\n        });\n        return (tabbingDirection === \"forwards\" ? tabbableCandidates.reverse() : tabbableCandidates).flat();\n      },\n      [getItems]\n    );\n    React.useEffect(() => {\n      const viewport = ref.current;\n      if (viewport) {\n        const handleKeyDown = (event) => {\n          const isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n          const isTabKey = event.key === \"Tab\" && !isMetaKey;\n          if (isTabKey) {\n            const focusedElement = document.activeElement;\n            const isTabbingBackwards = event.shiftKey;\n            const targetIsViewport = event.target === viewport;\n            if (targetIsViewport && isTabbingBackwards) {\n              headFocusProxyRef.current?.focus();\n              return;\n            }\n            const tabbingDirection = isTabbingBackwards ? \"backwards\" : \"forwards\";\n            const sortedCandidates = getSortedTabbableCandidates({ tabbingDirection });\n            const index = sortedCandidates.findIndex((candidate) => candidate === focusedElement);\n            if (focusFirst(sortedCandidates.slice(index + 1))) {\n              event.preventDefault();\n            } else {\n              isTabbingBackwards ? headFocusProxyRef.current?.focus() : tailFocusProxyRef.current?.focus();\n            }\n          }\n        };\n        viewport.addEventListener(\"keydown\", handleKeyDown);\n        return () => viewport.removeEventListener(\"keydown\", handleKeyDown);\n      }\n    }, [getItems, getSortedTabbableCandidates]);\n    return /* @__PURE__ */ jsxs(\n      DismissableLayer.Branch,\n      {\n        ref: wrapperRef,\n        role: \"region\",\n        \"aria-label\": label.replace(\"{hotkey}\", hotkeyLabel),\n        tabIndex: -1,\n        style: { pointerEvents: hasToasts ? void 0 : \"none\" },\n        children: [\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: headFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"forwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          ),\n          /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(Primitive.ol, { tabIndex: -1, ...viewportProps, ref: composedRefs }) }),\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: tailFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"backwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          )\n        ]\n      }\n    );\n  }\n);\nToastViewport.displayName = VIEWPORT_NAME;\nvar FOCUS_PROXY_NAME = \"ToastFocusProxy\";\nvar FocusProxy = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, onFocusFromOutsideViewport, ...proxyProps } = props;\n    const context = useToastProviderContext(FOCUS_PROXY_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(\n      VisuallyHidden,\n      {\n        tabIndex: 0,\n        ...proxyProps,\n        ref: forwardedRef,\n        style: { position: \"fixed\" },\n        onFocus: (event) => {\n          const prevFocusedElement = event.relatedTarget;\n          const isFocusFromOutsideViewport = !context.viewport?.contains(prevFocusedElement);\n          if (isFocusFromOutsideViewport) onFocusFromOutsideViewport();\n        }\n      }\n    );\n  }\n);\nFocusProxy.displayName = FOCUS_PROXY_NAME;\nvar TOAST_NAME = \"Toast\";\nvar TOAST_SWIPE_START = \"toast.swipeStart\";\nvar TOAST_SWIPE_MOVE = \"toast.swipeMove\";\nvar TOAST_SWIPE_CANCEL = \"toast.swipeCancel\";\nvar TOAST_SWIPE_END = \"toast.swipeEnd\";\nvar Toast = React.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, open: openProp, defaultOpen, onOpenChange, ...toastProps } = props;\n    const [open, setOpen] = useControllableState({\n      prop: openProp,\n      defaultProp: defaultOpen ?? true,\n      onChange: onOpenChange,\n      caller: TOAST_NAME\n    });\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || open, children: /* @__PURE__ */ jsx(\n      ToastImpl,\n      {\n        open,\n        ...toastProps,\n        ref: forwardedRef,\n        onClose: () => setOpen(false),\n        onPause: useCallbackRef(props.onPause),\n        onResume: useCallbackRef(props.onResume),\n        onSwipeStart: composeEventHandlers(props.onSwipeStart, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"start\");\n        }),\n        onSwipeMove: composeEventHandlers(props.onSwipeMove, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"move\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-y\", `${y}px`);\n        }),\n        onSwipeCancel: composeEventHandlers(props.onSwipeCancel, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"cancel\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-y\");\n        }),\n        onSwipeEnd: composeEventHandlers(props.onSwipeEnd, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"end\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-y\", `${y}px`);\n          setOpen(false);\n        })\n      }\n    ) });\n  }\n);\nToast.displayName = TOAST_NAME;\nvar [ToastInteractiveProvider, useToastInteractiveContext] = createToastContext(TOAST_NAME, {\n  onClose() {\n  }\n});\nvar ToastImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      type = \"foreground\",\n      duration: durationProp,\n      open,\n      onClose,\n      onEscapeKeyDown,\n      onPause,\n      onResume,\n      onSwipeStart,\n      onSwipeMove,\n      onSwipeCancel,\n      onSwipeEnd,\n      ...toastProps\n    } = props;\n    const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n    const [node, setNode] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const pointerStartRef = React.useRef(null);\n    const swipeDeltaRef = React.useRef(null);\n    const duration = durationProp || context.duration;\n    const closeTimerStartTimeRef = React.useRef(0);\n    const closeTimerRemainingTimeRef = React.useRef(duration);\n    const closeTimerRef = React.useRef(0);\n    const { onToastAdd, onToastRemove } = context;\n    const handleClose = useCallbackRef(() => {\n      const isFocusInToast = node?.contains(document.activeElement);\n      if (isFocusInToast) context.viewport?.focus();\n      onClose();\n    });\n    const startTimer = React.useCallback(\n      (duration2) => {\n        if (!duration2 || duration2 === Infinity) return;\n        window.clearTimeout(closeTimerRef.current);\n        closeTimerStartTimeRef.current = (/* @__PURE__ */ new Date()).getTime();\n        closeTimerRef.current = window.setTimeout(handleClose, duration2);\n      },\n      [handleClose]\n    );\n    React.useEffect(() => {\n      const viewport = context.viewport;\n      if (viewport) {\n        const handleResume = () => {\n          startTimer(closeTimerRemainingTimeRef.current);\n          onResume?.();\n        };\n        const handlePause = () => {\n          const elapsedTime = (/* @__PURE__ */ new Date()).getTime() - closeTimerStartTimeRef.current;\n          closeTimerRemainingTimeRef.current = closeTimerRemainingTimeRef.current - elapsedTime;\n          window.clearTimeout(closeTimerRef.current);\n          onPause?.();\n        };\n        viewport.addEventListener(VIEWPORT_PAUSE, handlePause);\n        viewport.addEventListener(VIEWPORT_RESUME, handleResume);\n        return () => {\n          viewport.removeEventListener(VIEWPORT_PAUSE, handlePause);\n          viewport.removeEventListener(VIEWPORT_RESUME, handleResume);\n        };\n      }\n    }, [context.viewport, duration, onPause, onResume, startTimer]);\n    React.useEffect(() => {\n      if (open && !context.isClosePausedRef.current) startTimer(duration);\n    }, [open, duration, context.isClosePausedRef, startTimer]);\n    React.useEffect(() => {\n      onToastAdd();\n      return () => onToastRemove();\n    }, [onToastAdd, onToastRemove]);\n    const announceTextContent = React.useMemo(() => {\n      return node ? getAnnounceTextContent(node) : null;\n    }, [node]);\n    if (!context.viewport) return null;\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      announceTextContent && /* @__PURE__ */ jsx(\n        ToastAnnounce,\n        {\n          __scopeToast,\n          role: \"status\",\n          \"aria-live\": type === \"foreground\" ? \"assertive\" : \"polite\",\n          children: announceTextContent\n        }\n      ),\n      /* @__PURE__ */ jsx(ToastInteractiveProvider, { scope: __scopeToast, onClose: handleClose, children: ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n          DismissableLayer.Root,\n          {\n            asChild: true,\n            onEscapeKeyDown: composeEventHandlers(onEscapeKeyDown, () => {\n              if (!context.isFocusedToastEscapeKeyDownRef.current) handleClose();\n              context.isFocusedToastEscapeKeyDownRef.current = false;\n            }),\n            children: /* @__PURE__ */ jsx(\n              Primitive.li,\n              {\n                tabIndex: 0,\n                \"data-state\": open ? \"open\" : \"closed\",\n                \"data-swipe-direction\": context.swipeDirection,\n                ...toastProps,\n                ref: composedRefs,\n                style: { userSelect: \"none\", touchAction: \"none\", ...props.style },\n                onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n                  if (event.key !== \"Escape\") return;\n                  onEscapeKeyDown?.(event.nativeEvent);\n                  if (!event.nativeEvent.defaultPrevented) {\n                    context.isFocusedToastEscapeKeyDownRef.current = true;\n                    handleClose();\n                  }\n                }),\n                onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n                  if (event.button !== 0) return;\n                  pointerStartRef.current = { x: event.clientX, y: event.clientY };\n                }),\n                onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n                  if (!pointerStartRef.current) return;\n                  const x = event.clientX - pointerStartRef.current.x;\n                  const y = event.clientY - pointerStartRef.current.y;\n                  const hasSwipeMoveStarted = Boolean(swipeDeltaRef.current);\n                  const isHorizontalSwipe = [\"left\", \"right\"].includes(context.swipeDirection);\n                  const clamp = [\"left\", \"up\"].includes(context.swipeDirection) ? Math.min : Math.max;\n                  const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n                  const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n                  const moveStartBuffer = event.pointerType === \"touch\" ? 10 : 2;\n                  const delta = { x: clampedX, y: clampedY };\n                  const eventDetail = { originalEvent: event, delta };\n                  if (hasSwipeMoveStarted) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE, onSwipeMove, eventDetail, {\n                      discrete: false\n                    });\n                  } else if (isDeltaInDirection(delta, context.swipeDirection, moveStartBuffer)) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_START, onSwipeStart, eventDetail, {\n                      discrete: false\n                    });\n                    event.target.setPointerCapture(event.pointerId);\n                  } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n                    pointerStartRef.current = null;\n                  }\n                }),\n                onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n                  const delta = swipeDeltaRef.current;\n                  const target = event.target;\n                  if (target.hasPointerCapture(event.pointerId)) {\n                    target.releasePointerCapture(event.pointerId);\n                  }\n                  swipeDeltaRef.current = null;\n                  pointerStartRef.current = null;\n                  if (delta) {\n                    const toast = event.currentTarget;\n                    const eventDetail = { originalEvent: event, delta };\n                    if (isDeltaInDirection(delta, context.swipeDirection, context.swipeThreshold)) {\n                      handleAndDispatchCustomEvent(TOAST_SWIPE_END, onSwipeEnd, eventDetail, {\n                        discrete: true\n                      });\n                    } else {\n                      handleAndDispatchCustomEvent(\n                        TOAST_SWIPE_CANCEL,\n                        onSwipeCancel,\n                        eventDetail,\n                        {\n                          discrete: true\n                        }\n                      );\n                    }\n                    toast.addEventListener(\"click\", (event2) => event2.preventDefault(), {\n                      once: true\n                    });\n                  }\n                })\n              }\n            )\n          }\n        ) }),\n        context.viewport\n      ) })\n    ] });\n  }\n);\nvar ToastAnnounce = (props) => {\n  const { __scopeToast, children, ...announceProps } = props;\n  const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n  const [renderAnnounceText, setRenderAnnounceText] = React.useState(false);\n  const [isAnnounced, setIsAnnounced] = React.useState(false);\n  useNextFrame(() => setRenderAnnounceText(true));\n  React.useEffect(() => {\n    const timer = window.setTimeout(() => setIsAnnounced(true), 1e3);\n    return () => window.clearTimeout(timer);\n  }, []);\n  return isAnnounced ? null : /* @__PURE__ */ jsx(Portal, { asChild: true, children: /* @__PURE__ */ jsx(VisuallyHidden, { ...announceProps, children: renderAnnounceText && /* @__PURE__ */ jsxs(Fragment, { children: [\n    context.label,\n    \" \",\n    children\n  ] }) }) });\n};\nvar TITLE_NAME = \"ToastTitle\";\nvar ToastTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...titleProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...titleProps, ref: forwardedRef });\n  }\n);\nToastTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"ToastDescription\";\nvar ToastDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...descriptionProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...descriptionProps, ref: forwardedRef });\n  }\n);\nToastDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"ToastAction\";\nvar ToastAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { altText, ...actionProps } = props;\n    if (!altText.trim()) {\n      console.error(\n        `Invalid prop \\`altText\\` supplied to \\`${ACTION_NAME}\\`. Expected non-empty \\`string\\`.`\n      );\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { altText, asChild: true, children: /* @__PURE__ */ jsx(ToastClose, { ...actionProps, ref: forwardedRef }) });\n  }\n);\nToastAction.displayName = ACTION_NAME;\nvar CLOSE_NAME = \"ToastClose\";\nvar ToastClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...closeProps } = props;\n    const interactiveContext = useToastInteractiveContext(CLOSE_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { asChild: true, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, interactiveContext.onClose)\n      }\n    ) });\n  }\n);\nToastClose.displayName = CLOSE_NAME;\nvar ToastAnnounceExclude = React.forwardRef((props, forwardedRef) => {\n  const { __scopeToast, altText, ...announceExcludeProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-radix-toast-announce-exclude\": \"\",\n      \"data-radix-toast-announce-alt\": altText || void 0,\n      ...announceExcludeProps,\n      ref: forwardedRef\n    }\n  );\n});\nfunction getAnnounceTextContent(container) {\n  const textContent = [];\n  const childNodes = Array.from(container.childNodes);\n  childNodes.forEach((node) => {\n    if (node.nodeType === node.TEXT_NODE && node.textContent) textContent.push(node.textContent);\n    if (isHTMLElement(node)) {\n      const isHidden = node.ariaHidden || node.hidden || node.style.display === \"none\";\n      const isExcluded = node.dataset.radixToastAnnounceExclude === \"\";\n      if (!isHidden) {\n        if (isExcluded) {\n          const altText = node.dataset.radixToastAnnounceAlt;\n          if (altText) textContent.push(altText);\n        } else {\n          textContent.push(...getAnnounceTextContent(node));\n        }\n      }\n    }\n  });\n  return textContent;\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const currentTarget = detail.originalEvent.currentTarget;\n  const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n  if (handler) currentTarget.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(currentTarget, event);\n  } else {\n    currentTarget.dispatchEvent(event);\n  }\n}\nvar isDeltaInDirection = (delta, direction, threshold = 0) => {\n  const deltaX = Math.abs(delta.x);\n  const deltaY = Math.abs(delta.y);\n  const isDeltaX = deltaX > deltaY;\n  if (direction === \"left\" || direction === \"right\") {\n    return isDeltaX && deltaX > threshold;\n  } else {\n    return !isDeltaX && deltaY > threshold;\n  }\n};\nfunction useNextFrame(callback = () => {\n}) {\n  const fn = useCallbackRef(callback);\n  useLayoutEffect(() => {\n    let raf1 = 0;\n    let raf2 = 0;\n    raf1 = window.requestAnimationFrame(() => raf2 = window.requestAnimationFrame(fn));\n    return () => {\n      window.cancelAnimationFrame(raf1);\n      window.cancelAnimationFrame(raf2);\n    };\n  }, [fn]);\n}\nfunction isHTMLElement(node) {\n  return node.nodeType === node.ELEMENT_NODE;\n}\nfunction getTabbableCandidates(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nfunction focusFirst(candidates) {\n  const previouslyFocusedElement = document.activeElement;\n  return candidates.some((candidate) => {\n    if (candidate === previouslyFocusedElement) return true;\n    candidate.focus();\n    return document.activeElement !== previouslyFocusedElement;\n  });\n}\nvar Provider = ToastProvider;\nvar Viewport = ToastViewport;\nvar Root2 = Toast;\nvar Title = ToastTitle;\nvar Description = ToastDescription;\nvar Action = ToastAction;\nvar Close = ToastClose;\nexport {\n  Action,\n  Close,\n  Description,\n  Provider,\n  Root2 as Root,\n  Title,\n  Toast,\n  ToastAction,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n  Viewport,\n  createToastScope\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import {type ClassValue, clsx} from \"clsx\"\r\nimport {twMerge} from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatTime(seconds: number): string {\r\n  const minutes = Math.floor(seconds / 60)\r\n  const remainingSeconds = seconds % 60\r\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\r\n}\r\n\r\nexport function capitalizeFirst(str: string): string {\r\n  return str.charAt(0).toUpperCase() + str.slice(1)\r\n}\r\n\r\nexport function generateId(): string {\r\n  return Math.random().toString(36).substr(2, 9)\r\n}\r\n\r\nexport function sleep(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}","import * as React from \"react\"\r\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\r\nimport {cva, type VariantProps} from \"class-variance-authority\"\r\nimport {X} from \"lucide-react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst ToastProvider = ToastPrimitives.Provider\r\n\r\nconst ToastViewport = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Viewport\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\r\n\r\nconst toastVariants = cva(\r\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border bg-background text-foreground\",\r\n        destructive:\r\n          \"destructive border-destructive bg-destructive text-destructive-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Toast = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\r\n    VariantProps<typeof toastVariants>\r\n>(({ className, variant, ...props }, ref) => {\r\n  return (\r\n    <ToastPrimitives.Root\r\n      ref={ref}\r\n      className={cn(toastVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nToast.displayName = ToastPrimitives.Root.displayName\r\n\r\nconst ToastAction = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Action>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Action\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-xs font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastAction.displayName = ToastPrimitives.Action.displayName\r\n\r\nconst ToastClose = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Close>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Close\r\n    ref={ref}\r\n    className={cn(\r\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\r\n      className\r\n    )}\r\n    toast-close=\"\"\r\n    {...props}\r\n  >\r\n    <X className=\"h-4 w-4\" />\r\n  </ToastPrimitives.Close>\r\n))\r\nToastClose.displayName = ToastPrimitives.Close.displayName\r\n\r\nconst ToastTitle = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Title>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Title\r\n    ref={ref}\r\n    className={cn(\"text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastTitle.displayName = ToastPrimitives.Title.displayName\r\n\r\nconst ToastDescription = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Description>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm opacity-90\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastDescription.displayName = ToastPrimitives.Description.displayName\r\n\r\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\r\n\r\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\r\n\r\nexport {\r\n  type ToastProps,\r\n  type ToastActionElement,\r\n  ToastProvider,\r\n  ToastViewport,\r\n  Toast,\r\n  ToastTitle,\r\n  ToastDescription,\r\n  ToastClose,\r\n  ToastAction,\r\n}","import * as React from \"react\"\r\n\r\nimport type {ToastActionElement, ToastProps,} from \"../components/ui/toast\"\r\n\r\nconst TOAST_LIMIT = 1\r\nconst TOAST_REMOVE_DELAY = 1000000\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string\r\n  title?: React.ReactNode\r\n  description?: React.ReactNode\r\n  action?: ToastActionElement\r\n}\r\n\r\n\r\nlet count = 0\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\r\n  return count.toString()\r\n}\r\n\r\ntype Action =\r\n  | {\r\n      type: 'ADD_TOAST'\r\n      toast: ToasterToast\r\n    }\r\n  | {\r\n      type: 'UPDATE_TOAST'\r\n      toast: Partial<ToasterToast>\r\n    }\r\n  | {\r\n      type: 'DISMISS_TOAST'\r\n      toastId?: ToasterToast['id']\r\n    }\r\n  | {\r\n      type: 'REMOVE_TOAST'\r\n      toastId?: ToasterToast['id']\r\n    }\r\n\r\ninterface State {\r\n  toasts: ToasterToast[]\r\n}\r\n\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId)\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    })\r\n  }, TOAST_REMOVE_DELAY)\r\n\r\n  toastTimeouts.set(toastId, timeout)\r\n}\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      }\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      }\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action\r\n\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId)\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id)\r\n        })\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t\r\n        ),\r\n      }\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      }\r\n  }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = []\r\n\r\nlet memoryState: State = { toasts: [] }\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action)\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState)\r\n  })\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId()\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    })\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss()\r\n      },\r\n    },\r\n  })\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  }\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState)\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState)\r\n    return () => {\r\n      const index = listeners.indexOf(setState)\r\n      if (index > -1) {\r\n        listeners.splice(index, 1)\r\n      }\r\n    }\r\n  }, [state])\r\n\r\n  return {\r\n    ...state,\r\n    toast: Object.assign(toast, {\r\n      success: (title: string, description?: string) =>\r\n        toast({ title, description, variant: \"default\" }),\r\n      error: (title: string, description?: string) =>\r\n        toast({ title, description, variant: \"destructive\" }),\r\n      info: (title: string, description?: string) =>\r\n        toast({ title, description, variant: \"default\" }),\r\n    }),\r\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  }\r\n}\r\n\r\nexport { useToast, toast }","import {Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport,} from \"@/components/ui/toast\"\r\nimport {useToast} from \"@/hooks/useToast\"\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast()\r\n\r\n  return (\r\n    <ToastProvider>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast key={id} {...props}>\r\n            <div className=\"grid gap-1\">\r\n              {title && <ToastTitle>{title}</ToastTitle>}\r\n              {description && (\r\n                <ToastDescription>{description}</ToastDescription>\r\n              )}\r\n            </div>\r\n            {action}\r\n            <ToastClose />\r\n          </Toast>\r\n        )\r\n      })}\r\n      <ToastViewport />\r\n    </ToastProvider>\r\n  )\r\n}","import tokens from '../design-tokens.json' assert { type: 'json' };\nexport const stelliveTokens = tokens;\nexport const availableThemes = Object.freeze(Object.keys(tokens.themes));\nexport function getThemeToken(theme = 'light') {\n    return stelliveTokens.themes[theme] ?? stelliveTokens.themes.light;\n}\nexport function getThemePalette(theme = 'light') {\n    return getThemeToken(theme).palette;\n}\nexport function withThemeFallback(theme) {\n    if (!theme || !availableThemes.includes(theme)) {\n        return 'light';\n    }\n    return theme;\n}\n","import { stelliveTokens, withThemeFallback } from '../tokens';\nconst MOTION_DURATION_SUFFIXES = new Set(['duration']);\nfunction formatValue(value, keyPath) {\n    if (typeof value === 'number' && keyPath.some((segment) => MOTION_DURATION_SUFFIXES.has(segment))) {\n        return `${value}ms`;\n    }\n    if (typeof value === 'number') {\n        return value.toString();\n    }\n    return String(value);\n}\nfunction appendVariables(result, prefix, value, options) {\n    if (value === null || value === undefined) {\n        return;\n    }\n    if (typeof value === 'object' && !Array.isArray(value)) {\n        for (const [key, nested] of Object.entries(value)) {\n            appendVariables(result, [...prefix, key], nested, options);\n        }\n        return;\n    }\n    const key = `--${prefix.join('-')}`;\n    if (options.reducedMotion && key.includes('-motion-duration-')) {\n        result[key] = '0ms';\n        return;\n    }\n    result[key] = formatValue(value, prefix);\n}\nexport function createCSSVariables({ theme = 'light', prefix = 'stellive', reducedMotion = false } = {}) {\n    const resolvedTheme = withThemeFallback(theme);\n    const themeTokens = stelliveTokens.themes[resolvedTheme] ?? stelliveTokens.themes.light;\n    const cssVarMap = {};\n    const namespace = (path) => [prefix, ...path];\n    appendVariables(cssVarMap, namespace(['theme', 'name']), resolvedTheme, { reducedMotion });\n    const { themes, typography, spacing, radii, shadows, blurs, opacity, motion, zIndex, breakpoints, gradients, elevation, componentDefaults } = stelliveTokens;\n    appendVariables(cssVarMap, namespace(['color']), themes[resolvedTheme].palette, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['typography']), typography, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['spacing']), spacing, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['radius']), radii, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['shadow']), shadows, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['blur']), blurs, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['opacity']), opacity, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['motion']), motion, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['z-index']), zIndex, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['breakpoint']), breakpoints, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['gradient']), gradients, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['elevation']), elevation, { reducedMotion });\n    appendVariables(cssVarMap, namespace(['component']), componentDefaults, { reducedMotion });\n    const semanticAliases = {\n        '--background': themeTokens.palette.background.default,\n        '--background-raised': themeTokens.palette.background.raised,\n        '--surface': themeTokens.palette.surface.base,\n        '--surface-overlay': themeTokens.palette.surface.overlay,\n        '--surface-glass': themeTokens.palette.surface.glass,\n        '--surface-sunken': themeTokens.palette.surface.sunken,\n        '--foreground': themeTokens.palette.text.primary,\n        '--foreground-muted': themeTokens.palette.text.muted,\n        '--foreground-secondary': themeTokens.palette.text.secondary,\n        '--foreground-inverse': themeTokens.palette.text.inverse,\n        '--border': themeTokens.palette.border.subtle,\n        '--border-strong': themeTokens.palette.border.strong,\n        '--border-accent': themeTokens.palette.border.accent,\n        '--input': themeTokens.palette.border.subtle,\n        '--ring': themeTokens.palette.primary['400'],\n        '--primary': themeTokens.palette.primary['500'],\n        '--primary-foreground': themeTokens.palette.text.inverse,\n        '--secondary': themeTokens.palette.secondary['500'],\n        '--secondary-foreground': themeTokens.palette.text.inverse,\n        '--accent': themeTokens.palette.accent['500'],\n        '--accent-foreground': themeTokens.palette.text.inverse,\n        '--muted': themeTokens.palette.neutral['700'],\n        '--muted-foreground': themeTokens.palette.text.muted,\n        '--card': themeTokens.palette.surface.base,\n        '--card-foreground': themeTokens.palette.text.primary,\n        '--popover': themeTokens.palette.surface.overlay,\n        '--popover-foreground': themeTokens.palette.text.primary,\n        '--destructive': themeTokens.palette.danger['500'],\n        '--destructive-foreground': themeTokens.palette.text.inverse,\n        '--success': themeTokens.palette.success['500'],\n        '--success-foreground': themeTokens.palette.text.inverse,\n        '--warning': themeTokens.palette.warning['500'],\n        '--warning-foreground': themeTokens.palette.text.inverse,\n        '--info': themeTokens.palette.info['500'],\n        '--info-foreground': themeTokens.palette.text.inverse,\n        '--radius': stelliveTokens.radii.lg,\n        '--radius-card': stelliveTokens.radii.xl,\n        '--radius-pill': stelliveTokens.radii.pill,\n        '--shadow-card': stelliveTokens.shadows.md,\n        '--shadow-card-strong': stelliveTokens.shadows.lg,\n        '--font-family-base': stelliveTokens.typography.families.sans,\n        '--blur-card': stelliveTokens.blurs.md,\n        '--blur-overlay': stelliveTokens.blurs.lg,\n        '--gradient-primary': stelliveTokens.gradients.primary,\n        '--gradient-accent': stelliveTokens.gradients.accent,\n        '--gradient-secondary': stelliveTokens.gradients.secondary,\n        '--gradient-glass': stelliveTokens.gradients.glass\n    };\n    for (const [alias, value] of Object.entries(semanticAliases)) {\n        if (!value)\n            continue;\n        cssVarMap[alias] = String(value);\n    }\n    return cssVarMap;\n}\nexport function createThemeStyle({ theme = 'light', prefix, reducedMotion, selector = ':root' } = {}) {\n    const variables = createCSSVariables({ theme, prefix, reducedMotion });\n    const body = Object.entries(variables)\n        .map(([key, value]) => `  ${key}: ${value};`)\n        .join('\\n');\n    return `${selector} {\\n${body}\\n}`;\n}\nexport function getThemeNames() {\n    return Object.keys(stelliveTokens.themes);\n}\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, props) {\n  var refProp = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== refProp ? refProp : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(oldElement.type, newKey, oldElement.props);\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  Children = {\n    map: mapChildren,\n    forEach: function (children, forEachFunc, forEachContext) {\n      mapChildren(\n        children,\n        function () {\n          forEachFunc.apply(this, arguments);\n        },\n        forEachContext\n      );\n    },\n    count: function (children) {\n      var n = 0;\n      mapChildren(children, function () {\n        n++;\n      });\n      return n;\n    },\n    toArray: function (children) {\n      return (\n        mapChildren(children, function (child) {\n          return child;\n        }) || []\n      );\n    },\n    only: function (children) {\n      if (!isValidElement(children))\n        throw Error(\n          \"React.Children.only expected to receive a single React element child.\"\n        );\n      return children;\n    }\n  };\nexports.Activity = REACT_ACTIVITY_TYPE;\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useLayoutEffect, useMemo } from 'react';\nimport { createCSSVariables } from '../theme';\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nfunction toInlineStyle(variables, style) {\n    const result = { ...(style ?? {}) };\n    for (const [key, value] of Object.entries(variables)) {\n        // CSS custom properties can be assigned directly on the style object\n        ;\n        result[key] = value;\n    }\n    return result;\n}\nfunction applyToElement(element, variables) {\n    const previousValues = {};\n    for (const [key, value] of Object.entries(variables)) {\n        previousValues[key] = element.style.getPropertyValue(key);\n        element.style.setProperty(key, value);\n    }\n    return () => {\n        for (const [key, value] of Object.entries(previousValues)) {\n            if (value) {\n                element.style.setProperty(key, value);\n            }\n            else {\n                element.style.removeProperty(key);\n            }\n        }\n    };\n}\nexport function StelliveThemeProvider({ theme = 'light', prefix = 'stellive', reducedMotion = false, as: Component = 'div', className, style, children, attachToDocument = false, target }) {\n    const variables = useMemo(() => createCSSVariables({ theme, prefix, reducedMotion }), [theme, prefix, reducedMotion]);\n    useIsomorphicLayoutEffect(() => {\n        if (!attachToDocument)\n            return undefined;\n        const element = target ?? (typeof document !== 'undefined' ? document.documentElement : null);\n        if (!element)\n            return undefined;\n        const cleanupVars = applyToElement(element, variables);\n        const previousThemeAttr = element.getAttribute('data-stellive-theme');\n        element.setAttribute('data-stellive-theme', theme);\n        return () => {\n            cleanupVars();\n            if (previousThemeAttr) {\n                element.setAttribute('data-stellive-theme', previousThemeAttr);\n            }\n            else {\n                element.removeAttribute('data-stellive-theme');\n            }\n        };\n    }, [attachToDocument, target, variables, theme]);\n    if (attachToDocument) {\n        return _jsx(_Fragment, { children: children });\n    }\n    const inlineStyle = useMemo(() => toInlineStyle(variables, style), [variables, style]);\n    return (_jsx(Component, { className: className, style: inlineStyle, children: children }));\n}\n","import {createContext, useEffect, useState} from \"react\"\r\nimport {StelliveThemeProvider} from \"@stellive/ui\"\r\n\r\ntype Theme = \"dark\" | \"light\" | \"system\"\r\n\r\ntype ThemeProviderProps = {\r\n  children: React.ReactNode\r\n  defaultTheme?: Theme\r\n  storageKey?: string\r\n}\r\n\r\ntype ThemeProviderState = {\r\n  theme: Theme\r\n  setTheme: (theme: Theme) => void\r\n}\r\n\r\nconst initialState: ThemeProviderState = {\r\n  theme: \"system\",\r\n  setTheme: () => null,\r\n}\r\n\r\nexport const ThemeProviderContext = createContext<ThemeProviderState>(initialState)\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  defaultTheme = \"system\",\r\n  storageKey = \"vite-ui-theme\",\r\n  ...props\r\n}: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<Theme>(\r\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\r\n  )\r\n  const [resolvedTheme, setResolvedTheme] = useState<Exclude<Theme, \"system\">>(\"light\")\r\n  const [prefersMotionReduced, setPrefersMotionReduced] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return\r\n    }\r\n\r\n    const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\")\r\n    const update = () => setPrefersMotionReduced(mediaQuery.matches)\r\n    update()\r\n    mediaQuery.addEventListener(\"change\", update)\r\n\r\n    return () => {\r\n      mediaQuery.removeEventListener(\"change\", update)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return\r\n    }\r\n\r\n    const root = window.document.documentElement\r\n    const applyTheme = (nextTheme: Exclude<Theme, \"system\">) => {\r\n      root.classList.remove(\"light\", \"dark\")\r\n      root.classList.add(nextTheme)\r\n      setResolvedTheme(nextTheme)\r\n    }\r\n\r\n    if (theme === \"system\") {\r\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\"\r\n      applyTheme(systemTheme)\r\n      return\r\n    }\r\n\r\n    applyTheme(theme)\r\n  }, [theme])\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\" || theme !== \"system\") {\r\n      return\r\n    }\r\n\r\n    const root = window.document.documentElement\r\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\")\r\n    const handleChange = (event: MediaQueryListEvent) => {\r\n      const nextTheme: Exclude<Theme, \"system\"> = event.matches ? \"dark\" : \"light\"\r\n      root.classList.remove(\"light\", \"dark\")\r\n      root.classList.add(nextTheme)\r\n      setResolvedTheme(nextTheme)\r\n    }\r\n\r\n    mediaQuery.addEventListener(\"change\", handleChange)\r\n    return () => mediaQuery.removeEventListener(\"change\", handleChange)\r\n  }, [theme])\r\n\r\n  const value = {\r\n    theme,\r\n    setTheme: (theme: Theme) => {\r\n      localStorage.setItem(storageKey, theme)\r\n      setTheme(theme)\r\n    },\r\n  }\r\n\r\n  return (\r\n    <ThemeProviderContext.Provider {...props} value={value}>\r\n      <StelliveThemeProvider\r\n        theme={resolvedTheme}\r\n        attachToDocument\r\n        reducedMotion={prefersMotionReduced}\r\n      >\r\n        {children}\r\n      </StelliveThemeProvider>\r\n    </ThemeProviderContext.Provider>\r\n  )\r\n}\r\n","import * as React from \"react\"\r\nimport {Slot} from \"@radix-ui/react-slot\"\r\nimport {cva, type VariantProps} from \"class-variance-authority\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n        // Game-specific variants - improved with better contrast and accessibility\r\n        vote: \"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white border border-blue-500 hover:border-blue-400 shadow-lg hover:shadow-xl transition-all duration-200 focus:ring-2 focus:ring-blue-400 focus:ring-offset-2\",\r\n        danger: \"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white border border-red-500 hover:border-red-400 shadow-lg hover:shadow-xl transition-all duration-200 focus:ring-2 focus:ring-red-400 focus:ring-offset-2\",\r\n        success: \"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white border border-green-500 hover:border-green-400 shadow-lg hover:shadow-xl transition-all duration-200 focus:ring-2 focus:ring-green-400 focus:ring-offset-2\",\r\n        game: \"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white border border-purple-500 hover:border-purple-400 shadow-lg hover:shadow-xl transition-all duration-200 focus:ring-2 focus:ring-purple-400 focus:ring-offset-2\",\r\n        selected: \"bg-orange-600 hover:bg-orange-700 active:bg-orange-800 text-white border border-orange-500 hover:border-orange-400 shadow-xl transform scale-105 transition-all duration-200 ring-2 ring-orange-400 ring-offset-2\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n        xs: \"h-7 rounded-md px-2.5 text-xs\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }","import {useContext} from \"react\"\r\nimport {ThemeProviderContext} from \"@/components/common/ThemeProvider\"\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeProviderContext)\r\n\r\n  if (context === undefined)\r\n    throw new Error(\"useTheme must be used within a ThemeProvider\")\r\n\r\n  return context\r\n}","import {Moon, Sun} from \"lucide-react\"\r\nimport {Button} from \"@/components/ui/button\"\r\nimport {useTheme} from \"@/hooks/useTheme\"\r\n\r\nexport function ThemeToggle() {\r\n  const { theme, setTheme } = useTheme()\r\n\r\n  const toggleTheme = () => {\r\n    if (theme === \"light\") {\r\n      setTheme(\"dark\")\r\n    } else if (theme === \"dark\") {\r\n      setTheme(\"system\")\r\n    } else {\r\n      setTheme(\"light\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      onClick={toggleTheme}\r\n      className=\"relative\"\r\n    >\r\n      <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\r\n      <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\r\n      <span className=\"sr-only\">Toggle theme</span>\r\n    </Button>\r\n  )\r\n}","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","/**\n * @internal\n */\nexport function augmentWebsocket(webSocket, debug) {\n    webSocket.terminate = function () {\n        const noOp = () => { };\n        // set all callbacks to no op\n        this.onerror = noOp;\n        this.onmessage = noOp;\n        this.onopen = noOp;\n        const ts = new Date();\n        const id = Math.random().toString().substring(2, 8); // A simulated id\n        const origOnClose = this.onclose;\n        // Track delay in actual closure of the socket\n        this.onclose = closeEvent => {\n            const delay = new Date().getTime() - ts.getTime();\n            debug(`Discarded socket (#${id})  closed after ${delay}ms, with code/reason: ${closeEvent.code}/${closeEvent.reason}`);\n        };\n        this.close();\n        origOnClose?.call(webSocket, {\n            code: 4001,\n            reason: `Quick discarding socket (#${id}) without waiting for the shutdown sequence.`,\n            wasClean: false,\n        });\n    };\n}\n//# sourceMappingURL=augment-websocket.js.map","/**\n * Some byte values, used as per STOMP specifications.\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport const BYTE = {\n    // LINEFEED byte (octet 10)\n    LF: '\\x0A',\n    // NULL byte (octet 0)\n    NULL: '\\x00',\n};\n//# sourceMappingURL=byte.js.map","import { BYTE } from './byte.js';\n/**\n * Frame class represents a STOMP frame.\n *\n * @internal\n */\nexport class FrameImpl {\n    /**\n     * body of the frame\n     */\n    get body() {\n        if (!this._body && this.isBinaryBody) {\n            this._body = new TextDecoder().decode(this._binaryBody);\n        }\n        return this._body || '';\n    }\n    /**\n     * body as Uint8Array\n     */\n    get binaryBody() {\n        if (!this._binaryBody && !this.isBinaryBody) {\n            this._binaryBody = new TextEncoder().encode(this._body);\n        }\n        // At this stage it will definitely have a valid value\n        return this._binaryBody;\n    }\n    /**\n     * Frame constructor. `command`, `headers` and `body` are available as properties.\n     *\n     * @internal\n     */\n    constructor(params) {\n        const { command, headers, body, binaryBody, escapeHeaderValues, skipContentLengthHeader, } = params;\n        this.command = command;\n        this.headers = Object.assign({}, headers || {});\n        if (binaryBody) {\n            this._binaryBody = binaryBody;\n            this.isBinaryBody = true;\n        }\n        else {\n            this._body = body || '';\n            this.isBinaryBody = false;\n        }\n        this.escapeHeaderValues = escapeHeaderValues || false;\n        this.skipContentLengthHeader = skipContentLengthHeader || false;\n    }\n    /**\n     * deserialize a STOMP Frame from raw data.\n     *\n     * @internal\n     */\n    static fromRawFrame(rawFrame, escapeHeaderValues) {\n        const headers = {};\n        const trim = (str) => str.replace(/^\\s+|\\s+$/g, '');\n        // In case of repeated headers, as per standards, first value need to be used\n        for (const header of rawFrame.headers.reverse()) {\n            const idx = header.indexOf(':');\n            const key = trim(header[0]);\n            let value = trim(header[1]);\n            if (escapeHeaderValues &&\n                rawFrame.command !== 'CONNECT' &&\n                rawFrame.command !== 'CONNECTED') {\n                value = FrameImpl.hdrValueUnEscape(value);\n            }\n            headers[key] = value;\n        }\n        return new FrameImpl({\n            command: rawFrame.command,\n            headers,\n            binaryBody: rawFrame.binaryBody,\n            escapeHeaderValues,\n        });\n    }\n    /**\n     * @internal\n     */\n    toString() {\n        return this.serializeCmdAndHeaders();\n    }\n    /**\n     * serialize this Frame in a format suitable to be passed to WebSocket.\n     * If the body is string the output will be string.\n     * If the body is binary (i.e. of type Unit8Array) it will be serialized to ArrayBuffer.\n     *\n     * @internal\n     */\n    serialize() {\n        const cmdAndHeaders = this.serializeCmdAndHeaders();\n        if (this.isBinaryBody) {\n            return FrameImpl.toUnit8Array(cmdAndHeaders, this._binaryBody).buffer;\n        }\n        else {\n            return cmdAndHeaders + this._body + BYTE.NULL;\n        }\n    }\n    serializeCmdAndHeaders() {\n        const lines = [this.command];\n        if (this.skipContentLengthHeader) {\n            delete this.headers['content-length'];\n        }\n        for (const name of Object.keys(this.headers || {})) {\n            const value = this.headers[name];\n            if (this.escapeHeaderValues &&\n                this.command !== 'CONNECT' &&\n                this.command !== 'CONNECTED') {\n                lines.push(`${name}:${FrameImpl.hdrValueEscape(`${value}`)}`);\n            }\n            else {\n                lines.push(`${name}:${value}`);\n            }\n        }\n        if (this.isBinaryBody ||\n            (!this.isBodyEmpty() && !this.skipContentLengthHeader)) {\n            lines.push(`content-length:${this.bodyLength()}`);\n        }\n        return lines.join(BYTE.LF) + BYTE.LF + BYTE.LF;\n    }\n    isBodyEmpty() {\n        return this.bodyLength() === 0;\n    }\n    bodyLength() {\n        const binaryBody = this.binaryBody;\n        return binaryBody ? binaryBody.length : 0;\n    }\n    /**\n     * Compute the size of a UTF-8 string by counting its number of bytes\n     * (and not the number of characters composing the string)\n     */\n    static sizeOfUTF8(s) {\n        return s ? new TextEncoder().encode(s).length : 0;\n    }\n    static toUnit8Array(cmdAndHeaders, binaryBody) {\n        const uint8CmdAndHeaders = new TextEncoder().encode(cmdAndHeaders);\n        const nullTerminator = new Uint8Array([0]);\n        const uint8Frame = new Uint8Array(uint8CmdAndHeaders.length + binaryBody.length + nullTerminator.length);\n        uint8Frame.set(uint8CmdAndHeaders);\n        uint8Frame.set(binaryBody, uint8CmdAndHeaders.length);\n        uint8Frame.set(nullTerminator, uint8CmdAndHeaders.length + binaryBody.length);\n        return uint8Frame;\n    }\n    /**\n     * Serialize a STOMP frame as per STOMP standards, suitable to be sent to the STOMP broker.\n     *\n     * @internal\n     */\n    static marshall(params) {\n        const frame = new FrameImpl(params);\n        return frame.serialize();\n    }\n    /**\n     *  Escape header values\n     */\n    static hdrValueEscape(str) {\n        return str\n            .replace(/\\\\/g, '\\\\\\\\')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/:/g, '\\\\c');\n    }\n    /**\n     * UnEscape header values\n     */\n    static hdrValueUnEscape(str) {\n        return str\n            .replace(/\\\\r/g, '\\r')\n            .replace(/\\\\n/g, '\\n')\n            .replace(/\\\\c/g, ':')\n            .replace(/\\\\\\\\/g, '\\\\');\n    }\n}\n//# sourceMappingURL=frame-impl.js.map","/**\n * @internal\n */\nconst NULL = 0;\n/**\n * @internal\n */\nconst LF = 10;\n/**\n * @internal\n */\nconst CR = 13;\n/**\n * @internal\n */\nconst COLON = 58;\n/**\n * This is an evented, rec descent parser.\n * A stream of Octets can be passed and whenever it recognizes\n * a complete Frame or an incoming ping it will invoke the registered callbacks.\n *\n * All incoming Octets are fed into _onByte function.\n * Depending on current state the _onByte function keeps changing.\n * Depending on the state it keeps accumulating into _token and _results.\n * State is indicated by current value of _onByte, all states are named as _collect.\n *\n * STOMP standards https://stomp.github.io/stomp-specification-1.2.html\n * imply that all lengths are considered in bytes (instead of string lengths).\n * So, before actual parsing, if the incoming data is String it is converted to Octets.\n * This allows faithful implementation of the protocol and allows NULL Octets to be present in the body.\n *\n * There is no peek function on the incoming data.\n * When a state change occurs based on an Octet without consuming the Octet,\n * the Octet, after state change, is fed again (_reinjectByte).\n * This became possible as the state change can be determined by inspecting just one Octet.\n *\n * There are two modes to collect the body, if content-length header is there then it by counting Octets\n * otherwise it is determined by NULL terminator.\n *\n * Following the standards, the command and headers are converted to Strings\n * and the body is returned as Octets.\n * Headers are returned as an array and not as Hash - to allow multiple occurrence of an header.\n *\n * This parser does not use Regular Expressions as that can only operate on Strings.\n *\n * It handles if multiple STOMP frames are given as one chunk, a frame is split into multiple chunks, or\n * any combination there of. The parser remembers its state (any partial frame) and continues when a new chunk\n * is pushed.\n *\n * Typically the higher level function will convert headers to Hash, handle unescaping of header values\n * (which is protocol version specific), and convert body to text.\n *\n * Check the parser.spec.js to understand cases that this parser is supposed to handle.\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport class Parser {\n    constructor(onFrame, onIncomingPing) {\n        this.onFrame = onFrame;\n        this.onIncomingPing = onIncomingPing;\n        this._encoder = new TextEncoder();\n        this._decoder = new TextDecoder();\n        this._token = [];\n        this._initState();\n    }\n    parseChunk(segment, appendMissingNULLonIncoming = false) {\n        let chunk;\n        if (typeof segment === 'string') {\n            chunk = this._encoder.encode(segment);\n        }\n        else {\n            chunk = new Uint8Array(segment);\n        }\n        // See https://github.com/stomp-js/stompjs/issues/89\n        // Remove when underlying issue is fixed.\n        //\n        // Send a NULL byte, if the last byte of a Text frame was not NULL.F\n        if (appendMissingNULLonIncoming && chunk[chunk.length - 1] !== 0) {\n            const chunkWithNull = new Uint8Array(chunk.length + 1);\n            chunkWithNull.set(chunk, 0);\n            chunkWithNull[chunk.length] = 0;\n            chunk = chunkWithNull;\n        }\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < chunk.length; i++) {\n            const byte = chunk[i];\n            this._onByte(byte);\n        }\n    }\n    // The following implements a simple Rec Descent Parser.\n    // The grammar is simple and just one byte tells what should be the next state\n    _collectFrame(byte) {\n        if (byte === NULL) {\n            // Ignore\n            return;\n        }\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            // Incoming Ping\n            this.onIncomingPing();\n            return;\n        }\n        this._onByte = this._collectCommand;\n        this._reinjectByte(byte);\n    }\n    _collectCommand(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._results.command = this._consumeTokenAsUTF8();\n            this._onByte = this._collectHeaders;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectHeaders(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._setupCollectBody();\n            return;\n        }\n        this._onByte = this._collectHeaderKey;\n        this._reinjectByte(byte);\n    }\n    _reinjectByte(byte) {\n        this._onByte(byte);\n    }\n    _collectHeaderKey(byte) {\n        if (byte === COLON) {\n            this._headerKey = this._consumeTokenAsUTF8();\n            this._onByte = this._collectHeaderValue;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectHeaderValue(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._results.headers.push([\n                this._headerKey,\n                this._consumeTokenAsUTF8(),\n            ]);\n            this._headerKey = undefined;\n            this._onByte = this._collectHeaders;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _setupCollectBody() {\n        const contentLengthHeader = this._results.headers.filter((header) => {\n            return header[0] === 'content-length';\n        })[0];\n        if (contentLengthHeader) {\n            this._bodyBytesRemaining = parseInt(contentLengthHeader[1], 10);\n            this._onByte = this._collectBodyFixedSize;\n        }\n        else {\n            this._onByte = this._collectBodyNullTerminated;\n        }\n    }\n    _collectBodyNullTerminated(byte) {\n        if (byte === NULL) {\n            this._retrievedBody();\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectBodyFixedSize(byte) {\n        // It is post decrement, so that we discard the trailing NULL octet\n        if (this._bodyBytesRemaining-- === 0) {\n            this._retrievedBody();\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _retrievedBody() {\n        this._results.binaryBody = this._consumeTokenAsRaw();\n        try {\n            this.onFrame(this._results);\n        }\n        catch (e) {\n            console.log(`Ignoring an exception thrown by a frame handler. Original exception: `, e);\n        }\n        this._initState();\n    }\n    // Rec Descent Parser helpers\n    _consumeByte(byte) {\n        this._token.push(byte);\n    }\n    _consumeTokenAsUTF8() {\n        return this._decoder.decode(this._consumeTokenAsRaw());\n    }\n    _consumeTokenAsRaw() {\n        const rawResult = new Uint8Array(this._token);\n        this._token = [];\n        return rawResult;\n    }\n    _initState() {\n        this._results = {\n            command: undefined,\n            headers: [],\n            binaryBody: undefined,\n        };\n        this._token = [];\n        this._headerKey = undefined;\n        this._onByte = this._collectFrame;\n    }\n}\n//# sourceMappingURL=parser.js.map","/**\n * Possible states for the IStompSocket\n */\nexport var StompSocketState;\n(function (StompSocketState) {\n    StompSocketState[StompSocketState[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    StompSocketState[StompSocketState[\"OPEN\"] = 1] = \"OPEN\";\n    StompSocketState[StompSocketState[\"CLOSING\"] = 2] = \"CLOSING\";\n    StompSocketState[StompSocketState[\"CLOSED\"] = 3] = \"CLOSED\";\n})(StompSocketState || (StompSocketState = {}));\n/**\n * Possible activation state\n */\nexport var ActivationState;\n(function (ActivationState) {\n    ActivationState[ActivationState[\"ACTIVE\"] = 0] = \"ACTIVE\";\n    ActivationState[ActivationState[\"DEACTIVATING\"] = 1] = \"DEACTIVATING\";\n    ActivationState[ActivationState[\"INACTIVE\"] = 2] = \"INACTIVE\";\n})(ActivationState || (ActivationState = {}));\n/**\n * Possible reconnection wait time modes\n */\nexport var ReconnectionTimeMode;\n(function (ReconnectionTimeMode) {\n    ReconnectionTimeMode[ReconnectionTimeMode[\"LINEAR\"] = 0] = \"LINEAR\";\n    ReconnectionTimeMode[ReconnectionTimeMode[\"EXPONENTIAL\"] = 1] = \"EXPONENTIAL\";\n})(ReconnectionTimeMode || (ReconnectionTimeMode = {}));\n/**\n * Possible ticker strategies for outgoing heartbeat ping\n */\nexport var TickerStrategy;\n(function (TickerStrategy) {\n    TickerStrategy[\"Interval\"] = \"interval\";\n    TickerStrategy[\"Worker\"] = \"worker\";\n})(TickerStrategy || (TickerStrategy = {}));\n//# sourceMappingURL=types.js.map","import { TickerStrategy } from './types.js';\nexport class Ticker {\n    constructor(_interval, _strategy = TickerStrategy.Interval, _debug) {\n        this._interval = _interval;\n        this._strategy = _strategy;\n        this._debug = _debug;\n        this._workerScript = `\n    var startTime = Date.now();\n    setInterval(function() {\n        self.postMessage(Date.now() - startTime);\n    }, ${this._interval});\n  `;\n    }\n    start(tick) {\n        this.stop();\n        if (this.shouldUseWorker()) {\n            this.runWorker(tick);\n        }\n        else {\n            this.runInterval(tick);\n        }\n    }\n    stop() {\n        this.disposeWorker();\n        this.disposeInterval();\n    }\n    shouldUseWorker() {\n        return (typeof Worker !== 'undefined' && this._strategy === TickerStrategy.Worker);\n    }\n    runWorker(tick) {\n        this._debug('Using runWorker for outgoing pings');\n        if (!this._worker) {\n            this._worker = new Worker(URL.createObjectURL(new Blob([this._workerScript], { type: 'text/javascript' })));\n            this._worker.onmessage = message => tick(message.data);\n        }\n    }\n    runInterval(tick) {\n        this._debug('Using runInterval for outgoing pings');\n        if (!this._timer) {\n            const startTime = Date.now();\n            this._timer = setInterval(() => {\n                tick(Date.now() - startTime);\n            }, this._interval);\n        }\n    }\n    disposeWorker() {\n        if (this._worker) {\n            this._worker.terminate();\n            delete this._worker;\n            this._debug('Outgoing ping disposeWorker');\n        }\n    }\n    disposeInterval() {\n        if (this._timer) {\n            clearInterval(this._timer);\n            delete this._timer;\n            this._debug('Outgoing ping disposeInterval');\n        }\n    }\n}\n//# sourceMappingURL=ticker.js.map","/**\n * Supported STOMP versions\n *\n * Part of `@stomp/stompjs`.\n */\nexport class Versions {\n    /**\n     * Takes an array of versions, typical elements '1.2', '1.1', or '1.0'\n     *\n     * You will be creating an instance of this class if you want to override\n     * supported versions to be declared during STOMP handshake.\n     */\n    constructor(versions) {\n        this.versions = versions;\n    }\n    /**\n     * Used as part of CONNECT STOMP Frame\n     */\n    supportedVersions() {\n        return this.versions.join(',');\n    }\n    /**\n     * Used while creating a WebSocket\n     */\n    protocolVersions() {\n        return this.versions.map(x => `v${x.replace('.', '')}.stomp`);\n    }\n}\n/**\n * Indicates protocol version 1.0\n */\nVersions.V1_0 = '1.0';\n/**\n * Indicates protocol version 1.1\n */\nVersions.V1_1 = '1.1';\n/**\n * Indicates protocol version 1.2\n */\nVersions.V1_2 = '1.2';\n/**\n * @internal\n */\nVersions.default = new Versions([\n    Versions.V1_2,\n    Versions.V1_1,\n    Versions.V1_0,\n]);\n//# sourceMappingURL=versions.js.map","import { augmentWebsocket } from './augment-websocket.js';\nimport { BYTE } from './byte.js';\nimport { FrameImpl } from './frame-impl.js';\nimport { Parser } from './parser.js';\nimport { Ticker } from './ticker.js';\nimport { StompSocketState, } from './types.js';\nimport { Versions } from './versions.js';\n/**\n * The STOMP protocol handler\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport class StompHandler {\n    get connectedVersion() {\n        return this._connectedVersion;\n    }\n    get connected() {\n        return this._connected;\n    }\n    constructor(_client, _webSocket, config) {\n        this._client = _client;\n        this._webSocket = _webSocket;\n        this._connected = false;\n        this._serverFrameHandlers = {\n            // [CONNECTED Frame](https://stomp.github.com/stomp-specification-1.2.html#CONNECTED_Frame)\n            CONNECTED: frame => {\n                this.debug(`connected to server ${frame.headers.server}`);\n                this._connected = true;\n                this._connectedVersion = frame.headers.version;\n                // STOMP version 1.2 needs header values to be escaped\n                if (this._connectedVersion === Versions.V1_2) {\n                    this._escapeHeaderValues = true;\n                }\n                this._setupHeartbeat(frame.headers);\n                this.onConnect(frame);\n            },\n            // [MESSAGE Frame](https://stomp.github.com/stomp-specification-1.2.html#MESSAGE)\n            MESSAGE: frame => {\n                // the callback is registered when the client calls\n                // `subscribe()`.\n                // If there is no registered subscription for the received message,\n                // the default `onUnhandledMessage` callback is used that the client can set.\n                // This is useful for subscriptions that are automatically created\n                // on the browser side (e.g. [RabbitMQ's temporary\n                // queues](https://www.rabbitmq.com/stomp.html)).\n                const subscription = frame.headers.subscription;\n                const onReceive = this._subscriptions[subscription] || this.onUnhandledMessage;\n                // bless the frame to be a Message\n                const message = frame;\n                const client = this;\n                const messageId = this._connectedVersion === Versions.V1_2\n                    ? message.headers.ack\n                    : message.headers['message-id'];\n                // add `ack()` and `nack()` methods directly to the returned frame\n                // so that a simple call to `message.ack()` can acknowledge the message.\n                message.ack = (headers = {}) => {\n                    return client.ack(messageId, subscription, headers);\n                };\n                message.nack = (headers = {}) => {\n                    return client.nack(messageId, subscription, headers);\n                };\n                onReceive(message);\n            },\n            // [RECEIPT Frame](https://stomp.github.com/stomp-specification-1.2.html#RECEIPT)\n            RECEIPT: frame => {\n                const callback = this._receiptWatchers[frame.headers['receipt-id']];\n                if (callback) {\n                    callback(frame);\n                    // Server will acknowledge only once, remove the callback\n                    delete this._receiptWatchers[frame.headers['receipt-id']];\n                }\n                else {\n                    this.onUnhandledReceipt(frame);\n                }\n            },\n            // [ERROR Frame](https://stomp.github.com/stomp-specification-1.2.html#ERROR)\n            ERROR: frame => {\n                this.onStompError(frame);\n            },\n        };\n        // used to index subscribers\n        this._counter = 0;\n        // subscription callbacks indexed by subscriber's ID\n        this._subscriptions = {};\n        // receipt-watchers indexed by receipts-ids\n        this._receiptWatchers = {};\n        this._partialData = '';\n        this._escapeHeaderValues = false;\n        this._lastServerActivityTS = Date.now();\n        this.debug = config.debug;\n        this.stompVersions = config.stompVersions;\n        this.connectHeaders = config.connectHeaders;\n        this.disconnectHeaders = config.disconnectHeaders;\n        this.heartbeatIncoming = config.heartbeatIncoming;\n        this.heartbeatToleranceMultiplier = config.heartbeatGracePeriods;\n        this.heartbeatOutgoing = config.heartbeatOutgoing;\n        this.splitLargeFrames = config.splitLargeFrames;\n        this.maxWebSocketChunkSize = config.maxWebSocketChunkSize;\n        this.forceBinaryWSFrames = config.forceBinaryWSFrames;\n        this.logRawCommunication = config.logRawCommunication;\n        this.appendMissingNULLonIncoming = config.appendMissingNULLonIncoming;\n        this.discardWebsocketOnCommFailure = config.discardWebsocketOnCommFailure;\n        this.onConnect = config.onConnect;\n        this.onDisconnect = config.onDisconnect;\n        this.onStompError = config.onStompError;\n        this.onWebSocketClose = config.onWebSocketClose;\n        this.onWebSocketError = config.onWebSocketError;\n        this.onUnhandledMessage = config.onUnhandledMessage;\n        this.onUnhandledReceipt = config.onUnhandledReceipt;\n        this.onUnhandledFrame = config.onUnhandledFrame;\n        this.onHeartbeatReceived = config.onHeartbeatReceived;\n        this.onHeartbeatLost = config.onHeartbeatLost;\n    }\n    start() {\n        const parser = new Parser(\n        // On Frame\n        rawFrame => {\n            const frame = FrameImpl.fromRawFrame(rawFrame, this._escapeHeaderValues);\n            // if this.logRawCommunication is set, the rawChunk is logged at this._webSocket.onmessage\n            if (!this.logRawCommunication) {\n                this.debug(`<<< ${frame}`);\n            }\n            const serverFrameHandler = this._serverFrameHandlers[frame.command] || this.onUnhandledFrame;\n            serverFrameHandler(frame);\n        }, \n        // On Incoming Ping\n        () => {\n            this.debug('<<< PONG');\n            this.onHeartbeatReceived();\n        });\n        this._webSocket.onmessage = (evt) => {\n            this.debug('Received data');\n            this._lastServerActivityTS = Date.now();\n            if (this.logRawCommunication) {\n                const rawChunkAsString = evt.data instanceof ArrayBuffer\n                    ? new TextDecoder().decode(evt.data)\n                    : evt.data;\n                this.debug(`<<< ${rawChunkAsString}`);\n            }\n            parser.parseChunk(evt.data, this.appendMissingNULLonIncoming);\n        };\n        this._webSocket.onclose = (closeEvent) => {\n            this.debug(`Connection closed to ${this._webSocket.url}`);\n            this._cleanUp();\n            this.onWebSocketClose(closeEvent);\n        };\n        this._webSocket.onerror = (errorEvent) => {\n            this.onWebSocketError(errorEvent);\n        };\n        this._webSocket.onopen = () => {\n            // Clone before updating\n            const connectHeaders = Object.assign({}, this.connectHeaders);\n            this.debug('Web Socket Opened...');\n            connectHeaders['accept-version'] = this.stompVersions.supportedVersions();\n            connectHeaders['heart-beat'] = [\n                this.heartbeatOutgoing,\n                this.heartbeatIncoming,\n            ].join(',');\n            this._transmit({ command: 'CONNECT', headers: connectHeaders });\n        };\n    }\n    _setupHeartbeat(headers) {\n        if (headers.version !== Versions.V1_1 &&\n            headers.version !== Versions.V1_2) {\n            return;\n        }\n        // It is valid for the server to not send this header\n        // https://stomp.github.io/stomp-specification-1.2.html#Heart-beating\n        if (!headers['heart-beat']) {\n            return;\n        }\n        // heart-beat header received from the server looks like:\n        //\n        //     heart-beat: sx, sy\n        const [serverOutgoing, serverIncoming] = headers['heart-beat']\n            .split(',')\n            .map((v) => parseInt(v, 10));\n        if (this.heartbeatOutgoing !== 0 && serverIncoming !== 0) {\n            const ttl = Math.max(this.heartbeatOutgoing, serverIncoming);\n            this.debug(`send PING every ${ttl}ms`);\n            this._pinger = new Ticker(ttl, this._client.heartbeatStrategy, this.debug);\n            this._pinger.start(() => {\n                if (this._webSocket.readyState === StompSocketState.OPEN) {\n                    this._webSocket.send(BYTE.LF);\n                    this.debug('>>> PING');\n                }\n            });\n        }\n        if (this.heartbeatIncoming !== 0 && serverOutgoing !== 0) {\n            const ttl = Math.max(this.heartbeatIncoming, serverOutgoing);\n            this.debug(`check PONG every ${ttl}ms`);\n            this._ponger = setInterval(() => {\n                const delta = Date.now() - this._lastServerActivityTS;\n                // We wait multiple grace periods to be flexible on window's setInterval calls\n                if (delta > ttl * this.heartbeatToleranceMultiplier) {\n                    this.debug(`did not receive server activity for the last ${delta}ms`);\n                    this.onHeartbeatLost();\n                    this._closeOrDiscardWebsocket();\n                }\n            }, ttl);\n        }\n    }\n    _closeOrDiscardWebsocket() {\n        if (this.discardWebsocketOnCommFailure) {\n            this.debug('Discarding websocket, the underlying socket may linger for a while');\n            this.discardWebsocket();\n        }\n        else {\n            this.debug('Issuing close on the websocket');\n            this._closeWebsocket();\n        }\n    }\n    forceDisconnect() {\n        if (this._webSocket) {\n            if (this._webSocket.readyState === StompSocketState.CONNECTING ||\n                this._webSocket.readyState === StompSocketState.OPEN) {\n                this._closeOrDiscardWebsocket();\n            }\n        }\n    }\n    _closeWebsocket() {\n        this._webSocket.onmessage = () => { }; // ignore messages\n        this._webSocket.close();\n    }\n    discardWebsocket() {\n        if (typeof this._webSocket.terminate !== 'function') {\n            augmentWebsocket(this._webSocket, (msg) => this.debug(msg));\n        }\n        // @ts-ignore - this method will be there at this stage\n        this._webSocket.terminate();\n    }\n    _transmit(params) {\n        const { command, headers, body, binaryBody, skipContentLengthHeader } = params;\n        const frame = new FrameImpl({\n            command,\n            headers,\n            body,\n            binaryBody,\n            escapeHeaderValues: this._escapeHeaderValues,\n            skipContentLengthHeader,\n        });\n        let rawChunk = frame.serialize();\n        if (this.logRawCommunication) {\n            this.debug(`>>> ${rawChunk}`);\n        }\n        else {\n            this.debug(`>>> ${frame}`);\n        }\n        if (this.forceBinaryWSFrames && typeof rawChunk === 'string') {\n            rawChunk = new TextEncoder().encode(rawChunk);\n        }\n        if (typeof rawChunk !== 'string' || !this.splitLargeFrames) {\n            this._webSocket.send(rawChunk);\n        }\n        else {\n            let out = rawChunk;\n            while (out.length > 0) {\n                const chunk = out.substring(0, this.maxWebSocketChunkSize);\n                out = out.substring(this.maxWebSocketChunkSize);\n                this._webSocket.send(chunk);\n                this.debug(`chunk sent = ${chunk.length}, remaining = ${out.length}`);\n            }\n        }\n    }\n    dispose() {\n        if (this.connected) {\n            try {\n                // clone before updating\n                const disconnectHeaders = Object.assign({}, this.disconnectHeaders);\n                if (!disconnectHeaders.receipt) {\n                    disconnectHeaders.receipt = `close-${this._counter++}`;\n                }\n                this.watchForReceipt(disconnectHeaders.receipt, frame => {\n                    this._closeWebsocket();\n                    this._cleanUp();\n                    this.onDisconnect(frame);\n                });\n                this._transmit({ command: 'DISCONNECT', headers: disconnectHeaders });\n            }\n            catch (error) {\n                this.debug(`Ignoring error during disconnect ${error}`);\n            }\n        }\n        else {\n            if (this._webSocket.readyState === StompSocketState.CONNECTING ||\n                this._webSocket.readyState === StompSocketState.OPEN) {\n                this._closeWebsocket();\n            }\n        }\n    }\n    _cleanUp() {\n        this._connected = false;\n        if (this._pinger) {\n            this._pinger.stop();\n            this._pinger = undefined;\n        }\n        if (this._ponger) {\n            clearInterval(this._ponger);\n            this._ponger = undefined;\n        }\n    }\n    publish(params) {\n        const { destination, headers, body, binaryBody, skipContentLengthHeader } = params;\n        const hdrs = Object.assign({ destination }, headers);\n        this._transmit({\n            command: 'SEND',\n            headers: hdrs,\n            body,\n            binaryBody,\n            skipContentLengthHeader,\n        });\n    }\n    watchForReceipt(receiptId, callback) {\n        this._receiptWatchers[receiptId] = callback;\n    }\n    subscribe(destination, callback, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (!headers.id) {\n            headers.id = `sub-${this._counter++}`;\n        }\n        headers.destination = destination;\n        this._subscriptions[headers.id] = callback;\n        this._transmit({ command: 'SUBSCRIBE', headers });\n        const client = this;\n        return {\n            id: headers.id,\n            unsubscribe(hdrs) {\n                return client.unsubscribe(headers.id, hdrs);\n            },\n        };\n    }\n    unsubscribe(id, headers = {}) {\n        headers = Object.assign({}, headers);\n        delete this._subscriptions[id];\n        headers.id = id;\n        this._transmit({ command: 'UNSUBSCRIBE', headers });\n    }\n    begin(transactionId) {\n        const txId = transactionId || `tx-${this._counter++}`;\n        this._transmit({\n            command: 'BEGIN',\n            headers: {\n                transaction: txId,\n            },\n        });\n        const client = this;\n        return {\n            id: txId,\n            commit() {\n                client.commit(txId);\n            },\n            abort() {\n                client.abort(txId);\n            },\n        };\n    }\n    commit(transactionId) {\n        this._transmit({\n            command: 'COMMIT',\n            headers: {\n                transaction: transactionId,\n            },\n        });\n    }\n    abort(transactionId) {\n        this._transmit({\n            command: 'ABORT',\n            headers: {\n                transaction: transactionId,\n            },\n        });\n    }\n    ack(messageId, subscriptionId, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (this._connectedVersion === Versions.V1_2) {\n            headers.id = messageId;\n        }\n        else {\n            headers['message-id'] = messageId;\n        }\n        headers.subscription = subscriptionId;\n        this._transmit({ command: 'ACK', headers });\n    }\n    nack(messageId, subscriptionId, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (this._connectedVersion === Versions.V1_2) {\n            headers.id = messageId;\n        }\n        else {\n            headers['message-id'] = messageId;\n        }\n        headers.subscription = subscriptionId;\n        return this._transmit({ command: 'NACK', headers });\n    }\n}\n//# sourceMappingURL=stomp-handler.js.map","import { StompHandler } from './stomp-handler.js';\nimport { ActivationState, ReconnectionTimeMode, StompSocketState, TickerStrategy, } from './types.js';\nimport { Versions } from './versions.js';\n/**\n * STOMP Client Class.\n *\n * Part of `@stomp/stompjs`.\n *\n * This class provides a robust implementation for connecting to and interacting with a\n * STOMP-compliant messaging broker over WebSocket. It supports STOMP versions 1.2, 1.1, and 1.0.\n *\n * Features:\n * - Handles automatic reconnections.\n * - Supports heartbeat mechanisms to detect and report communication failures.\n * - Allows customization of connection and WebSocket behaviors through configurations.\n * - Compatible with both browser environments and Node.js with polyfill support for WebSocket.\n */\nexport class Client {\n    /**\n     * Provides access to the underlying WebSocket instance.\n     * This property is **read-only**.\n     *\n     * Example:\n     * ```javascript\n     * const webSocket = client.webSocket;\n     * if (webSocket) {\n     *   console.log('WebSocket is connected:', webSocket.readyState === WebSocket.OPEN);\n     * }\n     * ```\n     *\n     * **Caution:**\n     * Directly interacting with the WebSocket instance (e.g., sending or receiving frames)\n     * can interfere with the proper functioning of this library. Such actions may cause\n     * unexpected behavior, disconnections, or invalid state in the library's internal mechanisms.\n     *\n     * Instead, use the library's provided methods to manage STOMP communication.\n     *\n     * @returns The WebSocket instance used by the STOMP handler, or `undefined` if not connected.\n     */\n    get webSocket() {\n        return this._stompHandler?._webSocket;\n    }\n    /**\n     * Allows customization of the disconnection headers.\n     *\n     * Any changes made during an active session will also be applied immediately.\n     *\n     * Example:\n     * ```javascript\n     * client.disconnectHeaders = {\n     *   receipt: 'custom-receipt-id'\n     * };\n     * ```\n     */\n    get disconnectHeaders() {\n        return this._disconnectHeaders;\n    }\n    set disconnectHeaders(value) {\n        this._disconnectHeaders = value;\n        if (this._stompHandler) {\n            this._stompHandler.disconnectHeaders = this._disconnectHeaders;\n        }\n    }\n    /**\n     * Indicates whether there is an active connection to the STOMP broker.\n     *\n     * Usage:\n     * ```javascript\n     * if (client.connected) {\n     *   console.log('Client is connected to the broker.');\n     * } else {\n     *   console.log('No connection to the broker.');\n     * }\n     * ```\n     *\n     * @returns `true` if the client is currently connected, `false` otherwise.\n     */\n    get connected() {\n        return !!this._stompHandler && this._stompHandler.connected;\n    }\n    /**\n     * The version of the STOMP protocol negotiated with the server during connection.\n     *\n     * This is a **read-only** property and reflects the negotiated protocol version after\n     * a successful connection.\n     *\n     * Example:\n     * ```javascript\n     * console.log('Connected STOMP version:', client.connectedVersion);\n     * ```\n     *\n     * @returns The negotiated STOMP protocol version or `undefined` if not connected.\n     */\n    get connectedVersion() {\n        return this._stompHandler ? this._stompHandler.connectedVersion : undefined;\n    }\n    /**\n     * Indicates whether the client is currently active.\n     *\n     * A client is considered active if it is connected or actively attempting to reconnect.\n     *\n     * Example:\n     * ```javascript\n     * if (client.active) {\n     *   console.log('The client is active.');\n     * } else {\n     *   console.log('The client is inactive.');\n     * }\n     * ```\n     *\n     * @returns `true` if the client is active, otherwise `false`.\n     */\n    get active() {\n        return this.state === ActivationState.ACTIVE;\n    }\n    _changeState(state) {\n        this.state = state;\n        this.onChangeState(state);\n    }\n    /**\n     * Constructs a new STOMP client instance.\n     *\n     * The constructor initializes default values and sets up no-op callbacks for all events.\n     * Configuration can be passed during construction, or updated later using `configure`.\n     *\n     * Example:\n     * ```javascript\n     * const client = new Client({\n     *   brokerURL: 'wss://broker.example.com',\n     *   reconnectDelay: 5000\n     * });\n     * ```\n     *\n     * @param conf Optional configuration object to initialize the client with.\n     */\n    constructor(conf = {}) {\n        /**\n         * STOMP protocol versions to use during the handshake. By default, the client will attempt\n         * versions `1.2`, `1.1`, and `1.0` in descending order of preference.\n         *\n         * Example:\n         * ```javascript\n         * // Configure the client to only use versions 1.1 and 1.0\n         * client.stompVersions = new Versions(['1.1', '1.0']);\n         * ```\n         */\n        this.stompVersions = Versions.default;\n        /**\n         * Timeout for establishing STOMP connection, in milliseconds.\n         *\n         * If the connection is not established within this period, the attempt will fail.\n         * The default is `0`, meaning no timeout is set for connection attempts.\n         *\n         * Example:\n         * ```javascript\n         * client.connectionTimeout = 5000; // Fail connection if not established in 5 seconds\n         * ```\n         */\n        this.connectionTimeout = 0;\n        /**\n         * Delay (in milliseconds) between reconnection attempts if the connection drops.\n         *\n         * Set to `0` to disable automatic reconnections. The default value is `5000` ms (5 seconds).\n         *\n         * Example:\n         * ```javascript\n         * client.reconnectDelay = 3000; // Attempt reconnection every 3 seconds\n         * client.reconnectDelay = 0; // Disable automatic reconnection\n         * ```\n         */\n        this.reconnectDelay = 5000;\n        /**\n         * The next reconnection delay, used internally.\n         * Initialized to the value of [Client#reconnectDelay]{@link Client#reconnectDelay}, and it may\n         * dynamically change based on [Client#reconnectTimeMode]{@link Client#reconnectTimeMode}.\n         */\n        this._nextReconnectDelay = 0;\n        /**\n         * Maximum delay (in milliseconds) between reconnection attempts when using exponential backoff.\n         *\n         * Default is 15 minutes (`15 * 60 * 1000` milliseconds). If `0`, there will be no upper limit.\n         *\n         * Example:\n         * ```javascript\n         * client.maxReconnectDelay = 10000; // Maximum wait time is 10 seconds\n         * ```\n         */\n        this.maxReconnectDelay = 15 * 60 * 1000;\n        /**\n         * Mode for determining the time interval between reconnection attempts.\n         *\n         * Available modes:\n         * - `ReconnectionTimeMode.LINEAR` (default): Fixed delays between reconnection attempts.\n         * - `ReconnectionTimeMode.EXPONENTIAL`: Delay doubles after each attempt, capped by [maxReconnectDelay]{@link Client#maxReconnectDelay}.\n         *\n         * Example:\n         * ```javascript\n         * client.reconnectTimeMode = ReconnectionTimeMode.EXPONENTIAL;\n         * client.reconnectDelay = 200; // Initial delay of 200 ms, doubles with each attempt\n         * client.maxReconnectDelay = 2 * 60 * 1000; // Cap delay at 10 minutes\n         * ```\n         */\n        this.reconnectTimeMode = ReconnectionTimeMode.LINEAR;\n        /**\n         * Interval (in milliseconds) for receiving heartbeat signals from the server.\n         *\n         * Specifies the expected frequency of heartbeats sent by the server. Set to `0` to disable.\n         *\n         * Example:\n         * ```javascript\n         * client.heartbeatIncoming = 10000; // Expect a heartbeat every 10 seconds\n         * ```\n         */\n        this.heartbeatIncoming = 10000;\n        /**\n         * Multiplier for adjusting tolerance when processing heartbeat signals.\n         *\n         * Tolerance level is calculated using the multiplier:\n         * `tolerance = heartbeatIncoming * heartbeatToleranceMultiplier`.\n         * This helps account for delays in network communication or variations in timings.\n         *\n         * Default value is `2`.\n         *\n         * Example:\n         * ```javascript\n         * client.heartbeatToleranceMultiplier = 2.5; // Tolerates longer delays\n         * ```\n         */\n        this.heartbeatToleranceMultiplier = 2;\n        /**\n         * Interval (in milliseconds) for sending heartbeat signals to the server.\n         *\n         * Specifies how frequently heartbeats should be sent to the server. Set to `0` to disable.\n         *\n         * Example:\n         * ```javascript\n         * client.heartbeatOutgoing = 5000; // Send a heartbeat every 5 seconds\n         * ```\n         */\n        this.heartbeatOutgoing = 10000;\n        /**\n         * Strategy for sending outgoing heartbeats.\n         *\n         * Options:\n         * - `TickerStrategy.Worker`: Uses Web Workers for sending heartbeats (recommended for long-running or background sessions).\n         * - `TickerStrategy.Interval`: Uses standard JavaScript `setInterval` (default).\n         *\n         * Note:\n         * - If Web Workers are unavailable (e.g., in Node.js), the `Interval` strategy is used automatically.\n         * - Web Workers are preferable in browsers for reducing disconnects when tabs are in the background.\n         *\n         * Example:\n         * ```javascript\n         * client.heartbeatStrategy = TickerStrategy.Worker;\n         * ```\n         */\n        this.heartbeatStrategy = TickerStrategy.Interval;\n        /**\n         * Enables splitting of large text WebSocket frames into smaller chunks.\n         *\n         * This setting is enabled for brokers that support only chunked messages (e.g., Java Spring-based brokers).\n         * Default is `false`.\n         *\n         * Warning:\n         * - Should not be used with WebSocket-compliant brokers, as chunking may cause large message failures.\n         * - Binary WebSocket frames are never split.\n         *\n         * Example:\n         * ```javascript\n         * client.splitLargeFrames = true;\n         * client.maxWebSocketChunkSize = 4096; // Allow chunks of 4 KB\n         * ```\n         */\n        this.splitLargeFrames = false;\n        /**\n         * Maximum size (in bytes) for individual WebSocket chunks if [splitLargeFrames]{@link Client#splitLargeFrames} is enabled.\n         *\n         * Default is 8 KB (`8 * 1024` bytes). This value has no effect if [splitLargeFrames]{@link Client#splitLargeFrames} is `false`.\n         */\n        this.maxWebSocketChunkSize = 8 * 1024;\n        /**\n         * Forces all WebSocket frames to use binary transport, irrespective of payload type.\n         *\n         * Default behavior determines frame type based on payload (e.g., binary data for ArrayBuffers).\n         *\n         * Example:\n         * ```javascript\n         * client.forceBinaryWSFrames = true;\n         * ```\n         */\n        this.forceBinaryWSFrames = false;\n        /**\n         * Workaround for a React Native WebSocket bug, where messages containing `NULL` are chopped.\n         *\n         * Enabling this appends a `NULL` character to incoming frames to ensure they remain valid STOMP packets.\n         *\n         * Warning:\n         * - For brokers that split large messages, this may cause data loss or connection termination.\n         *\n         * Example:\n         * ```javascript\n         * client.appendMissingNULLonIncoming = true;\n         * ```\n         */\n        this.appendMissingNULLonIncoming = false;\n        /**\n         * Instruct the library to immediately terminate the socket on communication failures, even\n         * before the WebSocket is completely closed.\n         *\n         * This is particularly useful in browser environments where WebSocket closure may get delayed,\n         * causing prolonged reconnection intervals under certain failure conditions.\n         *\n         *\n         * Example:\n         * ```javascript\n         * client.discardWebsocketOnCommFailure = true; // Enable aggressive closing of WebSocket\n         * ```\n         *\n         * Default value: `false`.\n         */\n        this.discardWebsocketOnCommFailure = false;\n        /**\n         * Current activation state of the client.\n         *\n         * Possible states:\n         * - `ActivationState.ACTIVE`: Client is connected or actively attempting to connect.\n         * - `ActivationState.INACTIVE`: Client is disconnected and not attempting to reconnect.\n         * - `ActivationState.DEACTIVATING`: Client is in the process of disconnecting.\n         *\n         * Note: The client may transition directly from `ACTIVE` to `INACTIVE` without entering\n         * the `DEACTIVATING` state.\n         */\n        this.state = ActivationState.INACTIVE;\n        // No op callbacks\n        const noOp = () => { };\n        this.debug = noOp;\n        this.beforeConnect = noOp;\n        this.onConnect = noOp;\n        this.onDisconnect = noOp;\n        this.onUnhandledMessage = noOp;\n        this.onUnhandledReceipt = noOp;\n        this.onUnhandledFrame = noOp;\n        this.onHeartbeatReceived = noOp;\n        this.onHeartbeatLost = noOp;\n        this.onStompError = noOp;\n        this.onWebSocketClose = noOp;\n        this.onWebSocketError = noOp;\n        this.logRawCommunication = false;\n        this.onChangeState = noOp;\n        // These parameters would typically get proper values before connect is called\n        this.connectHeaders = {};\n        this._disconnectHeaders = {};\n        // Apply configuration\n        this.configure(conf);\n    }\n    /**\n     * Updates the client's configuration.\n     *\n     * All properties in the provided configuration object will override the current settings.\n     *\n     * Additionally, a warning is logged if `maxReconnectDelay` is configured to a\n     * value lower than `reconnectDelay`, and `maxReconnectDelay` is adjusted to match `reconnectDelay`.\n     *\n     * Example:\n     * ```javascript\n     * client.configure({\n     *   reconnectDelay: 3000,\n     *   maxReconnectDelay: 10000\n     * });\n     * ```\n     *\n     * @param conf Configuration object containing the new settings.\n     */\n    configure(conf) {\n        // bulk assign all properties to this\n        Object.assign(this, conf);\n        // Warn on incorrect maxReconnectDelay settings\n        if (this.maxReconnectDelay > 0 &&\n            this.maxReconnectDelay < this.reconnectDelay) {\n            this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`);\n            this.maxReconnectDelay = this.reconnectDelay;\n        }\n    }\n    /**\n     * Activates the client, initiating a connection to the STOMP broker.\n     *\n     * On activation, the client attempts to connect and sets its state to `ACTIVE`. If the connection\n     * is lost, it will automatically retry based on `reconnectDelay` or `maxReconnectDelay`. If\n     * `reconnectTimeMode` is set to `EXPONENTIAL`, the reconnect delay increases exponentially.\n     *\n     * To stop reconnection attempts and disconnect, call [Client#deactivate]{@link Client#deactivate}.\n     *\n     * Example:\n     * ```javascript\n     * client.activate(); // Connect to the broker\n     * ```\n     *\n     * If the client is currently `DEACTIVATING`, connection is delayed until the deactivation process completes.\n     */\n    activate() {\n        const _activate = () => {\n            if (this.active) {\n                this.debug('Already ACTIVE, ignoring request to activate');\n                return;\n            }\n            this._changeState(ActivationState.ACTIVE);\n            this._nextReconnectDelay = this.reconnectDelay;\n            this._connect();\n        };\n        // if it is deactivating, wait for it to complete before activating.\n        if (this.state === ActivationState.DEACTIVATING) {\n            this.debug('Waiting for deactivation to finish before activating');\n            this.deactivate().then(() => {\n                _activate();\n            });\n        }\n        else {\n            _activate();\n        }\n    }\n    async _connect() {\n        await this.beforeConnect(this);\n        if (this._stompHandler) {\n            this.debug('There is already a stompHandler, skipping the call to connect');\n            return;\n        }\n        if (!this.active) {\n            this.debug('Client has been marked inactive, will not attempt to connect');\n            return;\n        }\n        // setup connection watcher\n        if (this.connectionTimeout > 0) {\n            // clear first\n            if (this._connectionWatcher) {\n                clearTimeout(this._connectionWatcher);\n            }\n            this._connectionWatcher = setTimeout(() => {\n                if (this.connected) {\n                    return;\n                }\n                // Connection not established, close the underlying socket\n                // a reconnection will be attempted\n                this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`);\n                this.forceDisconnect();\n            }, this.connectionTimeout);\n        }\n        this.debug('Opening Web Socket...');\n        // Get the actual WebSocket (or a similar object)\n        const webSocket = this._createWebSocket();\n        this._stompHandler = new StompHandler(this, webSocket, {\n            debug: this.debug,\n            stompVersions: this.stompVersions,\n            connectHeaders: this.connectHeaders,\n            disconnectHeaders: this._disconnectHeaders,\n            heartbeatIncoming: this.heartbeatIncoming,\n            heartbeatGracePeriods: this.heartbeatToleranceMultiplier,\n            heartbeatOutgoing: this.heartbeatOutgoing,\n            heartbeatStrategy: this.heartbeatStrategy,\n            splitLargeFrames: this.splitLargeFrames,\n            maxWebSocketChunkSize: this.maxWebSocketChunkSize,\n            forceBinaryWSFrames: this.forceBinaryWSFrames,\n            logRawCommunication: this.logRawCommunication,\n            appendMissingNULLonIncoming: this.appendMissingNULLonIncoming,\n            discardWebsocketOnCommFailure: this.discardWebsocketOnCommFailure,\n            onConnect: frame => {\n                // Successfully connected, stop the connection watcher\n                if (this._connectionWatcher) {\n                    clearTimeout(this._connectionWatcher);\n                    this._connectionWatcher = undefined;\n                }\n                if (!this.active) {\n                    this.debug('STOMP got connected while deactivate was issued, will disconnect now');\n                    this._disposeStompHandler();\n                    return;\n                }\n                this.onConnect(frame);\n            },\n            onDisconnect: frame => {\n                this.onDisconnect(frame);\n            },\n            onStompError: frame => {\n                this.onStompError(frame);\n            },\n            onWebSocketClose: evt => {\n                this._stompHandler = undefined; // a new one will be created in case of a reconnect\n                if (this.state === ActivationState.DEACTIVATING) {\n                    // Mark deactivation complete\n                    this._changeState(ActivationState.INACTIVE);\n                }\n                // The callback is called before attempting to reconnect, this would allow the client\n                // to be `deactivated` in the callback.\n                this.onWebSocketClose(evt);\n                if (this.active) {\n                    this._schedule_reconnect();\n                }\n            },\n            onWebSocketError: evt => {\n                this.onWebSocketError(evt);\n            },\n            onUnhandledMessage: message => {\n                this.onUnhandledMessage(message);\n            },\n            onUnhandledReceipt: frame => {\n                this.onUnhandledReceipt(frame);\n            },\n            onUnhandledFrame: frame => {\n                this.onUnhandledFrame(frame);\n            },\n            onHeartbeatReceived: () => {\n                this.onHeartbeatReceived();\n            },\n            onHeartbeatLost: () => {\n                this.onHeartbeatLost();\n            },\n        });\n        this._stompHandler.start();\n    }\n    _createWebSocket() {\n        let webSocket;\n        if (this.webSocketFactory) {\n            webSocket = this.webSocketFactory();\n        }\n        else if (this.brokerURL) {\n            webSocket = new WebSocket(this.brokerURL, this.stompVersions.protocolVersions());\n        }\n        else {\n            throw new Error('Either brokerURL or webSocketFactory must be provided');\n        }\n        webSocket.binaryType = 'arraybuffer';\n        return webSocket;\n    }\n    _schedule_reconnect() {\n        if (this._nextReconnectDelay > 0) {\n            this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`);\n            this._reconnector = setTimeout(() => {\n                if (this.reconnectTimeMode === ReconnectionTimeMode.EXPONENTIAL) {\n                    this._nextReconnectDelay = this._nextReconnectDelay * 2;\n                    // Truncated exponential backoff with a set limit unless disabled\n                    if (this.maxReconnectDelay !== 0) {\n                        this._nextReconnectDelay = Math.min(this._nextReconnectDelay, this.maxReconnectDelay);\n                    }\n                }\n                this._connect();\n            }, this._nextReconnectDelay);\n        }\n    }\n    /**\n     * Disconnects the client and stops the automatic reconnection loop.\n     *\n     * If there is an active STOMP connection at the time of invocation, the appropriate callbacks\n     * will be triggered during the shutdown sequence. Once deactivated, the client will enter the\n     * `INACTIVE` state, and no further reconnection attempts will be made.\n     *\n     * **Behavior**:\n     * - If there is no active WebSocket connection, this method resolves immediately.\n     * - If there is an active connection, the method waits for the underlying WebSocket\n     *   to properly close before resolving.\n     * - Multiple calls to this method are safe. Each invocation resolves upon completion.\n     * - To reactivate, call [Client#activate]{@link Client#activate}.\n     *\n     * **Experimental Option:**\n     * - By specifying the `force: true` option, the WebSocket connection is discarded immediately,\n     *   bypassing both the STOMP and WebSocket shutdown sequences.\n     * - **Caution:** Using `force: true` may leave the WebSocket in an inconsistent state,\n     *   and brokers may not immediately detect the termination.\n     *\n     * Example:\n     * ```javascript\n     * // Graceful disconnect\n     * await client.deactivate();\n     *\n     * // Forced disconnect to speed up shutdown when the connection is stale\n     * await client.deactivate({ force: true });\n     * ```\n     *\n     * @param options Configuration options for deactivation. Use `force: true` for immediate shutdown.\n     * @returns A Promise that resolves when the deactivation process completes.\n     */\n    async deactivate(options = {}) {\n        const force = options.force || false;\n        const needToDispose = this.active;\n        let retPromise;\n        if (this.state === ActivationState.INACTIVE) {\n            this.debug(`Already INACTIVE, nothing more to do`);\n            return Promise.resolve();\n        }\n        this._changeState(ActivationState.DEACTIVATING);\n        // Reset reconnection timer just to be safe\n        this._nextReconnectDelay = 0;\n        // Clear if a reconnection was scheduled\n        if (this._reconnector) {\n            clearTimeout(this._reconnector);\n            this._reconnector = undefined;\n        }\n        if (this._stompHandler &&\n            // @ts-ignore - if there is a _stompHandler, there is the webSocket\n            this.webSocket.readyState !== StompSocketState.CLOSED) {\n            const origOnWebSocketClose = this._stompHandler.onWebSocketClose;\n            // we need to wait for the underlying websocket to close\n            retPromise = new Promise((resolve, reject) => {\n                // @ts-ignore - there is a _stompHandler\n                this._stompHandler.onWebSocketClose = evt => {\n                    origOnWebSocketClose(evt);\n                    resolve();\n                };\n            });\n        }\n        else {\n            // indicate that auto reconnect loop should terminate\n            this._changeState(ActivationState.INACTIVE);\n            return Promise.resolve();\n        }\n        if (force) {\n            this._stompHandler?.discardWebsocket();\n        }\n        else if (needToDispose) {\n            this._disposeStompHandler();\n        }\n        return retPromise;\n    }\n    /**\n     * Forces a disconnect by directly closing the WebSocket.\n     *\n     * Unlike a normal disconnect, this does not send a DISCONNECT sequence to the broker but\n     * instead closes the WebSocket connection directly. After forcing a disconnect, the client\n     * will automatically attempt to reconnect based on its `reconnectDelay` configuration.\n     *\n     * **Note:** To prevent further reconnect attempts, call [Client#deactivate]{@link Client#deactivate}.\n     *\n     * Example:\n     * ```javascript\n     * client.forceDisconnect();\n     * ```\n     */\n    forceDisconnect() {\n        if (this._stompHandler) {\n            this._stompHandler.forceDisconnect();\n        }\n    }\n    _disposeStompHandler() {\n        // Dispose STOMP Handler\n        if (this._stompHandler) {\n            this._stompHandler.dispose();\n        }\n    }\n    /**\n     * Sends a message to the specified destination on the STOMP broker.\n     *\n     * The `body` must be a `string`. For non-string payloads (e.g., JSON), encode it as a string before sending.\n     * If sending binary data, use the `binaryBody` parameter as a [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array).\n     *\n     * **Content-Length Behavior**:\n     * - For non-binary messages, the `content-length` header is added by default.\n     * - The `content-length` header can be skipped for text frames by setting `skipContentLengthHeader: true` in the parameters.\n     * - For binary messages, the `content-length` header is always included.\n     *\n     * **Notes**:\n     * - Ensure that brokers support binary frames before using `binaryBody`.\n     * - Sending messages with NULL octets and missing `content-length` headers can cause brokers to disconnect and throw errors.\n     *\n     * Example:\n     * ```javascript\n     * // Basic text message\n     * client.publish({ destination: \"/queue/test\", body: \"Hello, STOMP\" });\n     *\n     * // Text message with additional headers\n     * client.publish({ destination: \"/queue/test\", headers: { priority: 9 }, body: \"Hello, STOMP\" });\n     *\n     * // Skip content-length header\n     * client.publish({ destination: \"/queue/test\", body: \"Hello, STOMP\", skipContentLengthHeader: true });\n     *\n     * // Binary message\n     * const binaryData = new Uint8Array([1, 2, 3, 4]);\n     * client.publish({\n     *   destination: '/topic/special',\n     *   binaryBody: binaryData,\n     *   headers: { 'content-type': 'application/octet-stream' }\n     * });\n     * ```\n     */\n    publish(params) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.publish(params);\n    }\n    _checkConnection() {\n        if (!this.connected) {\n            throw new TypeError('There is no underlying STOMP connection');\n        }\n    }\n    /**\n     * Monitors for a receipt acknowledgment from the broker for specific operations.\n     *\n     * Add a `receipt` header to the operation (like subscribe or publish), and use this method with\n     * the same receipt ID to detect when the broker has acknowledged the operation's completion.\n     *\n     * The callback is invoked with the corresponding {@link IFrame} when the receipt is received.\n     *\n     * Example:\n     * ```javascript\n     * const receiptId = \"unique-receipt-id\";\n     *\n     * client.watchForReceipt(receiptId, (frame) => {\n     *   console.log(\"Operation acknowledged by the broker:\", frame);\n     * });\n     *\n     * // Attach the receipt header to an operation\n     * client.publish({ destination: \"/queue/test\", headers: { receipt: receiptId }, body: \"Hello\" });\n     * ```\n     *\n     * @param receiptId Unique identifier for the receipt.\n     * @param callback Callback function invoked on receiving the RECEIPT frame.\n     */\n    watchForReceipt(receiptId, callback) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.watchForReceipt(receiptId, callback);\n    }\n    /**\n     * Subscribes to a destination on the STOMP broker.\n     *\n     * The callback is triggered for each message received from the subscribed destination. The message\n     * is passed as an {@link IMessage} instance.\n     *\n     * **Subscription ID**:\n     * - If no `id` is provided in `headers`, the library generates a unique subscription ID automatically.\n     * - Provide an explicit `id` in `headers` if you wish to manage the subscription ID manually.\n     *\n     * Example:\n     * ```javascript\n     * const callback = (message) => {\n     *   console.log(\"Received message:\", message.body);\n     * };\n     *\n     * // Auto-generated subscription ID\n     * const subscription = client.subscribe(\"/queue/test\", callback);\n     *\n     * // Explicit subscription ID\n     * const mySubId = \"my-subscription-id\";\n     * const subscription = client.subscribe(\"/queue/test\", callback, { id: mySubId });\n     * ```\n     *\n     * @param destination Destination to subscribe to.\n     * @param callback Function invoked for each received message.\n     * @param headers Optional headers for subscription, such as `id`.\n     * @returns A {@link StompSubscription} which can be used to manage the subscription.\n     */\n    subscribe(destination, callback, headers = {}) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        return this._stompHandler.subscribe(destination, callback, headers);\n    }\n    /**\n     * Unsubscribes from a subscription on the STOMP broker.\n     *\n     * Prefer using the `unsubscribe` method directly on the {@link StompSubscription} returned from `subscribe` for cleaner management:\n     * ```javascript\n     * const subscription = client.subscribe(\"/queue/test\", callback);\n     * // Unsubscribe using the subscription object\n     * subscription.unsubscribe();\n     * ```\n     *\n     * This method can also be used directly with the subscription ID.\n     *\n     * Example:\n     * ```javascript\n     * client.unsubscribe(\"my-subscription-id\");\n     * ```\n     *\n     * @param id Subscription ID to unsubscribe.\n     * @param headers Optional headers to pass for the UNSUBSCRIBE frame.\n     */\n    unsubscribe(id, headers = {}) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.unsubscribe(id, headers);\n    }\n    /**\n     * Starts a new transaction. The returned {@link ITransaction} object provides\n     * methods for [commit]{@link ITransaction#commit} and [abort]{@link ITransaction#abort}.\n     *\n     * If `transactionId` is not provided, the library generates a unique ID internally.\n     *\n     * Example:\n     * ```javascript\n     * const tx = client.begin(); // Auto-generated ID\n     *\n     * // Or explicitly specify a transaction ID\n     * const tx = client.begin(\"my-transaction-id\");\n     * ```\n     *\n     * @param transactionId Optional transaction ID.\n     * @returns An instance of {@link ITransaction}.\n     */\n    begin(transactionId) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        return this._stompHandler.begin(transactionId);\n    }\n    /**\n     * Commits a transaction.\n     *\n     * It is strongly recommended to call [commit]{@link ITransaction#commit} on\n     * the transaction object returned by [client#begin]{@link Client#begin}.\n     *\n     * Example:\n     * ```javascript\n     * const tx = client.begin();\n     * // Perform operations under this transaction\n     * tx.commit();\n     * ```\n     *\n     * @param transactionId The ID of the transaction to commit.\n     */\n    commit(transactionId) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.commit(transactionId);\n    }\n    /**\n     * Aborts a transaction.\n     *\n     * It is strongly recommended to call [abort]{@link ITransaction#abort} directly\n     * on the transaction object returned by [client#begin]{@link Client#begin}.\n     *\n     * Example:\n     * ```javascript\n     * const tx = client.begin();\n     * // Perform operations under this transaction\n     * tx.abort(); // Abort the transaction\n     * ```\n     *\n     * @param transactionId The ID of the transaction to abort.\n     */\n    abort(transactionId) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.abort(transactionId);\n    }\n    /**\n     * Acknowledges receipt of a message. Typically, this should be done by calling\n     * [ack]{@link IMessage#ack} directly on the {@link IMessage} instance passed\n     * to the subscription callback.\n     *\n     * Example:\n     * ```javascript\n     * const callback = (message) => {\n     *   // Process the message\n     *   message.ack(); // Acknowledge the message\n     * };\n     *\n     * client.subscribe(\"/queue/example\", callback, { ack: \"client\" });\n     * ```\n     *\n     * @param messageId The ID of the message to acknowledge.\n     * @param subscriptionId The ID of the subscription.\n     * @param headers Optional headers for the acknowledgment frame.\n     */\n    ack(messageId, subscriptionId, headers = {}) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.ack(messageId, subscriptionId, headers);\n    }\n    /**\n     * Rejects a message (negative acknowledgment). Like acknowledgments, this should\n     * typically be done by calling [nack]{@link IMessage#nack} directly on the {@link IMessage}\n     * instance passed to the subscription callback.\n     *\n     * Example:\n     * ```javascript\n     * const callback = (message) => {\n     *   // Process the message\n     *   if (isError(message)) {\n     *     message.nack(); // Reject the message\n     *   }\n     * };\n     *\n     * client.subscribe(\"/queue/example\", callback, { ack: \"client\" });\n     * ```\n     *\n     * @param messageId The ID of the message to negatively acknowledge.\n     * @param subscriptionId The ID of the subscription.\n     * @param headers Optional headers for the NACK frame.\n     */\n    nack(messageId, subscriptionId, headers = {}) {\n        this._checkConnection();\n        // @ts-ignore - we already checked that there is a _stompHandler, and it is connected\n        this._stompHandler.nack(messageId, subscriptionId, headers);\n    }\n}\n//# sourceMappingURL=client.js.map","'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n","'use strict';\n\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n","'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n\n, isLoopbackAddr: function (addr) {\n    return /^127\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(addr) || /^\\[::1\\]$/.test(addr);\n  }\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n","'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n} else {\n\tmodule.exports = undefined;\n}\n","'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  var ws = this.ws;\n  this._cleanup();\n  if (ws) {\n    ws.close();\n  }\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self.close();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.close = function() {\n  debug('close');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  BufferedSender.prototype.close.call(this);\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n};\n\nmodule.exports = SenderReceiver;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = true;\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n","'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n","module.exports = global.EventSource;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n","module.exports = '1.6.1';\n","'use strict';\n\nvar eventUtils = require('./event')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      setTimeout(function() {\n        try {\n          // When the iframe is not loaded, IE raises an exception\n          // on 'contentWindow'.\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        } catch (x) {\n          // intentionally empty\n        }\n      }, 0);\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* eslint no-undef: \"off\", new-cap: \"off\" */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n","'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n","'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n","'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n","'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n","'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n","'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n","'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n","/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n","'use strict';\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\n// eslint-disable-next-line no-control-regex, no-misleading-character-class\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n","'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n","'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n","'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n","'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http:'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n","'use strict';\n\nvar iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n","'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n","'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n  this._timeout = options.timeout || 0;\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https:' && !secure) {\n    // exception is 127.0.0.0/8 and ::1 urls\n    if (!urlUtils.isLoopbackAddr(parsedUrl.hostname)) {\n      throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n    }\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transport) {\n      this._transport.close();\n    }\n\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport && this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n","'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n","// Utility helpers to centralise session cleanup - see docs/error.md for storage stance\r\nconst APP_PREFIX = \"liargame:\";\r\nconst STORAGE_KEYS = {\r\n  authToken: \"auth-token\",\r\n  authStore: \"auth-storage\",\r\n  websocketSession: `${APP_PREFIX}websocket-session-id`,\r\n  websocketLegacy: \"websocket-session-id\",\r\n  schemaVersion: `${APP_PREFIX}schemaVersion`,\r\n} as const;\r\n\r\ntype CleanupReason = \"logout\" | \"session-expired\" | \"manual\";\r\n\r\ntype CleanupOptions = {\r\n  reason?: CleanupReason;\r\n  disconnectWebsocket?: boolean;\r\n  broadcastEvent?: boolean;\r\n};\r\n\r\nconst isBrowser = typeof window !== \"undefined\";\r\n\r\nfunction removeLocalStorageKey(key: string): void {\r\n  if (!isBrowser) return;\r\n  try {\r\n    window.localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.warn(\"[sessionCleanup] Failed to remove localStorage key\", key, error);\r\n  }\r\n}\r\n\r\nfunction removePrefixedLocalStorage(prefix: string): void {\r\n  if (!isBrowser) return;\r\n  try {\r\n    const keys: string[] = [];\r\n    for (let i = 0; i < window.localStorage.length; i += 1) {\r\n      const itemKey = window.localStorage.key(i);\r\n      if (itemKey && itemKey.startsWith(prefix)) {\r\n        keys.push(itemKey);\r\n      }\r\n    }\r\n    keys.forEach(removeLocalStorageKey);\r\n  } catch (error) {\r\n    console.warn(\"[sessionCleanup] Failed to inspect localStorage\", error);\r\n  }\r\n}\r\n\r\nfunction removePrefixedSessionStorage(prefix: string): void {\r\n  if (!isBrowser) return;\r\n  try {\r\n    const keys: string[] = [];\r\n    for (let i = 0; i < window.sessionStorage.length; i += 1) {\r\n      const itemKey = window.sessionStorage.key(i);\r\n      if (itemKey && itemKey.startsWith(prefix)) {\r\n        keys.push(itemKey);\r\n      }\r\n    }\r\n    keys.forEach((key) => {\r\n      try {\r\n        window.sessionStorage.removeItem(key);\r\n      } catch (error) {\r\n        console.warn(\"[sessionCleanup] Failed to remove sessionStorage key\", key, error);\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.warn(\"[sessionCleanup] Failed to inspect sessionStorage\", error);\r\n  }\r\n}\r\n\r\nexport async function clearClientSessionState(options: CleanupOptions = {}): Promise<void> {\r\n  if (!isBrowser) return;\r\n\r\n  const {\r\n    reason = \"manual\",\r\n    disconnectWebsocket = true,\r\n    broadcastEvent = true,\r\n  } = options;\r\n\r\n  removeLocalStorageKey(STORAGE_KEYS.authToken);\r\n  removeLocalStorageKey(STORAGE_KEYS.authStore);\r\n  removeLocalStorageKey(STORAGE_KEYS.websocketLegacy);\r\n  removeLocalStorageKey(STORAGE_KEYS.websocketSession);\r\n  removeLocalStorageKey(STORAGE_KEYS.schemaVersion);\r\n\r\n  removePrefixedLocalStorage(APP_PREFIX);\r\n  removePrefixedSessionStorage(APP_PREFIX);\r\n\r\n  if (disconnectWebsocket) {\r\n    try {\r\n      const { websocketService } = await import(\"@/services/websocketService\");\r\n      websocketService.disconnect();\r\n    } catch (error) {\r\n      console.warn(\"[sessionCleanup] Failed to disconnect websocketService\", error);\r\n    }\r\n  }\r\n\r\n  if (broadcastEvent) {\r\n    window.dispatchEvent(\r\n      new CustomEvent(\"auth-session-expired\", { detail: { reason } }),\r\n    );\r\n  }\r\n}\r\n\r\nexport function resetRealtimeSessionTracking(): void {\r\n  if (!isBrowser) return;\r\n  removeLocalStorageKey(STORAGE_KEYS.websocketLegacy);\r\n  removeLocalStorageKey(STORAGE_KEYS.websocketSession);\r\n}\r\n\r\n","import SockJS from 'sockjs-client';\r\nimport type {IMessage} from '@stomp/stompjs';\r\nimport {Client as StompClient, StompConfig} from '@stomp/stompjs';\r\nimport {toast} from 'sonner';\r\nimport type {\r\n    ChatCallback,\r\n    ChatMessage,\r\n    ChatMessageType,\r\n    ConnectionCallback,\r\n    EventCallback,\r\n    GameEvent,\r\n    LobbyUpdate,\r\n    LobbyUpdateCallback\r\n} from '@/types/realtime';\r\n\r\nexport interface WebSocketMessage {\r\n  type: string;\r\n  payload: any;\r\n  timestamp: number;\r\n  gameId?: string;\r\n  userId?: string;\r\n}\r\n\r\ninterface RawWebSocketPayload {\r\n  type: 'event' | 'chat' | 'notification' | 'system' | 'lobby';\r\n  data: any;\r\n  receivedAt: number;\r\n  destination?: string;\r\n}\r\n\r\ntype RawListener = (payload: RawWebSocketPayload) => void;\r\n\r\nclass WebSocketService {\r\n  private client: StompClient | null = null;\r\n  private isConnected = false;\r\n  private reconnectAttempts = 0;\r\n  private maxReconnectAttempts = 10;\r\n  private baseReconnectDelay = 1000;\r\n  private maxReconnectDelay = 30000;\r\n  private connectionTimeout = 15000;\r\n  private heartbeatInterval: NodeJS.Timeout | null = null;\r\n  private currentGameId: string | null = null;\r\n  private lastSubscriptionUserId: string | null = null;\r\n\r\n  // Callback handlers\r\n  private eventCallbacks: Map<string, EventCallback[]> = new Map();\r\n  private chatCallbacks: ChatCallback[] = [];\r\n  private connectionCallbacks: ConnectionCallback[] = [];\r\n  private lobbyCallbacks: LobbyUpdateCallback[] = [];\r\n  private readonly lobbySubscriptionKey = 'lobby';\r\n\r\n  // Subscription management\r\n  private subscriptions: Map<string, any> = new Map();\r\n  private messageQueue: { id: string; destination: string; body: any; attempts: number; timestamp: number }[] = [];\r\n  private maxQueue = 100;\r\n  private maxMessageAttempts = 3;\r\n  private outboundListeners: ((msg: { destination: string; body: any; sentAt: number }) => void)[] = [];\r\n  private rawListeners: RawListener[] = [];\r\n  private pingInterval: NodeJS.Timeout | null = null;\r\n  private lastHeartbeatAck = Date.now();\r\n  private pendingGameSubscriptions: Map<string, { userId?: string; attempts: number }> = new Map();\r\n  private lobbySubscriptionPending = false;\r\n  private pendingSubscriptionFlushTimer: NodeJS.Timeout | null = null;\r\n  private readonly maxSubscriptionAttempts = 5;\r\n  private connectionState: 'connecting' | 'connected' | 'disconnected' | 'reconnecting' = 'disconnected';\r\n  private readonly userConnectionKey = 'user-connection';\r\n  private readonly userHeartbeatKey = 'user-heartbeat';\r\n  private readonly storageKeys = {\r\n    session: 'liargame:websocket-session-id',\r\n    legacy: 'websocket-session-id',\r\n  } as const;\r\n  private readonly connectionNoticeIds = new Set<string>();\r\n\r\n  constructor() {\r\n    this.setupClient();\r\n  }\r\n\r\n  public connect(): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n      if (this.connectionState === 'connected') {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      if (this.client?.connected) {\r\n        this.connectionState = 'connected';\r\n        this.isConnected = true;\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      if (this.connectionState === 'connecting') {\r\n        // Wait for current connection attempt\r\n        const checkConnection = () => {\r\n          if (this.connectionState === 'connected') {\r\n            resolve();\r\n          } else if (this.connectionState === 'disconnected') {\r\n            reject(new Error('Connection failed'));\r\n          } else {\r\n            setTimeout(checkConnection, 100);\r\n          }\r\n        };\r\n        checkConnection();\r\n        return;\r\n      }\r\n\r\n      this.connectionState = 'connecting';\r\n\r\n      const timeout = setTimeout(() => {\r\n        if (this.connectionState === 'connecting') {\r\n          this.connectionState = 'disconnected';\r\n          reject(new Error('Connection timeout'));\r\n        }\r\n      }, this.connectionTimeout);\r\n\r\n      const onConnect = (connected: boolean) => {\r\n        clearTimeout(timeout);\r\n        this.removeConnectionCallback(onConnect);\r\n        if (connected) {\r\n          resolve();\r\n        } else {\r\n          reject(new Error('Connection failed'));\r\n        }\r\n      };\r\n\r\n      this.addConnectionCallback(onConnect);\r\n\r\n      try {\r\n        this.ensureClient().activate();\r\n      } catch (error) {\r\n        this.connectionState = 'disconnected';\r\n        reject(error instanceof Error ? error : new Error('Failed to initialize WebSocket client'));\r\n        return;\r\n      }\r\n    });\r\n  }\r\n\r\n  public disconnect(): void {\r\n    this.connectionState = 'disconnected';\r\n    this.clearStoredSessionId();\r\n    \r\n    // Clear heartbeat intervals\r\n    if (this.heartbeatInterval) {\r\n      clearInterval(this.heartbeatInterval);\r\n      this.heartbeatInterval = null;\r\n    }\r\n    if (this.pingInterval) {\r\n      clearInterval(this.pingInterval);\r\n      this.pingInterval = null;\r\n    }\r\n\r\n    // Clean up subscriptions\r\n    this.subscriptions.forEach((subscription, key) => {\r\n      try {\r\n        subscription.unsubscribe();\r\n      } catch (error) {\r\n        console.warn(`Error unsubscribing from ${key}:`, error);\r\n      }\r\n    });\r\n    this.subscriptions.clear();\r\n\r\n    // Deactivate client\r\n    if (this.client) {\r\n      try {\r\n        this.client.deactivate();\r\n      } catch (error) {\r\n        console.warn('Error deactivating WebSocket client:', error);\r\n      }\r\n    }\r\n    \r\n    this.isConnected = false;\r\n    this.currentGameId = null;\r\n    this.reconnectAttempts = 0;\r\n    \r\n    // Drop any queued messages; listeners stay registered for future reconnects\r\n    this.messageQueue = [];\r\n    this.pendingGameSubscriptions.clear();\r\n    this.lobbySubscriptionPending = false;\r\n    if (this.pendingSubscriptionFlushTimer) {\r\n      clearTimeout(this.pendingSubscriptionFlushTimer);\r\n      this.pendingSubscriptionFlushTimer = null;\r\n    }\r\n\r\n    console.log('WebSocket service disconnected and cleaned up');\r\n    this.clearConnectionNotices();\r\n  }\r\n\r\n  public onRoomDeleted(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('ROOM_DELETED', callback);\r\n  }\r\n\r\n  public subscribeToGame(gameId: string, userId?: string): void {\r\n    this.currentGameId = gameId;\r\n    if (userId !== undefined) {\r\n      this.lastSubscriptionUserId = userId;\r\n    }\r\n\r\n    const pending = this.pendingGameSubscriptions.get(gameId);\r\n    if (pending) {\r\n      pending.userId = userId ?? pending.userId;\r\n      pending.attempts = 0;\r\n      this.pendingGameSubscriptions.set(gameId, pending);\r\n    } else {\r\n      this.pendingGameSubscriptions.set(gameId, { userId, attempts: 0 });\r\n    }\r\n\r\n    if (!this.client || !this.isConnected || !this.client.connected) {\r\n      console.warn('Cannot subscribe - WebSocket not connected; deferring subscription', { gameId });\r\n      this.requestPendingSubscriptionFlush();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.performGameSubscription(gameId, userId);\r\n      this.pendingGameSubscriptions.delete(gameId);\r\n    } catch (error) {\r\n      if (this.isStompConnectionError(error)) {\r\n        console.warn('STOMP connection not ready, retrying game subscription soon', { gameId });\r\n        this.requestPendingSubscriptionFlush();\r\n        return;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  public unsubscribeFromGame(gameId: string, userId?: string): void {\r\n    const effectiveUserId = userId ?? this.lastSubscriptionUserId ?? undefined;\r\n    this.pendingGameSubscriptions.delete(gameId);\r\n    // Unsubscribe from game state\r\n    const gameStateSub = this.subscriptions.get(`game-state-${gameId}`);\r\n    if (gameStateSub) {\r\n      gameStateSub.unsubscribe();\r\n      this.subscriptions.delete(`game-state-${gameId}`);\r\n    }\r\n\r\n    // Unsubscribe from game events\r\n    const gameEventSub = this.subscriptions.get(`game-events-${gameId}`);\r\n    if (gameEventSub) {\r\n      gameEventSub.unsubscribe();\r\n      this.subscriptions.delete(`game-events-${gameId}`);\r\n    }\r\n\r\n    const playerStatusSub = this.subscriptions.get(`player-status-${gameId}`);\r\n    if (playerStatusSub) {\r\n      playerStatusSub.unsubscribe();\r\n      this.subscriptions.delete(`player-status-${gameId}`);\r\n    }\r\n\r\n    const gameStatusSub = this.subscriptions.get(`game-status-${gameId}`);\r\n    if (gameStatusSub) {\r\n      gameStatusSub.unsubscribe();\r\n      this.subscriptions.delete(`game-status-${gameId}`);\r\n    }\r\n\r\n    // Unsubscribe from chat\r\n    const chatSub = this.subscriptions.get(`chat-${gameId}`);\r\n    if (chatSub) {\r\n      chatSub.unsubscribe();\r\n      this.subscriptions.delete(`chat-${gameId}`);\r\n    }\r\n    const legacyChatSub = this.subscriptions.get(`chat-legacy-${gameId}`);\r\n    if (legacyChatSub) {\r\n      legacyChatSub.unsubscribe();\r\n      this.subscriptions.delete(`chat-legacy-${gameId}`);\r\n    }\r\n\r\n    // Unsubscribe from personal notifications\r\n    if (effectiveUserId) {\r\n      const notificationSub = this.subscriptions.get(`notifications-${effectiveUserId}`);\r\n      if (notificationSub) {\r\n        notificationSub.unsubscribe();\r\n        this.subscriptions.delete(`notifications-${effectiveUserId}`);\r\n      }\r\n    }\r\n\r\n    if (this.currentGameId === gameId) {\r\n      this.currentGameId = null;\r\n    }\r\n\r\n    if (!effectiveUserId || this.lastSubscriptionUserId === effectiveUserId) {\r\n      this.lastSubscriptionUserId = null;\r\n    }\r\n\r\n    console.log(`Unsubscribed from game: ${gameId}`);\r\n  }\r\n\r\n  public onLobbyUpdate(callback: LobbyUpdateCallback): () => void {\r\n    this.lobbyCallbacks.push(callback);\r\n\r\n    if (this.isConnected) {\r\n      this.subscribeToLobby();\r\n    } else {\r\n      this.lobbySubscriptionPending = true;\r\n      this.requestPendingSubscriptionFlush();\r\n    }\r\n\r\n    return () => {\r\n      this.lobbyCallbacks = this.lobbyCallbacks.filter(cb => cb !== callback);\r\n      if (this.lobbyCallbacks.length === 0) {\r\n        const subscription = this.subscriptions.get(this.lobbySubscriptionKey);\r\n        if (subscription) {\r\n          try {\r\n            subscription.unsubscribe();\r\n          } catch (error) {\r\n            console.warn('Error unsubscribing from lobby updates:', error);\r\n          }\r\n          this.subscriptions.delete(this.lobbySubscriptionKey);\r\n        }\r\n        this.lobbySubscriptionPending = false;\r\n      }\r\n    };\r\n  }\r\n\r\n  // Event subscription methods\r\n  public onGameEvent(eventType: string, callback: EventCallback): () => void {\r\n    if (!this.eventCallbacks.has(eventType)) {\r\n      this.eventCallbacks.set(eventType, []);\r\n    }\r\n    this.eventCallbacks.get(eventType)!.push(callback);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const callbacks = this.eventCallbacks.get(eventType);\r\n      if (callbacks) {\r\n        const index = callbacks.indexOf(callback);\r\n        if (index > -1) {\r\n          callbacks.splice(index, 1);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  public onChatMessage(callback: ChatCallback): () => void {\r\n    this.chatCallbacks.push(callback);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const index = this.chatCallbacks.indexOf(callback);\r\n      if (index > -1) {\r\n        this.chatCallbacks.splice(index, 1);\r\n      }\r\n    };\r\n  }\r\n\r\n  public ensureLobbySubscription(): void {\r\n    if (this.isConnected) {\r\n      this.subscribeToLobby();\r\n    } else if (this.lobbyCallbacks.length > 0) {\r\n      this.lobbySubscriptionPending = true;\r\n      this.requestPendingSubscriptionFlush();\r\n    }\r\n  }\r\n\r\n  public addConnectionCallback(callback: ConnectionCallback): void {\r\n    this.connectionCallbacks.push(callback);\r\n  }\r\n\r\n  public removeConnectionCallback(callback: ConnectionCallback): void {\r\n    const index = this.connectionCallbacks.indexOf(callback);\r\n    if (index > -1) {\r\n      this.connectionCallbacks.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public registerRawListener(listener: RawListener): () => void {\r\n    this.rawListeners.push(listener);\r\n    return () => {\r\n      this.rawListeners = this.rawListeners.filter(l => l !== listener);\r\n    };\r\n  }\r\n\r\n  public processQueue(): void {\r\n    this.flushQueue();\r\n  }\r\n\r\n  public safePublish(destination: string, body: any): string | undefined {\r\n    if (!this.client || !this.client.connected || !this.isConnected) {\r\n      return this.queueMessage(destination, body);\r\n    }\r\n    try {\r\n      this.client.publish({ destination, body: JSON.stringify(body) });\r\n      this.outboundListeners.forEach(l => l({ destination, body, sentAt: Date.now() }));\r\n      return undefined;\r\n    } catch (error) {\r\n      console.warn('Failed to publish immediately, queueing message', { destination, error });\r\n      return this.queueMessage(destination, body);\r\n    }\r\n  }\r\n\r\n  public sendChatMessage(\r\n    gameId: string,\r\n    message: string,\r\n    options?: { nickname?: string; type?: ChatMessageType }\r\n  ): void {\r\n    const normalizedType: ChatMessageType = options?.type ?? 'DISCUSSION';\r\n    const payload: Record<string, unknown> = {\r\n      gameNumber: Number(gameId),\r\n      content: message,\r\n      type: normalizedType,\r\n    };\r\n\r\n    if (options?.nickname) {\r\n      payload.playerNickname = options.nickname;\r\n    }\r\n\r\n    const client = this.client;\r\n    if (!client || !client.connected || !this.isConnected) {\r\n      const queuedId = this.safePublish('/app/chat.send', payload);\r\n      if (queuedId) {\r\n        this.showConnectionNotice('chat');\r\n        this.ensureConnectionAttempt();\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n      client.publish({ destination: '/app/chat.send', body: JSON.stringify(payload) });\r\n    } catch (error) {\r\n      console.warn('Falling back to queued send for chat message', { gameId, error });\r\n      const queuedId = this.safePublish('/app/chat.send', payload);\r\n      if (queuedId) {\r\n        this.showConnectionNotice('chat');\r\n        this.ensureConnectionAttempt();\r\n      }\r\n    }\r\n  }\r\n\r\n  public sendGameAction(gameId: string, action: string, payload: any = {}): void {\r\n    const client = this.client;\r\n    if (!client || !client.connected || !this.isConnected) {\r\n      const queuedId = this.safePublish(`/app/game/${gameId}/${action}`, payload);\r\n      if (queuedId) {\r\n        this.showConnectionNotice('action');\r\n        this.ensureConnectionAttempt();\r\n      }\r\n      return;\r\n    }\r\n    try {\r\n      client.publish({ destination: `/app/game/${gameId}/${action}`, body: JSON.stringify(payload) });\r\n    } catch (error) {\r\n      console.warn('Falling back to queued send for game action', { gameId, action, error });\r\n      const queuedId = this.safePublish(`/app/game/${gameId}/${action}`, payload);\r\n      if (queuedId) {\r\n        this.showConnectionNotice('action');\r\n        this.ensureConnectionAttempt();\r\n      }\r\n    }\r\n  }\r\n\r\n  public sendTopicGuess(gameId: string, guess: string): void {\r\n    this.sendGameAction(gameId, 'guess-topic', { guess });\r\n  }\r\n\r\n  public getConnectionState(): string {\r\n    return this.connectionState;\r\n  }\r\n\r\n  //     \r\n  public sendHint(gameId: string, hint: string): void {\r\n    this.sendGameAction(gameId, 'hint', { hint });\r\n  }\r\n\r\n  public sendVote(gameId: string, targetUserId: number): void {\r\n    this.sendGameAction(gameId, 'vote', { targetUserId });\r\n  }\r\n\r\n  public sendDefense(gameId: string, defenseText: string): void {\r\n    this.sendGameAction(gameId, 'defense', { defenseText });\r\n  }\r\n\r\n  public sendFinalVote(gameId: string, voteForExecution: boolean): void {\r\n    this.sendGameAction(gameId, 'final-vote', { voteForExecution });\r\n  }\r\n\r\n  public sendWordGuess(gameId: string, guess: string): void {\r\n    this.sendGameAction(gameId, 'guess', { guess });\r\n  }\r\n\r\n  public getQueuedMessageCount(): number {\r\n    return this.messageQueue.length;\r\n  }\r\n\r\n  public sendEndDefense(gameId: string): void {\r\n    this.sendGameAction(gameId, 'end-defense', {});\r\n  }\r\n\r\n  public sendEndRound(gameId: string): void {\r\n    this.sendGameAction(gameId, 'end-round', {});\r\n  }\r\n\r\n  //      \r\n  public onHintProvided(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('HINT_PROVIDED', callback);\r\n  }\r\n\r\n  public onVoteCast(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('VOTE_CAST', callback);\r\n  }\r\n\r\n  public onDefenseSubmitted(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('DEFENSE_SUBMITTED', callback);\r\n  }\r\n\r\n  public onPhaseChanged(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('PHASE_CHANGED', callback);\r\n  }\r\n\r\n  public onTimerUpdate(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('TIMER_UPDATE', callback);\r\n  }\r\n\r\n  public onGameStateUpdate(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('GAME_STATE_UPDATED', callback);\r\n  }\r\n\r\n  public onRoundEnded(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('ROUND_ENDED', callback);\r\n  }\r\n\r\n  public onGameEnded(callback: (event: GameEvent) => void): () => void {\r\n    return this.onGameEvent('GAME_ENDED', callback);\r\n  }\r\n\r\n  //   \r\n  public getConnectionStatus(): boolean {\r\n    return this.isConnected;\r\n  }\r\n\r\n  public clearMessageQueue(): void {\r\n    this.messageQueue = [];\r\n    console.log('Message queue cleared');\r\n  }\r\n\r\n  public getCurrentGameId(): string | null {\r\n    return this.currentGameId;\r\n  }\r\n\r\n  public getReconnectAttempts(): number {\r\n    return this.reconnectAttempts;\r\n  }\r\n\r\n  private performGameSubscription(gameId: string, userId?: string): void {\r\n    const client = this.client;\r\n    if (!client) {\r\n      throw new Error('WebSocket client not ready');\r\n    }\r\n\r\n    const cleanupKeys = [\r\n      `game-state-${gameId}`,\r\n      `game-events-${gameId}`,\r\n      `player-status-${gameId}`,\r\n      `game-status-${gameId}`,\r\n      `chat-${gameId}`,\r\n      `chat-legacy-${gameId}`\r\n    ];\r\n    cleanupKeys.forEach(key => {\r\n      const existing = this.subscriptions.get(key);\r\n      if (existing) {\r\n        try {\r\n          existing.unsubscribe();\r\n        } catch (error) {\r\n          console.warn(`Error unsubscribing stale listener ${key}:`, error);\r\n        }\r\n        this.subscriptions.delete(key);\r\n      }\r\n    });\r\n\r\n    const gameStateSub = client.subscribe(\r\n      `/topic/game/${gameId}/state`,\r\n      this.handleGameEvent.bind(this)\r\n    );\r\n    this.subscriptions.set(`game-state-${gameId}`, gameStateSub);\r\n\r\n    const gameEventSub = client.subscribe(\r\n      `/topic/game/${gameId}/events`,\r\n      this.handleGameEvent.bind(this)\r\n    );\r\n    this.subscriptions.set(`game-events-${gameId}`, gameEventSub);\r\n\r\n    const playerStatusSub = client.subscribe(\r\n      `/topic/game/${gameId}/player-status`,\r\n      this.handleGameEvent.bind(this)\r\n    );\r\n    this.subscriptions.set(`player-status-${gameId}`, playerStatusSub);\r\n\r\n    const gameStatusSub = client.subscribe(\r\n      `/topic/game/${gameId}/game-status`,\r\n      this.handleGameEvent.bind(this)\r\n    );\r\n    this.subscriptions.set(`game-status-${gameId}`, gameStatusSub);\r\n\r\n    const chatTopic = `/topic/chat.${gameId}`;\r\n    const chatSub = client.subscribe(\r\n      chatTopic,\r\n      this.handleChatMessage.bind(this)\r\n    );\r\n    this.subscriptions.set(`chat-${gameId}`, chatSub);\r\n\r\n    const legacyChatTopic = `/topic/game/${gameId}/chat`;\r\n    const legacyChatSub = client.subscribe(\r\n      legacyChatTopic,\r\n      this.handleChatMessage.bind(this)\r\n    );\r\n    this.subscriptions.set(`chat-legacy-${gameId}`, legacyChatSub);\r\n\r\n    if (userId) {\r\n      const notificationKey = `notifications-${userId}`;\r\n      const existingNotificationSub = this.subscriptions.get(notificationKey);\r\n      if (existingNotificationSub) {\r\n        try {\r\n          existingNotificationSub.unsubscribe();\r\n        } catch (error) {\r\n          console.warn(`Error unsubscribing stale listener ${notificationKey}:`, error);\r\n        }\r\n        this.subscriptions.delete(notificationKey);\r\n      }\r\n\r\n      const notificationSub = client.subscribe(\r\n        `/topic/user/${userId}/notifications`,\r\n        this.handlePersonalNotification.bind(this)\r\n      );\r\n      this.subscriptions.set(notificationKey, notificationSub);\r\n    }\r\n\r\n    console.log(`Subscribed to game: ${gameId}`);\r\n  }\r\n\r\n  private notifyRawListeners(payload: RawWebSocketPayload): void {\r\n    if (!this.rawListeners.length) return;\r\n    for (const listener of this.rawListeners) {\r\n      try {\r\n        listener(payload);\r\n      } catch (error) {\r\n        console.error('Raw listener error:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  private subscribeToLobby(): void {\r\n    if (this.lobbyCallbacks.length === 0) {\r\n      this.lobbySubscriptionPending = false;\r\n      return;\r\n    }\r\n\r\n    if (!this.client || !this.isConnected || !this.client.connected) {\r\n      this.lobbySubscriptionPending = true;\r\n      this.requestPendingSubscriptionFlush();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.performLobbySubscription();\r\n      this.lobbySubscriptionPending = false;\r\n    } catch (error) {\r\n      if (this.isStompConnectionError(error)) {\r\n        console.warn('STOMP connection not ready for lobby subscription, retrying shortly', error);\r\n        this.lobbySubscriptionPending = true;\r\n        this.requestPendingSubscriptionFlush();\r\n        return;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private performLobbySubscription(): void {\r\n    const client = this.client;\r\n    if (!client) {\r\n      throw new Error('WebSocket client not ready');\r\n    }\r\n\r\n    const existing = this.subscriptions.get(this.lobbySubscriptionKey);\r\n    if (existing) {\r\n      try {\r\n        existing.unsubscribe();\r\n      } catch (error) {\r\n        console.warn('Error unsubscribing existing lobby listener:', error);\r\n      }\r\n      this.subscriptions.delete(this.lobbySubscriptionKey);\r\n    }\r\n\r\n    const subscription = client.subscribe('/topic/lobby', this.handleLobbyMessage.bind(this));\r\n    this.subscriptions.set(this.lobbySubscriptionKey, subscription);\r\n    console.log('Subscribed to lobby updates');\r\n  }\r\n\r\n  private requestPendingSubscriptionFlush(delay = 200): void {\r\n    if (this.pendingSubscriptionFlushTimer) {\r\n      clearTimeout(this.pendingSubscriptionFlushTimer);\r\n    }\r\n\r\n    this.pendingSubscriptionFlushTimer = setTimeout(() => {\r\n      this.pendingSubscriptionFlushTimer = null;\r\n      this.flushPendingSubscriptions();\r\n    }, delay);\r\n  }\r\n\r\n  private flushPendingSubscriptions(): void {\r\n    if (!this.client || !this.isConnected || !this.client.connected) {\r\n      if (this.pendingGameSubscriptions.size > 0 || this.lobbySubscriptionPending) {\r\n        this.requestPendingSubscriptionFlush();\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.lobbySubscriptionPending) {\r\n      try {\r\n        this.performLobbySubscription();\r\n        this.lobbySubscriptionPending = false;\r\n      } catch (error) {\r\n        if (this.isStompConnectionError(error)) {\r\n          this.requestPendingSubscriptionFlush();\r\n        } else {\r\n          console.error('Failed to subscribe to lobby updates:', error);\r\n          this.lobbySubscriptionPending = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.pendingGameSubscriptions.size > 0) {\r\n      for (const [gameId, meta] of [...this.pendingGameSubscriptions.entries()]) {\r\n        try {\r\n          this.performGameSubscription(gameId, meta.userId);\r\n          this.pendingGameSubscriptions.delete(gameId);\r\n        } catch (error) {\r\n          if (this.isStompConnectionError(error)) {\r\n            meta.attempts += 1;\r\n            if (meta.attempts >= this.maxSubscriptionAttempts) {\r\n              console.error('Giving up on game subscription after repeated failures', { gameId, error });\r\n              this.pendingGameSubscriptions.delete(gameId);\r\n            } else {\r\n              this.pendingGameSubscriptions.set(gameId, meta);\r\n              this.requestPendingSubscriptionFlush(Math.min(1000, 200 * meta.attempts));\r\n            }\r\n          } else {\r\n            console.error('Unexpected error subscribing to game channel', { gameId, error });\r\n            this.pendingGameSubscriptions.delete(gameId);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private isStompConnectionError(error: unknown): boolean {\r\n    if (!error) {\r\n      return false;\r\n    }\r\n\r\n    const message = error instanceof Error ? error.message : String(error);\r\n    return message.includes('There is no underlying STOMP connection')\r\n      || message.includes('Underlying connection is not open')\r\n      || message.includes('Lost connection')\r\n      || message.includes('not connected');\r\n  }\r\n\r\n  private forceDisconnectClient(reason?: string): void {\r\n    if (!this.client) {\r\n      return;\r\n    }\r\n\r\n    const isActive = this.client.active || this.client.connected;\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (import.meta.env.DEV) {\r\n        console.log('Forcing STOMP disconnect', reason ? `(${reason})` : '');\r\n      }\r\n      this.client.forceDisconnect();\r\n      this.clearStoredSessionId();\r\n    } catch (error) {\r\n      console.warn('Failed to force STOMP disconnect', { reason, error });\r\n    }\r\n    // onDisconnect handler will finish the cleanup (stop heartbeat, etc.)\r\n  }\r\n\r\n  // Send methods\r\n  private flushQueue() {\r\n    if (!this.isConnected || !this.client || !this.client.connected || this.messageQueue.length === 0) return;\r\n\r\n    console.log(`Flushing ${this.messageQueue.length} queued messages`);\r\n    const toRetry: typeof this.messageQueue = [];\r\n\r\n    // Process all queued messages\r\n    while (this.messageQueue.length > 0) {\r\n      const message = this.messageQueue.shift()!;\r\n      message.attempts++;\r\n\r\n      try {\r\n        this.client.publish({\r\n          destination: message.destination,\r\n          body: JSON.stringify(message.body)\r\n        });\r\n\r\n        this.outboundListeners.forEach(l => l({\r\n          destination: message.destination,\r\n          body: message.body,\r\n          sentAt: Date.now()\r\n        }));\r\n\r\n        console.log(`Successfully sent queued message ${message.id}`);\r\n\r\n      } catch (error) {\r\n        console.error(`Failed to send queued message ${message.id}, attempt ${message.attempts}:`, error);\r\n\r\n        // Retry message if under attempt limit\r\n        if (message.attempts < this.maxMessageAttempts) {\r\n          toRetry.push(message);\r\n        } else {\r\n          console.error(`Dropping message ${message.id} after ${message.attempts} failed attempts`);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Re-queue messages that need retry\r\n    this.messageQueue = toRetry;\r\n\r\n    if (toRetry.length > 0) {\r\n      console.log(`Re-queued ${toRetry.length} messages for retry`);\r\n    }\r\n  }\r\n\r\n  private queueMessage(destination: string, body: any): string {\r\n    // Remove oldest message if queue is full\r\n    if (this.messageQueue.length >= this.maxQueue) {\r\n      const removed = this.messageQueue.shift();\r\n      console.warn('Message queue full, removed oldest message:', removed?.id);\r\n    }\r\n\r\n    const id = `${Date.now()}-${Math.random().toString(36).slice(2)}`;\r\n    this.messageQueue.push({\r\n      id,\r\n      destination,\r\n      body,\r\n      attempts: 0,\r\n      timestamp: Date.now()\r\n    });\r\n\r\n    console.log(`Queued message ${id} to ${destination}`);\r\n    return id;\r\n  }\r\n\r\n  private showConnectionNotice(context: 'chat' | 'action'): void {\r\n    const id = context === 'chat' ? 'realtime-queue-chat' : 'realtime-queue-action';\r\n    if (this.connectionNoticeIds.has(id)) {\r\n      return;\r\n    }\r\n\r\n    const message = context === 'chat'\r\n      ? '   .    .'\r\n      : '   .   .';\r\n\r\n    toast.info(message, {\r\n      id,\r\n      duration: 4000,\r\n    });\r\n\r\n    this.connectionNoticeIds.add(id);\r\n  }\r\n\r\n  private clearConnectionNotices(): void {\r\n    if (!this.connectionNoticeIds.size) {\r\n      return;\r\n    }\r\n\r\n    for (const id of this.connectionNoticeIds) {\r\n      toast.dismiss(id);\r\n    }\r\n\r\n    this.connectionNoticeIds.clear();\r\n  }\r\n\r\n  private ensureConnectionAttempt(): void {\r\n    if (this.connectionState === 'connected'\r\n      || this.connectionState === 'connecting'\r\n      || this.connectionState === 'reconnecting') {\r\n      return;\r\n    }\r\n\r\n    void this.connect().catch(error => {\r\n      console.error('Automatic websocket reconnect failed after queuing message', error);\r\n    });\r\n  }\r\n\r\n  private subscribeToUserQueues(): void {\r\n    if (!this.client) {\r\n      return;\r\n    }\r\n\r\n    const existingConnectionSub = this.subscriptions.get(this.userConnectionKey);\r\n    if (existingConnectionSub) {\r\n      try {\r\n        existingConnectionSub.unsubscribe();\r\n      } catch (error) {\r\n        console.warn('Error unsubscribing existing user connection listener:', error);\r\n      }\r\n      this.subscriptions.delete(this.userConnectionKey);\r\n    }\r\n\r\n    const connectionSub = this.client.subscribe('/user/queue/connection', this.handleConnectionQueue.bind(this));\r\n    this.subscriptions.set(this.userConnectionKey, connectionSub);\r\n\r\n    const existingHeartbeatSub = this.subscriptions.get(this.userHeartbeatKey);\r\n    if (existingHeartbeatSub) {\r\n      try {\r\n        existingHeartbeatSub.unsubscribe();\r\n      } catch (error) {\r\n        console.warn('Error unsubscribing existing user heartbeat listener:', error);\r\n      }\r\n      this.subscriptions.delete(this.userHeartbeatKey);\r\n    }\r\n\r\n    const heartbeatSub = this.client.subscribe('/user/queue/heartbeat', this.handleHeartbeatQueue.bind(this));\r\n    this.subscriptions.set(this.userHeartbeatKey, heartbeatSub);\r\n  }\r\n\r\n  private getStoredSessionId(): string | null {\r\n    if (typeof window === 'undefined') {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const stored = window.localStorage.getItem(this.storageKeys.session);\r\n      if (stored) {\r\n        return stored;\r\n      }\r\n      return window.localStorage.getItem(this.storageKeys.legacy);\r\n    } catch (error) {\r\n      console.warn('Failed to read stored WebSocket session id', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private storeSessionId(sessionId: string): void {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      window.localStorage.setItem(this.storageKeys.session, sessionId);\r\n      window.localStorage.removeItem(this.storageKeys.legacy);\r\n    } catch (error) {\r\n      console.warn('Failed to persist WebSocket session id', error);\r\n    }\r\n  }\r\n\r\n  private clearStoredSessionId(): void {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      window.localStorage.removeItem(this.storageKeys.session);\r\n      window.localStorage.removeItem(this.storageKeys.legacy);\r\n    } catch (error) {\r\n      console.warn('Failed to clear WebSocket session id', error);\r\n    }\r\n  }\r\n\r\n  private stopHeartbeat(): void {\r\n    if (this.pingInterval) {\r\n      clearInterval(this.pingInterval);\r\n      this.pingInterval = null;\r\n    }\r\n    if (this.heartbeatInterval) {\r\n      clearInterval(this.heartbeatInterval);\r\n      this.heartbeatInterval = null;\r\n    }\r\n  }\r\n\r\n  // Heartbeat and connection monitoring\r\n  private startHeartbeat(): void {\r\n    this.stopHeartbeat(); // Clear any existing intervals\r\n\r\n    // Send heartbeat every 15 seconds\r\n    this.pingInterval = setInterval(() => {\r\n      if (this.isConnected && this.client?.connected) {\r\n        try {\r\n          this.client.publish({\r\n            destination: '/app/heartbeat',\r\n            body: JSON.stringify({ timestamp: Date.now() })\r\n          });\r\n        } catch (error) {\r\n          console.error('Failed to send ping:', error);\r\n          this.isConnected = false;\r\n          this.connectionState = 'reconnecting';\r\n          this.ensureConnectionAttempt();\r\n        }\r\n      } else if (!this.client?.connected && this.connectionState !== 'connecting') {\r\n        this.isConnected = false;\r\n        this.ensureConnectionAttempt();\r\n      }\r\n    }, 15000);\r\n\r\n    // Check for missed acknowledgements every 30 seconds\r\n    this.heartbeatInterval = setInterval(() => {\r\n      const now = Date.now();\r\n      const timeSinceAck = now - this.lastHeartbeatAck;\r\n\r\n      if (timeSinceAck > 60000) {\r\n        console.warn('No heartbeat acknowledgement for 60 seconds, forcing disconnect');\r\n        if (this.client) {\r\n          this.client.forceDisconnect();\r\n        }\r\n      }\r\n    }, 30000);\r\n  }\r\n\r\n  // Handle pong response\r\n  private resolveWebSocketUrl(): string {\r\n    const normalizeCandidate = (raw?: string | null): string | null => {\r\n      if (!raw) {\r\n        return null;\r\n      }\r\n      const trimmed = raw.trim();\r\n      if (!trimmed.length) {\r\n        return null;\r\n      }\r\n\r\n      let working = trimmed;\r\n\r\n      if (/^ws(s)?:\\/\\//i.test(working)) {\r\n        working = working.replace(/^ws(s)?:\\/\\//i, (_match, secure) => (secure ? 'https://' : 'http://'));\r\n      } else if (/^\\/\\//.test(working)) {\r\n        working = `http:${working}`;\r\n      }\r\n\r\n      if (!/^https?:\\/\\//i.test(working) && !working.startsWith('/')) {\r\n        working = `http://${working}`;\r\n      }\r\n\r\n      if (working.startsWith('/')) {\r\n        const path = working.replace(/\\/+$/, '');\r\n        if (!path.length) {\r\n          return '/ws';\r\n        }\r\n        return path.endsWith('/ws') ? path : `${path}/ws`;\r\n      }\r\n\r\n      try {\r\n        const url = new URL(working);\r\n        const basePath = url.pathname?.trim() ?? '';\r\n        const normalizedPath = basePath.length > 0 && basePath !== '/'\r\n          ? basePath.replace(/\\/+$/, '')\r\n          : '';\r\n        url.pathname = normalizedPath.endsWith('/ws')\r\n          ? normalizedPath\r\n          : `${normalizedPath}/ws`.replace(/^\\/?/, '/');\r\n        url.search = '';\r\n        url.hash = '';\r\n        return url.toString();\r\n      } catch (error) {\r\n        if (import.meta.env.DEV) {\r\n          console.warn('Invalid websocket URL candidate:', working, error);\r\n        }\r\n        return null;\r\n      }\r\n    };\r\n\r\n    const envCandidates = [\r\n      normalizeCandidate(import.meta.env.VITE_WS_BASE_URL as string | undefined),\r\n      normalizeCandidate(import.meta.env.VITE_WS_URL as string | undefined),\r\n    ].filter((value): value is string => Boolean(value));\r\n\r\n    for (const candidate of envCandidates) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n    }\r\n\r\n    const apiCandidate = normalizeCandidate(import.meta.env.VITE_API_BASE_URL as string | undefined);\r\n    if (apiCandidate) {\r\n      return apiCandidate;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n      const { protocol, hostname, port } = window.location;\r\n      const fallbackPortMap: Record<string, string> = {\r\n        '5173': '20021',\r\n        '3000': '8080',\r\n      };\r\n      const derivedPort = fallbackPortMap[port];\r\n      if (derivedPort) {\r\n        const derivedCandidate = `${protocol === 'https:' ? 'https' : 'http'}://${hostname}:${derivedPort}`;\r\n        const normalizedDerived = normalizeCandidate(derivedCandidate);\r\n        if (normalizedDerived) {\r\n          return normalizedDerived;\r\n        }\r\n      }\r\n    }\r\n\r\n    const defaultCandidates = [\r\n      normalizeCandidate('http://218.150.3.77:20021'),\r\n      normalizeCandidate('http://218.150.3.77:8080'),\r\n    ].filter((value): value is string => Boolean(value));\r\n\r\n    for (const candidate of defaultCandidates) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n      const originFallback = normalizeCandidate(window.location.origin);\r\n      if (originFallback) {\r\n        return originFallback;\r\n      }\r\n    }\r\n\r\n    return '/ws';\r\n  }\r\n\r\n  private setupClient(): void {\r\n    const socketUrl = this.resolveWebSocketUrl();\r\n    const socketOptions: (SockJS.Options & {\r\n      withCredentials?: boolean;\r\n      transportOptions?: Record<string, { withCredentials: boolean }>;\r\n    }) = {\r\n      withCredentials: true,\r\n      transports: ['websocket', 'xhr-streaming', 'xhr-polling'],\r\n      // Ensure SockJS transports forward session cookies for cross-origin setups\r\n      transportOptions: {\r\n        websocket: { withCredentials: true },\r\n        'xhr-streaming': { withCredentials: true },\r\n        'xhr-polling': { withCredentials: true },\r\n      },\r\n    };\r\n    const createSocket = () => new SockJS(socketUrl, undefined, socketOptions);\r\n\r\n    //    \r\n    const connectHeaders: Record<string, string> = {};\r\n    const oldSessionId = this.getStoredSessionId();\r\n    if (oldSessionId) {\r\n      connectHeaders['x-old-session-id'] = oldSessionId;\r\n    }\r\n\r\n    const stompConfig: StompConfig = {\r\n      webSocketFactory: createSocket,\r\n      connectHeaders,\r\n      debug: (str: string) => {\r\n        if (import.meta.env.DEV) {\r\n          console.log('STOMP Debug:', str);\r\n        }\r\n      },\r\n      onConnect: this.onConnect.bind(this),\r\n      onDisconnect: this.onDisconnect.bind(this),\r\n      onStompError: this.onError.bind(this),\r\n      heartbeatIncoming: 4000,\r\n      heartbeatOutgoing: 4000,\r\n      reconnectDelay: 0, // We handle reconnection manually\r\n    };\r\n\r\n    this.client = new StompClient(stompConfig);\r\n  }\r\n\r\n  private ensureClient(): StompClient {\r\n    if (!this.client) {\r\n      this.setupClient();\r\n    }\r\n    if (!this.client) {\r\n      throw new Error('WebSocket client  .');\r\n    }\r\n    return this.client;\r\n  }\r\n\r\n  private onDisconnect(): void {\r\n    console.log('WebSocket disconnected');\r\n    this.isConnected = false;\r\n    this.clearStoredSessionId();\r\n\r\n    // Stop heartbeat monitoring\r\n    this.stopHeartbeat();\r\n\r\n    // Only update connection state if not already reconnecting\r\n    if (this.connectionState !== 'reconnecting') {\r\n      this.connectionState = 'disconnected';\r\n    }\r\n\r\n    // Notify connection callbacks\r\n    this.connectionCallbacks.forEach(callback => {\r\n      try {\r\n        callback(false);\r\n      } catch (error) {\r\n        console.error('Error in disconnection callback:', error);\r\n      }\r\n    });\r\n\r\n    // Clear subscriptions but keep the map for re-subscription\r\n    this.subscriptions.forEach((subscription, key) => {\r\n      try {\r\n        subscription.unsubscribe();\r\n      } catch (error) {\r\n        console.warn(`Error unsubscribing from ${key} on disconnect:`, error);\r\n      }\r\n    });\r\n    // Don't clear the subscriptions map - we'll need it for re-subscription\r\n\r\n    // Attempt reconnection only if not manually disconnected\r\n    if (this.connectionState !== 'disconnected') {\r\n      this.attemptReconnection();\r\n      toast.error('  .  .');\r\n    }\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    console.error('STOMP Error:', error);\r\n    toast.error('   ');\r\n  }\r\n\r\n  private attemptReconnection(): void {\r\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\r\n      console.error('Max reconnection attempts reached');\r\n      this.connectionState = 'disconnected';\r\n      toast.error(' .  .');\r\n      return;\r\n    }\r\n\r\n    if (this.connectionState === 'reconnecting') {\r\n      return; // Already attempting to reconnect\r\n    }\r\n\r\n    this.connectionState = 'reconnecting';\r\n    this.reconnectAttempts++;\r\n    \r\n    // Exponential backoff with jitter and max delay cap\r\n    const baseDelay = this.baseReconnectDelay * Math.pow(2, this.reconnectAttempts - 1);\r\n    const jitter = Math.random() * 1000; // Add randomness to prevent thundering herd\r\n    const delay = Math.min(baseDelay + jitter, this.maxReconnectDelay);\r\n\r\n    console.log(`Attempting reconnection ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${Math.round(delay)}ms`);\r\n    toast.info(`  ... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\r\n\r\n    setTimeout(() => {\r\n      if (this.connectionState === 'reconnecting') {\r\n        try {\r\n          // Setup fresh client for reconnection\r\n          this.setupClient();\r\n          if (this.client) {\r\n            this.client.activate();\r\n          }\r\n        } catch (error) {\r\n          console.error('Error during reconnection setup:', error);\r\n          this.connectionState = 'disconnected';\r\n          // Retry after a short delay\r\n          setTimeout(() => this.attemptReconnection(), 1000);\r\n        }\r\n      }\r\n    }, delay);\r\n  }\r\n\r\n  private handleLobbyMessage(message: IMessage): void {\r\n    try {\r\n      const raw = JSON.parse(message.body ?? '{}') ?? {};\r\n      const rawGameNumber = raw.gameNumber ?? raw.gameId ?? raw.id;\r\n      const parsedNumber = typeof rawGameNumber === 'number'\r\n        ? rawGameNumber\r\n        : typeof rawGameNumber === 'string'\r\n          ? Number.parseInt(rawGameNumber, 10)\r\n          : undefined;\r\n      const normalizedGameNumber = typeof parsedNumber === 'number' && Number.isFinite(parsedNumber)\r\n        ? parsedNumber\r\n        : rawGameNumber;\r\n\r\n      const normalized: LobbyUpdate = {\r\n        ...raw,\r\n        type: typeof raw.type === 'string' ? raw.type : 'UNKNOWN',\r\n        gameNumber: normalizedGameNumber,\r\n        currentPlayers: typeof raw.currentPlayers === 'number' ? raw.currentPlayers : undefined,\r\n        maxPlayers: typeof raw.maxPlayers === 'number' ? raw.maxPlayers : undefined,\r\n      };\r\n\r\n      const nickname = typeof raw.nickname === 'string' ? raw.nickname : undefined;\r\n      if (nickname) {\r\n        normalized.nickname = nickname;\r\n      }\r\n      if (typeof raw.playerName === 'string') {\r\n        normalized.playerName = raw.playerName;\r\n      } else if (nickname) {\r\n        normalized.playerName = nickname;\r\n      }\r\n\r\n      const parsedUserId = typeof raw.userId === 'number'\r\n        ? raw.userId\r\n        : typeof raw.userId === 'string'\r\n          ? Number.parseInt(raw.userId, 10)\r\n          : undefined;\r\n      if (typeof parsedUserId === 'number' && Number.isFinite(parsedUserId)) {\r\n        normalized.userId = parsedUserId;\r\n      }\r\n\r\n      this.notifyRawListeners({\r\n        type: 'lobby',\r\n        data: normalized,\r\n        receivedAt: Date.now(),\r\n        destination: message.headers?.destination,\r\n      });\r\n\r\n      this.lobbyCallbacks.forEach(callback => {\r\n        try {\r\n          callback(normalized);\r\n        } catch (error) {\r\n          console.error('Error in lobby callback:', error);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error parsing lobby message:', error);\r\n    }\r\n  }\r\n\r\n  private onConnect(frame: any): void {\r\n    console.log('WebSocket connected', frame);\r\n    this.isConnected = true;\r\n    this.connectionState = 'connected';\r\n    this.reconnectAttempts = 0;\r\n    this.lastHeartbeatAck = Date.now();\r\n\r\n    //  ID  ( )\r\n    const sessionId = frame.headers?.['session'];\r\n    if (sessionId) {\r\n      this.storeSessionId(sessionId);\r\n      console.log('Stored WebSocket session ID:', sessionId);\r\n    }\r\n\r\n    // Start heartbeat monitoring\r\n    this.startHeartbeat();\r\n\r\n    this.subscribeToLobby();\r\n    this.subscribeToUserQueues();\r\n    this.flushPendingSubscriptions();\r\n\r\n    // Notify connection callbacks\r\n    this.connectionCallbacks.forEach(callback => {\r\n      try {\r\n        callback(true);\r\n      } catch (error) {\r\n        console.error('Error in connection callback:', error);\r\n      }\r\n    });\r\n\r\n    // Re-subscribe to previous subscriptions if any\r\n    if (this.currentGameId) {\r\n      const pendingGameId = this.currentGameId;\r\n      const pendingUserId = this.lastSubscriptionUserId ?? undefined;\r\n      console.log('Re-subscribing to game:', pendingGameId);\r\n      // Small delay to ensure connection is fully established\r\n      setTimeout(() => {\r\n        if (this.currentGameId === pendingGameId) {\r\n          this.subscribeToGame(pendingGameId, pendingUserId);\r\n        }\r\n      }, 100);\r\n    }\r\n\r\n    // Flush any queued messages\r\n    this.flushQueue();\r\n    this.clearConnectionNotices();\r\n\r\n    if (this.reconnectAttempts > 0) {\r\n      toast.success(' !');\r\n    }\r\n  }\r\n\r\n  private handleConnectionQueue(message: IMessage): void {\r\n    try {\r\n      const payload = JSON.parse(message.body ?? '{}');\r\n      const type = typeof payload.type === 'string' ? payload.type : 'CONNECTION_EVENT';\r\n\r\n      this.notifyRawListeners({\r\n        type: 'system',\r\n        data: payload,\r\n        receivedAt: Date.now(),\r\n        destination: message.headers?.destination,\r\n      });\r\n\r\n      if (type === 'RECONNECTION_REQUIRED') {\r\n        this.connectionState = 'reconnecting';\r\n        this.isConnected = false;\r\n        this.connectionCallbacks.forEach(callback => {\r\n          try {\r\n            callback(false);\r\n          } catch (error) {\r\n            console.error('Error in connection callback:', error);\r\n          }\r\n        });\r\n        this.forceDisconnectClient('server requested reconnection');\r\n      } else if (type === 'CONNECTION_CLOSED') {\r\n        this.connectionState = 'disconnected';\r\n        this.isConnected = false;\r\n        this.connectionCallbacks.forEach(callback => {\r\n          try {\r\n            callback(false);\r\n          } catch (error) {\r\n            console.error('Error in connection callback:', error);\r\n          }\r\n        });\r\n        this.forceDisconnectClient('server closed connection');\r\n      }\r\n\r\n      if (type === 'CONNECTION_ESTABLISHED' || type === 'RECONNECTION_SUCCESS') {\r\n        this.connectionState = 'connected';\r\n        this.connectionCallbacks.forEach(callback => {\r\n          try {\r\n            callback(true);\r\n          } catch (error) {\r\n            console.error('Error in connection callback:', error);\r\n          }\r\n        });\r\n      }\r\n            // \r\n      if (type === 'RECONNECTION_REQUIRED') {\r\n        toast.error(payload.message ?? ' .  .');\r\n      } else if (type === 'CONNECTION_ESTABLISHED' && this.reconnectAttempts === 0) {\r\n        toast.success(payload.message ?? '  ');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error handling connection queue message:', error);\r\n    }\r\n  }\r\n\r\n  private handleHeartbeatQueue(message: IMessage): void {\r\n    try {\r\n      const payload = JSON.parse(message.body ?? '{}');\r\n      this.lastHeartbeatAck = Date.now();\r\n      this.notifyRawListeners({\r\n        type: 'system',\r\n        data: payload,\r\n        receivedAt: this.lastHeartbeatAck,\r\n        destination: message.headers?.destination,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error handling heartbeat queue message:', error);\r\n    }\r\n  }\r\n\r\n  private normalizeGameEvent(raw: unknown, message: IMessage): GameEvent | null {\r\n    const destination = message.headers?.destination ?? '';\r\n    const extractGameId = (value: unknown): string | null => {\r\n      if (value == null) {\r\n        return null;\r\n      }\r\n      if (typeof value === 'string' && value.trim().length > 0) {\r\n        return value;\r\n      }\r\n      if (typeof value === 'number' && Number.isFinite(value)) {\r\n        return value.toString();\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const resolveGameId = (): string => {\r\n      const record = typeof raw === 'object' && raw !== null ? (raw as Record<string, unknown>) : null;\r\n      const fromExplicitGameId = record ? extractGameId(record['gameId']) : null;\r\n      const fromAlternateGameNumber = record ? extractGameId(record['gameNumber']) : null;\r\n      const rawGameId = fromExplicitGameId ?? fromAlternateGameNumber ?? extractGameId(this.currentGameId);\r\n      return rawGameId ?? '';\r\n    };\r\n\r\n    const extractTimestamp = (value: any): number => {\r\n      const candidate = value?.timestamp ?? value?.sentAt ?? value?.createdAt ?? value?.time;\r\n      if (typeof candidate === 'number' && Number.isFinite(candidate)) {\r\n        return candidate;\r\n      }\r\n      if (typeof candidate === 'string') {\r\n        const parsed = Date.parse(candidate);\r\n        if (!Number.isNaN(parsed)) {\r\n          return parsed;\r\n        }\r\n      }\r\n      return Date.now();\r\n    };\r\n\r\n    if (raw == null) {\r\n      return null;\r\n    }\r\n\r\n    const timestamp = extractTimestamp(raw as any);\r\n\r\n    if (typeof raw === 'string') {\r\n      if (destination.includes('/state')) {\r\n        return {\r\n          type: 'GAME_STATE_UPDATED',\r\n          gameId: resolveGameId(),\r\n          payload: { state: raw },\r\n          timestamp,\r\n        } as unknown as GameEvent;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    if (typeof raw !== 'object') {\r\n      return {\r\n        type: 'GAME_STATE_UPDATED',\r\n        gameId: resolveGameId(),\r\n        payload: { state: raw },\r\n        timestamp,\r\n      } as unknown as GameEvent;\r\n    }\r\n\r\n    const record = raw as Record<string, unknown>;\r\n    const rawType = record['type'] ?? record['eventType'] ?? record['event_type'];\r\n    const normalizedType = typeof rawType === 'string' ? rawType.toUpperCase() : null;\r\n\r\n    const coercePayload = (): any => {\r\n      if (record['payload'] !== undefined) {\r\n        return record['payload'];\r\n      }\r\n      if (record['data'] !== undefined) {\r\n        return record['data'];\r\n      }\r\n      const clone: Record<string, unknown> = { ...record };\r\n      delete clone['type'];\r\n      delete clone['eventType'];\r\n      delete clone['event_type'];\r\n      delete clone['gameNumber'];\r\n      delete clone['gameId'];\r\n      delete clone['timestamp'];\r\n      delete clone['payload'];\r\n      delete clone['data'];\r\n      return clone;\r\n    };\r\n\r\n    if (normalizedType) {\r\n      const canonicalType =\r\n        normalizedType === 'GAME_STATE_UPDATE' || normalizedType === 'STATE'\r\n          ? 'GAME_STATE_UPDATED'\r\n          : normalizedType;\r\n\r\n      const payload = coercePayload();\r\n\r\n      return {\r\n        type: canonicalType,\r\n        gameId: resolveGameId(),\r\n        payload,\r\n        timestamp,\r\n      } as unknown as GameEvent;\r\n    }\r\n\r\n    const payload = record['payload'] ?? record;\r\n\r\n    if (destination.includes('/state')) {\r\n      return {\r\n        type: 'GAME_STATE_UPDATED',\r\n        gameId: resolveGameId(),\r\n        payload: { gameState: payload },\r\n        timestamp,\r\n      } as unknown as GameEvent;\r\n    }\r\n\r\n    return {\r\n      type: 'GAME_STATE_UPDATED',\r\n      gameId: resolveGameId(),\r\n      payload: { gameState: payload },\r\n      timestamp,\r\n    } as unknown as GameEvent;\r\n  }\r\n\r\n  private handleGameEvent(message: IMessage): void {\r\n    try {\r\n      const raw = message.body ? JSON.parse(message.body) : null;\r\n      const event = this.normalizeGameEvent(raw, message);\r\n      if (!event) {\r\n        if (import.meta.env.DEV) {\r\n          console.warn('Ignoring unrecognized game event payload', raw);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (import.meta.env.DEV) {\r\n        console.log('Received game event:', event);\r\n      }\r\n\r\n      this.notifyRawListeners({\r\n        type: 'event',\r\n        data: event,\r\n        receivedAt: Date.now(),\r\n        destination: message.headers?.destination,\r\n      });\r\n\r\n      const callbacks = this.eventCallbacks.get(event.type) || [];\r\n      callbacks.forEach(callback => callback(event));\r\n\r\n      const allCallbacks = this.eventCallbacks.get('*') || [];\r\n      allCallbacks.forEach(callback => callback(event));\r\n    } catch (error) {\r\n      console.error('Error parsing game event:', error);\r\n    }\r\n  }\r\n\r\n  private handleChatMessage(message: IMessage): void {\r\n    try {\r\n      const raw = JSON.parse(message.body);\r\n      const fallbackNickname = raw.playerNicknameSnapshot ?? raw.playerNickname ?? raw.playerName ?? raw.nickname;\r\n      const resolvedNickname = fallbackNickname ?? 'SYSTEM';\r\n      const resolvedUserId = typeof raw.userId === 'number'\r\n        ? raw.userId\r\n        : (typeof raw.playerUserId === 'number' ? raw.playerUserId : undefined);\r\n\r\n      const chatMessage: ChatMessage = {\r\n        id: String(raw.id ?? `${raw.gameNumber}-${raw.timestamp}`),\r\n        gameNumber: raw.gameNumber ?? (raw.gameId ? Number(raw.gameId) : 0),\r\n        playerId: raw.playerId ? String(raw.playerId) : undefined,\r\n        userId: resolvedUserId,\r\n        playerNickname: resolvedNickname,\r\n        nickname: raw.nickname ?? undefined,\r\n        playerName: raw.playerName ?? raw.playerNickname ?? raw.playerNicknameSnapshot ?? undefined,\r\n        content: raw.content ?? raw.message ?? '',\r\n        message: raw.message ?? raw.content ?? undefined,\r\n        gameId: raw.gameId != null ? String(raw.gameId) : undefined,\r\n        roomId: raw.roomId != null ? String(raw.roomId) : undefined,\r\n        timestamp: typeof raw.timestamp === 'string' ? Date.parse(raw.timestamp) : Number(raw.timestamp ?? Date.now()),\r\n        type: (raw.type || 'DISCUSSION') as ChatMessage['type']\r\n      };\r\n      console.log('Received chat message:', chatMessage);\r\n\r\n      this.notifyRawListeners({\r\n        type: 'chat',\r\n        data: chatMessage,\r\n        receivedAt: Date.now(),\r\n        destination: message.headers?.destination,\r\n      });\r\n\r\n      this.chatCallbacks.forEach(callback => callback(chatMessage));\r\n\r\n    } catch (error) {\r\n      console.error('Error parsing chat message:', error);\r\n    }\r\n  }\r\n\r\n  private handlePersonalNotification(message: IMessage): void {\r\n    try {\r\n      const notification = JSON.parse(message.body);\r\n      console.log('Received personal notification:', notification);\r\n\r\n      //     \r\n      const gameEvent: GameEvent = {\r\n        type: 'PERSONAL_NOTIFICATION' as any,\r\n        gameId: this.currentGameId || '',\r\n        payload: notification,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      this.notifyRawListeners({\r\n        type: 'notification',\r\n        data: notification,\r\n        receivedAt: Date.now(),\r\n        destination: message.headers?.destination,\r\n      });\r\n\r\n      //     \r\n      const callbacks = this.eventCallbacks.get('PERSONAL_NOTIFICATION') || [];\r\n      callbacks.forEach(callback => callback(gameEvent));\r\n\r\n      //    \r\n      const allCallbacks = this.eventCallbacks.get('*') || [];\r\n      allCallbacks.forEach(callback => callback(gameEvent));\r\n\r\n    } catch (error) {\r\n      console.error('Error parsing personal notification:', error);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n// Export singleton instance (guarded so multiple imports share the same underlying connection)\r\nconst globalRef = globalThis as typeof globalThis & { __liarGameWebSocketService?: WebSocketService };\r\n\r\nif (!globalRef.__liarGameWebSocketService) {\r\n  globalRef.__liarGameWebSocketService = new WebSocketService();\r\n}\r\n\r\nexport const websocketService = globalRef.__liarGameWebSocketService;\r\nexport default websocketService;\r\n","import {clearClientSessionState} from \"@/utils/sessionCleanup\"\r\n\r\nconst DEFAULT_API_BASE_URL = 'http://localhost:20021'\r\nconst DEFAULT_WS_PATH = '/ws'\r\n\r\nfunction normalizeBaseUrl(url: string | undefined, fallback: string): string {\r\n  const candidate = url?.trim()\r\n  if (!candidate) {\r\n    return fallback\r\n  }\r\n  return candidate.replace(/\\/$/, '')\r\n}\r\n\r\nfunction resolveWebSocketUrl(explicitUrl: string | undefined, baseHttpUrl: string): string {\r\n  const sanitizedBase = baseHttpUrl.replace(/\\/$/, '')\r\n\r\n  const candidate = explicitUrl?.trim()\r\n  if (candidate) {\r\n    const sanitizedCandidate = candidate.replace(/\\/$/, '')\r\n\r\n    if (sanitizedCandidate.startsWith('ws://') || sanitizedCandidate.startsWith('wss://')) {\r\n      return sanitizedCandidate\r\n    }\r\n\r\n    if (sanitizedCandidate.startsWith('http://') || sanitizedCandidate.startsWith('https://')) {\r\n      const wsBase = sanitizedCandidate.replace(/^http/, 'ws')\r\n      return wsBase.endsWith(DEFAULT_WS_PATH) ? wsBase : `${wsBase}${DEFAULT_WS_PATH}`\r\n    }\r\n\r\n    return sanitizedCandidate\r\n  }\r\n\r\n  const wsBase = sanitizedBase.replace(/^http/, 'ws')\r\n  return `${wsBase}${DEFAULT_WS_PATH}`\r\n}\r\n\r\nconst baseURL = normalizeBaseUrl(import.meta.env.VITE_API_BASE_URL, DEFAULT_API_BASE_URL)\r\nconst wsURL = resolveWebSocketUrl(import.meta.env.VITE_WEBSOCKET_URL, baseURL)\r\n\r\n// API configuration\r\nexport const API_CONFIG = {\r\n  BASE_URL: baseURL,\r\n  WS_URL: wsURL, //   WebSocket \r\n  ENDPOINTS: {\r\n    // Authentication\r\n    AUTH: {\r\n      LOGIN: '/api/v1/auth/login',\r\n      LOGOUT: '/api/v1/auth/logout', \r\n      REFRESH: '/api/v1/auth/refresh-session',\r\n      CHECK: '/api/v1/auth/check',\r\n    },\r\n    // Game Management ( GameController API)\r\n    GAME: {\r\n      //   \r\n      CREATE: '/api/v1/game/create',\r\n      JOIN: '/api/v1/game/join',\r\n      LEAVE: '/api/v1/game/leave', \r\n      START: '/api/v1/game/start',\r\n      ROOMS: '/api/v1/game/rooms',           //  \r\n      STATE: '/api/v1/game',                 // /{gameNumber}\r\n      RESULT: '/api/v1/game/result',         // /result/{gameNumber}\r\n      RECOVER_STATE: '/api/v1/game/recover-state', // /recover-state/{gameNumber}\r\n\r\n      //   \r\n      HINT: '/api/v1/game/hint',\r\n      VOTE: '/api/v1/game/vote',\r\n      FINAL_VOTE: '/api/v1/game/vote/final',\r\n      CAST_VOTE: '/api/v1/game/cast-vote',\r\n      GUESS_WORD: '/api/v1/game/guess-word',\r\n      END_ROUND: '/api/v1/game/end-of-round',\r\n      \r\n      //  \r\n      SUBMIT_DEFENSE: '/api/v1/game/submit-defense',\r\n      END_DEFENSE: '/api/v1/game/defense/end',\r\n      SUBMIT_LIAR_GUESS: '/api/v1/game/submit-liar-guess',\r\n      \r\n      //  \r\n      KICK_OWNER: '/api/v1/game',            // /{gameNumber}/kick-owner\r\n      EXTEND_TIME: '/api/v1/game',           // /{gameNumber}/extend-time\r\n      \r\n      //  \r\n      CLEANUP_USER_DATA: '/api/v1/game/cleanup/user-data'\r\n    },\r\n    // Chat System ( ChatController API)\r\n    CHAT: {\r\n      SEND: '/api/v1/chat/send',\r\n      HISTORY: '/api/v1/chat/history',\r\n      POST_ROUND: '/api/v1/chat/post-round', // /post-round/{gameNumber}\r\n      SPEECH_COMPLETE: '/api/v1/chat/speech/complete',\r\n    },\r\n    // Subject Management ( SubjectController API)\r\n    SUBJECT: {\r\n      LIST: '/api/v1/subjects/listsubj',     //  \r\n      CREATE: '/api/v1/subjects/applysubj',  //  \r\n      DELETE: '/api/v1/subjects/delsubj',    // /delsubj/{id}\r\n      APPROVE_PENDING: '/api/v1/subjects/approve-pending',\r\n    },\r\n    // Word Management ( WordController API)\r\n    WORD: {\r\n      LIST: '/api/v1/words/wlist',           //  \r\n      CREATE: '/api/v1/words/applyw',        //  \r\n      DELETE: '/api/v1/words/delw',          // /delw/{id}\r\n      APPROVE_PENDING: '/api/v1/words/approve-pending',\r\n    },\r\n    // User Management\r\n    USER: {\r\n      ADD: '/api/v1/user/add',\r\n      STATS: '/api/v1/user/stats',\r\n    },\r\n    // Admin Management ( AdminController API)\r\n    ADMIN: {\r\n      LOGIN: '/api/v1/admin/login',\r\n      KICK_PLAYER: '/api/v1/admin/games',    // /games/{gameNumber}/kick\r\n      TERMINATE_ROOM: '/api/v1/admin/terminate-room',\r\n      GRANT_ROLE: '/api/v1/admin/grant-role', // /grant-role/{userId}\r\n      STATISTICS: '/api/v1/admin/statistics',\r\n      GAMES: '/api/v1/admin/games',\r\n      PLAYERS: '/api/v1/admin/players',\r\n      CONTENT_PENDING: '/api/v1/admin/content/pending',\r\n      CONTENT_APPROVE_ALL: '/api/v1/admin/content/approve-all',\r\n      CLEANUP_STALE: '/api/v1/admin/cleanup/stale-games',\r\n      CLEANUP_DISCONNECTED: '/api/v1/admin/cleanup/disconnected-players',\r\n      CLEANUP_EMPTY: '/api/v1/admin/cleanup/empty-games',\r\n      PROFANITY_REQUESTS: '/api/v1/admin/profanity/requests',\r\n      PROFANITY_APPROVE: '/api/v1/admin/profanity/approve', // /approve/{requestId}\r\n      PROFANITY_REJECT: '/api/v1/admin/profanity/reject',   // /reject/{requestId}\r\n    },\r\n    // Profanity Management\r\n    PROFANITY: {\r\n      SUGGEST: '/api/v1/profanity/suggest',\r\n    },\r\n    // Nemonemo Puzzle API\r\n    NEMONEMO: {\r\n      PUZZLES: '/api/nemonemo/v1/puzzles',\r\n      PUZZLE_DETAIL: (puzzleId: number | string) => `/api/nemonemo/v1/puzzles/${puzzleId}`,\r\n      SESSIONS: '/api/nemonemo/v1/sessions',\r\n      SESSION_DETAIL: (sessionId: number | string) => `/api/nemonemo/v1/sessions/${sessionId}`,\r\n      SESSION_ACTIONS: (sessionId: number | string) => `/api/nemonemo/v1/sessions/${sessionId}/actions`,\r\n      LEADERBOARD_WEEKLY: '/api/nemonemo/v1/leaderboards/weekly',\r\n    }\r\n  },\r\n  // WebSocket   ( @MessageMapping ) \r\n  WEBSOCKET: {\r\n    //    (  )\r\n    SEND: {\r\n      CHAT: '/app/chat.send',                    // @MessageMapping(\"/chat.send\")\r\n      VOTE: '/app/game/{gameNumber}/vote',       // @MessageMapping(\"/game/{gameNumber}/vote\")\r\n      GUESS_TOPIC: '/app/game/{gameNumber}/guess-topic', // @MessageMapping(\"/game/{gameNumber}/guess-topic\")\r\n      HEARTBEAT: '/app/heartbeat',               // @MessageMapping(\"/heartbeat\")\r\n    },\r\n    //    (  )\r\n    SUBSCRIBE: {\r\n      GAME_EVENTS: '/topic/game/{gameNumber}',   //   \r\n      CHAT_MESSAGES: '/topic/chat.{gameNumber}', //  \r\n      GAME_STATE: '/topic/game/{gameNumber}/state', //   \r\n      USER_EVENTS: '/topic/user/{userId}',       //  \r\n    }\r\n  }\r\n} as const\r\n\r\n// HTTP Client wrapper\r\nclass ApiClient {\r\n  private baseURL: string\r\n  private isRefreshing: boolean = false\r\n  private refreshPromise: Promise<void> | null = null\r\n  \r\n  constructor(baseURL: string = API_CONFIG.BASE_URL) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  // HTTP Methods\r\n  async get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  async post<T>(endpoint: string, data?: unknown, options: RequestInit = {}): Promise<T> {\r\n    const config: RequestInit = {\r\n      ...options,\r\n      method: 'POST'\r\n    }\r\n\r\n    if (data !== undefined) {\r\n      config.body = JSON.stringify(data)\r\n    }\r\n\r\n    return this.request<T>(endpoint, config)\r\n  }\r\n\r\n  async put<T>(endpoint: string, data?: unknown, options: RequestInit = {}): Promise<T> {\r\n    const config: RequestInit = {\r\n      ...options,\r\n      method: 'PUT'\r\n    }\r\n\r\n    if (data !== undefined) {\r\n      config.body = JSON.stringify(data)\r\n    }\r\n\r\n    return this.request<T>(endpoint, config)\r\n  }\r\n\r\n  async delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {},\r\n    retryOnAuthFailure: boolean = true\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    const defaultHeaders: HeadersInit = {\r\n      'Content-Type': 'application/json',\r\n    }\r\n\r\n    const config: RequestInit = {\r\n      headers: { ...defaultHeaders, ...options.headers },\r\n      credentials: 'include', //    \r\n      ...options,\r\n    }\r\n\r\n    // Session-based authentication only - no Bearer tokens needed\r\n    // Backend uses session cookies for authentication\r\n\r\n    //    \r\n    console.log('API Request:', {\r\n      method: config.method || 'GET',\r\n      url,\r\n      headers: config.headers,\r\n      body: config.body,\r\n      credentials: config.credentials\r\n    });\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      //    \r\n      console.log('API Response:', {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        headers: Object.fromEntries(response.headers.entries()),\r\n        ok: response.ok\r\n      });\r\n\r\n      // Handle 401/403 unauthorized responses \r\n      if ((response.status === 401 || response.status === 403) && retryOnAuthFailure && !endpoint.includes('/auth/')) {\r\n        console.log('Unauthorized response, attempting session refresh...');\r\n        \r\n        // Wait for any ongoing refresh to complete\r\n        if (this.refreshPromise) {\r\n          await this.refreshPromise;\r\n        } else if (!this.isRefreshing) {\r\n          await this.refreshSession();\r\n        }\r\n        \r\n        // Retry the original request once\r\n        return this.request<T>(endpoint, options, false);\r\n      }\r\n\r\n      if (!response.ok) {\r\n        let errorData: Record<string, unknown> = {};\r\n        const contentType = response.headers.get('content-type');\r\n        \r\n        if (contentType && contentType.includes('application/json')) {\r\n          try {\r\n            errorData = await response.json();\r\n          } catch (jsonError) {\r\n            console.error('Failed to parse error response as JSON:', jsonError);\r\n          }\r\n        } else {\r\n          try {\r\n            errorData.text = await response.text();\r\n          } catch (textError) {\r\n            console.error('Failed to read error response as text:', textError);\r\n          }\r\n        }\r\n\r\n        console.error('API Error Response:', errorData);\r\n\r\n        const errorMessage =\r\n          typeof errorData.message === 'string' ? errorData.message :\r\n          typeof errorData.error === 'string' ? errorData.error :\r\n          typeof errorData.text === 'string' ? errorData.text :\r\n          `HTTP ${response.status}: ${response.statusText}`;\r\n\r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      const responseData = await response.json();\r\n      console.log('API Response Data:', responseData);\r\n      \r\n      return responseData;\r\n    } catch (error) {\r\n      console.error('API Request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Session refresh method\r\n  private async refreshSession(): Promise<void> {\r\n    if (this.isRefreshing) {\r\n      // If already refreshing, wait for the existing promise\r\n      if (this.refreshPromise) {\r\n        return this.refreshPromise;\r\n      }\r\n    }\r\n\r\n    this.isRefreshing = true;\r\n    \r\n    this.refreshPromise = (async () => {\r\n      try {\r\n        console.log('Attempting to refresh session...');\r\n        const response = await fetch(`${this.baseURL}${API_CONFIG.ENDPOINTS.AUTH.REFRESH}`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          credentials: 'include',\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          console.log('Session refresh successful:', data);\r\n        } else {\r\n          console.error('Session refresh failed:', response.status, response.statusText);\r\n          // Clear auth state on refresh failure\r\n          this.clearAuthState();\r\n          throw new Error('Session refresh failed');\r\n        }\r\n      } catch (error) {\r\n        console.error('Session refresh error:', error);\r\n        this.clearAuthState();\r\n        throw error;\r\n      } finally {\r\n        this.isRefreshing = false;\r\n        this.refreshPromise = null;\r\n      }\r\n    })();\r\n\r\n    return this.refreshPromise;\r\n  }\r\n\r\n  // Clear authentication state\r\n  private clearAuthState(): void {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    void clearClientSessionState({\r\n      reason: 'session-expired',\r\n    });\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient()\r\n\r\n// Note: WebSocket implementation moved to /services/websocketService.ts\r\n// This uses SockJS+STOMP for proper backend integration\r\n// Import websocketService from '../services/websocketService' instead\r\n\r\nexport { websocketService as wsClient } from '../services/websocketService'\r\n","// Unified API Service using the consolidated apiClient from /api/client.ts\r\nimport {apiClient} from '../api/client';\r\nimport type {ApiResponse} from '../types/api';\r\n\r\n// Export unified API service\r\nexport class ApiService {\r\n  // HTTP Methods that delegate to apiClient\r\n  async get<T>(endpoint: string): Promise<T> {\r\n    return apiClient.get<T>(endpoint);\r\n  }\r\n\r\n  async post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return apiClient.post<T>(endpoint, data);\r\n  }\r\n\r\n  async put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return apiClient.put<T>(endpoint, data);\r\n  }\r\n\r\n  async delete<T>(endpoint: string): Promise<T> {\r\n    return apiClient.delete<T>(endpoint);\r\n  }\r\n\r\n  // Convenience method for endpoints that return ApiResponse<T>\r\n  async apiGet<T>(endpoint: string): Promise<ApiResponse<T>> {\r\n    return this.get<ApiResponse<T>>(endpoint);\r\n  }\r\n\r\n  async apiPost<T>(endpoint: string, data?: any): Promise<ApiResponse<T>> {\r\n    return this.post<ApiResponse<T>>(endpoint, data);\r\n  }\r\n\r\n  async apiPut<T>(endpoint: string, data?: any): Promise<ApiResponse<T>> {\r\n    return this.put<ApiResponse<T>>(endpoint, data);\r\n  }\r\n\r\n  async apiDelete<T>(endpoint: string): Promise<ApiResponse<T>> {\r\n    return this.delete<ApiResponse<T>>(endpoint);\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const apiService = new ApiService();\r\n","// API Endpoints aligned with backend documentation\r\nexport const API_ENDPOINTS = {\r\n  // Authentication - aligned with backend /api/v1/auth/*\r\n  AUTH: {\r\n    LOGIN: '/api/v1/auth/login',\r\n    LOGOUT: '/api/v1/auth/logout',\r\n    REFRESH: '/api/v1/auth/refresh-session',\r\n    CHECK: '/api/v1/auth/check',\r\n  },\r\n  // Game Management - aligned with backend /api/v1/game/*\r\n  GAME: {\r\n    CREATE: '/api/v1/game/create',\r\n    JOIN: '/api/v1/game/join',\r\n    LEAVE: '/api/v1/game/leave',\r\n    START: '/api/v1/game/start',\r\n    ROOMS: '/api/v1/game/rooms', // Fixed: was /game/list, now matches backend\r\n    STATE: '/api/v1/game', // /{gameNumber}\r\n    RESULT: '/api/v1/game/result', // /result/{gameNumber}\r\n    RECOVER_STATE: '/api/v1/game/recover-state', // /recover-state/{gameNumber}\r\n  },\r\n  // Game Actions - aligned with backend /api/v1/game/*\r\n  GAME_PLAY: {\r\n    HINT: '/api/v1/game/hint',\r\n    VOTE: '/api/v1/game/vote',\r\n    FINAL_VOTE: '/api/v1/game/vote/final',\r\n    CAST_VOTE: '/api/v1/game/cast-vote',\r\n    DEFENSE: '/api/v1/game/submit-defense',\r\n    END_DEFENSE: '/api/v1/game/defense/end',\r\n    GUESS_WORD: '/api/v1/game/guess-word',\r\n    LIAR_GUESS: '/api/v1/game/submit-liar-guess',\r\n    END_ROUND: '/api/v1/game/end-of-round',\r\n    KICK_OWNER: '/api/v1/game', // /{gameNumber}/kick-owner\r\n    EXTEND_TIME: '/api/v1/game', // /{gameNumber}/extend-time\r\n  },\r\n  // Chat - aligned with backend /api/v1/chat/*\r\n  CHAT: {\r\n    SEND: '/api/v1/chat/send',\r\n    HISTORY: '/api/v1/chat/history',\r\n    POST_ROUND: '/api/v1/chat/post-round', // /post-round/{gameNumber}\r\n    SPEECH_COMPLETE: '/api/v1/chat/speech/complete',\r\n  },\r\n  // Subject Management - aligned with backend /api/v1/subjects/*\r\n  SUBJECT: {\r\n    LIST: '/api/v1/subjects/listsubj',\r\n    CREATE: '/api/v1/subjects/applysubj',\r\n    DELETE: '/api/v1/subjects/delsubj', // /delsubj/{id}\r\n    APPROVE_PENDING: '/api/v1/subjects/approve-pending',\r\n  },\r\n  // Word Management - aligned with backend /api/v1/words/*\r\n  WORD: {\r\n    LIST: '/api/v1/words/wlist',\r\n    CREATE: '/api/v1/words/applyw',\r\n    DELETE: '/api/v1/words/delw', // /delw/{id}\r\n    APPROVE_PENDING: '/api/v1/words/approve-pending',\r\n  },\r\n  // User Management - aligned with backend /api/v1/user/*\r\n  USER: {\r\n    ADD: '/api/v1/user/add',\r\n    STATS: '/api/v1/user/stats',\r\n  },\r\n  // Admin Management - aligned with backend /api/v1/admin/*\r\n  ADMIN: {\r\n    LOGIN: '/api/v1/admin/login',\r\n    KICK_PLAYER: '/api/v1/admin/games', // /games/{gameNumber}/kick\r\n    TERMINATE_ROOM: '/api/v1/admin/terminate-room',\r\n    GRANT_ROLE: '/api/v1/admin/grant-role', // /grant-role/{userId}\r\n    STATISTICS: '/api/v1/admin/statistics',\r\n    GAMES: '/api/v1/admin/games',\r\n    PLAYERS: '/api/v1/admin/players',\r\n    CONTENT_PENDING: '/api/v1/admin/content/pending',\r\n    CONTENT_APPROVE_ALL: '/api/v1/admin/content/approve-all',\r\n    CLEANUP_STALE: '/api/v1/admin/cleanup/stale-games',\r\n    CLEANUP_DISCONNECTED: '/api/v1/admin/cleanup/disconnected-players',\r\n    CLEANUP_EMPTY: '/api/v1/admin/cleanup/empty-games',\r\n    PROFANITY_REQUESTS: '/api/v1/admin/profanity/requests',\r\n    PROFANITY_APPROVE: '/api/v1/admin/profanity/approve', // /approve/{requestId}\r\n    PROFANITY_REJECT: '/api/v1/admin/profanity/reject', // /reject/{requestId}\r\n  },\r\n  // Profanity Management - aligned with backend /api/v1/profanity/*\r\n  PROFANITY: {\r\n    SUGGEST: '/api/v1/profanity/suggest',\r\n  },\r\n} as const;\r\n\r\n","import {apiService} from './api';\r\nimport type {LoginRequest, LoginResponse, SessionRefreshResponse} from '../types/auth';\r\nimport {API_ENDPOINTS} from '../constants/apiEndpoints';\r\n\r\nexport class AuthService {\r\n  async login(credentials: LoginRequest): Promise<LoginResponse> {\r\n    try {\r\n      //  LoginRequest    (password  )\r\n      const backendCredentials = {\r\n        nickname: credentials.nickname,\r\n        password: \"\" //     \r\n      };\r\n\r\n      const response = await apiService.post<LoginResponse>(\r\n        API_ENDPOINTS.AUTH.LOGIN,\r\n        backendCredentials\r\n      );\r\n\r\n      if (response.success) {\r\n        console.log('Login successful:', response.nickname);\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await apiService.post(API_ENDPOINTS.AUTH.LOGOUT);\r\n      console.log('Logout successful');\r\n    } catch (error) {\r\n      console.error('Logout failed:', error);\r\n      //     \r\n    }\r\n  }\r\n\r\n  async refreshSession(): Promise<SessionRefreshResponse> {\r\n    try {\r\n      console.log('Attempting session refresh...');\r\n      const response = await apiService.post<SessionRefreshResponse>(\r\n        API_ENDPOINTS.AUTH.REFRESH\r\n      );\r\n\r\n      if (response.success) {\r\n        console.log('Session refresh successful:', response.nickname);\r\n      } else {\r\n        console.warn('Session refresh returned unsuccessful response:', response);\r\n        // Return the response as-is, let the caller decide how to handle\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Session refresh failed:', error);\r\n      \r\n      // Create a failed response instead of throwing for better error handling\r\n      const failedResponse: SessionRefreshResponse = {\r\n        success: false,\r\n        message: error instanceof Error ? error.message : 'Session refresh failed'\r\n      };\r\n      \r\n      return failedResponse;\r\n    }\r\n  }\r\n\r\n  async checkAuthStatus(): Promise<boolean> {\r\n    const response = await this.refreshSession();\r\n    return response.success;\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();\r\n","import {apiClient} from './client';\r\nimport type {\r\n    DefenseResponse,\r\n    GameListResponse,\r\n    GameRoomInfo,\r\n    GuessResponse,\r\n    JoinGameRequest,\r\n    VoteResponse\r\n} from '../types/api';\r\nimport type {\r\n    CountdownResponse,\r\n    CreateGameRequest,\r\n    GameMode,\r\n    GameStateResponse,\r\n    PlayerReadyResponse,\r\n    PlayerResponse,\r\n    VotingStatusResponse\r\n} from '../types/backendTypes';\r\nimport type {ChatMessage, RoundEndResponse} from '../types/gameFlow';\r\n\r\nexport class GameService {\r\n  private static instance: GameService;\r\n\r\n  static getInstance(): GameService {\r\n    if (!GameService.instance) {\r\n      GameService.instance = new GameService();\r\n    }\r\n    return GameService.instance;\r\n  }\r\n\r\n  private static isRecord(value: unknown): value is Record<string, unknown> {\r\n    return typeof value === 'object' && value !== null;\r\n  }\r\n\r\n  private static toNumber(value: unknown, fallback = 0): number {\r\n    if (typeof value === 'number' && Number.isFinite(value)) {\r\n      return value;\r\n    }\r\n    if (typeof value === 'string') {\r\n      const parsed = Number.parseInt(value, 10);\r\n      if (!Number.isNaN(parsed)) {\r\n        return parsed;\r\n      }\r\n    }\r\n    return fallback;\r\n  }\r\n\r\n  private static toBoolean(value: unknown, fallback = false): boolean {\r\n    if (typeof value === 'boolean') {\r\n      return value;\r\n    }\r\n    if (typeof value === 'number') {\r\n      return value !== 0;\r\n    }\r\n    if (typeof value === 'string') {\r\n      const normalized = value.trim().toLowerCase();\r\n      if (normalized === 'true' || normalized === '1') {\r\n        return true;\r\n      }\r\n      if (normalized === 'false' || normalized === '0') {\r\n        return false;\r\n      }\r\n    }\r\n    return fallback;\r\n  }\r\n\r\n  private static toString(value: unknown, fallback = ''): string {\r\n    if (typeof value === 'string') {\r\n      const trimmed = value.trim();\r\n      return trimmed.length > 0 ? trimmed : fallback;\r\n    }\r\n    if (typeof value === 'number' || typeof value === 'boolean') {\r\n      return String(value);\r\n    }\r\n    return fallback;\r\n  }\r\n\r\n  private static toOptionalString(value: unknown): string | null {\r\n    if (typeof value === 'string') {\r\n      const trimmed = value.trim();\r\n      return trimmed.length > 0 ? trimmed : null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private static toOptionalNumber(value: unknown): number | null {\r\n    if (typeof value === 'number' && Number.isFinite(value)) {\r\n      return value;\r\n    }\r\n    if (typeof value === 'string') {\r\n      const parsed = Number.parseInt(value, 10);\r\n      if (!Number.isNaN(parsed)) {\r\n        return parsed;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private static toStringArray(value: unknown): string[] {\r\n    if (!Array.isArray(value)) {\r\n      return [];\r\n    }\r\n    return value\r\n      .map(item => GameService.toString(item, '').trim())\r\n      .filter(subject => subject.length > 0);\r\n  }\r\n\r\n  private static normalizePlayers(value: unknown): PlayerResponse[] {\r\n    if (!Array.isArray(value)) {\r\n      return [];\r\n    }\r\n\r\n    return value\r\n      .filter(GameService.isRecord)\r\n      .map(playerRecord => {\r\n        const id = GameService.toNumber(playerRecord['id'] ?? playerRecord['playerId']);\r\n        const userId = GameService.toNumber(playerRecord['userId'] ?? playerRecord['userID'] ?? playerRecord['id'], id);\r\n        const nickname = GameService.toString(playerRecord['nickname'] ?? playerRecord['playerName'], '');\r\n        const state = GameService.toString(playerRecord['state'], 'WAITING_FOR_HINT') as PlayerResponse['state'];\r\n        const hint = GameService.toOptionalString(playerRecord['hint']);\r\n        const defense = GameService.toOptionalString(playerRecord['defense']);\r\n        const votesReceived = GameService.toOptionalNumber(playerRecord['votesReceived']);\r\n        const lastActiveAt = GameService.toOptionalString(playerRecord['lastActiveAt'] ?? playerRecord['lastActive']);\r\n        const isOnline = GameService.toBoolean(playerRecord['isOnline'], true);\r\n\r\n        const normalized: PlayerResponse = {\r\n          id,\r\n          userId,\r\n          nickname,\r\n          isAlive: GameService.toBoolean(playerRecord['isAlive'], true),\r\n          isOnline,\r\n          lastActiveAt,\r\n          state,\r\n          hasVoted: GameService.toBoolean(playerRecord['hasVoted'], false)\r\n        };\r\n\r\n        if (hint !== null) {\r\n          normalized.hint = hint;\r\n        }\r\n        if (defense !== null) {\r\n          normalized.defense = defense;\r\n        }\r\n        if (votesReceived !== null) {\r\n          normalized.votesReceived = votesReceived;\r\n        }\r\n        return normalized;\r\n      })\r\n      .filter(player => player.nickname.length > 0);\r\n  }\r\n\r\n  private static normalizeRoom(room: Record<string, unknown>): GameRoomInfo {\r\n    const rawNumber = room['gameNumber'] ?? room['gameId'] ?? room['id'];\r\n    const gameNumber = GameService.toNumber(rawNumber);\r\n    const fallbackTitle = gameNumber > 0 ? `Game #${gameNumber}` : 'Game';\r\n    const title = GameService.toString(room['title'] ?? room['gameName'], fallbackTitle);\r\n    const host = GameService.toString(room['host'] ?? room['gameOwner'], 'Unknown');\r\n    const currentPlayers = GameService.toNumber(room['currentPlayers'] ?? room['gameParticipants'] ?? room['participants']);\r\n    const maxPlayers = GameService.toNumber(room['maxPlayers'] ?? room['gameMaxPlayers'] ?? room['capacity']);\r\n    const hasPassword = GameService.toBoolean(room['hasPassword'] ?? room['isPrivate']);\r\n    const state = GameService.toString(room['state'] ?? room['gameState'], 'WAITING') as GameRoomInfo['state'];\r\n    const subjects = GameService.toStringArray(room['subjects']);\r\n    const subject = GameService.toOptionalString(room['subject'] ?? room['citizenSubject']);\r\n    const players = GameService.normalizePlayers(room['players']);\r\n    const modeValue = room['gameMode'] ?? room['mode'];\r\n    const normalizedMode = typeof modeValue === 'string' ? (modeValue as GameRoomInfo['gameMode']) : undefined;\r\n\r\n    return {\r\n      gameNumber,\r\n      title,\r\n      host,\r\n      currentPlayers,\r\n      maxPlayers,\r\n      hasPassword,\r\n      state,\r\n      subjects,\r\n      subject,\r\n      players,\r\n      gameName: GameService.toString(room['gameName'], title),\r\n      gameOwner: GameService.toString(room['gameOwner'], host),\r\n      gameParticipants: GameService.toNumber(room['gameParticipants'] ?? currentPlayers),\r\n      gameMaxPlayers: GameService.toNumber(room['gameMaxPlayers'] ?? maxPlayers),\r\n      isPrivate: GameService.toBoolean(room['isPrivate'] ?? hasPassword),\r\n      gameState: state,\r\n      gameMode: normalizedMode\r\n    } satisfies GameRoomInfo;\r\n  }\r\n\r\n  private static extractRooms(response: unknown): Record<string, unknown>[] {\r\n    if (!GameService.isRecord(response)) {\r\n      return [];\r\n    }\r\n\r\n    const record = response as Record<string, unknown>;\r\n    const candidateKeys: string[] = ['gameRooms', 'games', 'data'];\r\n\r\n    for (const key of candidateKeys) {\r\n      const value = record[key];\r\n      if (Array.isArray(value)) {\r\n        return value.filter(GameService.isRecord) as Record<string, unknown>[];\r\n      }\r\n    }\r\n\r\n    const dataValue = record['data'];\r\n    if (GameService.isRecord(dataValue)) {\r\n      const nested = GameService.extractRooms(dataValue);\r\n      if (nested.length > 0) {\r\n        return nested;\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  private static isGameListResponse(value: unknown): value is GameListResponse {\r\n    if (!GameService.isRecord(value)) {\r\n      return false;\r\n    }\r\n\r\n    const record = value as Record<string, unknown>;\r\n    return typeof record['success'] === 'boolean' && Array.isArray(record['gameRooms']);\r\n  }\r\n\r\n  //   \r\n\r\n  async getGameList(page: number = 0, size: number = 10): Promise<GameListResponse> {\r\n    const response = await apiClient.get<unknown>(`/api/v1/game/rooms?page=${page}&size=${size}`);\r\n    const roomRecords = GameService.extractRooms(response);\r\n\r\n    if (roomRecords.length > 0) {\r\n      const normalized = roomRecords.map(room => GameService.normalizeRoom(room));\r\n      const result: GameListResponse = {\r\n        success: true,\r\n        data: normalized,\r\n        gameRooms: normalized,\r\n        games: normalized,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      if (GameService.isRecord(response)) {\r\n        const pagination = (response as Record<string, unknown>)['pagination'];\r\n        if (GameService.isRecord(pagination)) {\r\n          result.pagination = pagination as GameListResponse['pagination'];\r\n        }\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    if (GameService.isGameListResponse(response)) {\r\n      return response;\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      gameRooms: [],\r\n      games: [],\r\n      timestamp: Date.now()\r\n    };\r\n  }\r\n\r\n  //  \r\n  async createGame(gameData: CreateGameRequest): Promise<number> {\r\n    const payload = {\r\n      ...gameData,\r\n      gamePassword: gameData.gamePassword ?? null,\r\n      subjectIds: gameData.subjectIds && gameData.subjectIds.length > 0 ? gameData.subjectIds : undefined,\r\n      useRandomSubjects: gameData.useRandomSubjects ?? (gameData.subjectIds == null),\r\n      randomSubjectCount: gameData.randomSubjectCount ?? (gameData.useRandomSubjects ? 1 : undefined)\r\n    };\r\n    const response = await apiClient.post<number>('/api/v1/game/create', payload);\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async joinGame(joinData: JoinGameRequest): Promise<GameStateResponse> {\r\n    const payload: JoinGameRequest = {\r\n      gameNumber: joinData.gameNumber,\r\n      gamePassword: joinData.gamePassword ?? joinData.password ?? undefined,\r\n      nickname: joinData.nickname\r\n    };\r\n    const response = await apiClient.post<GameStateResponse>('/api/v1/game/join', payload);\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async leaveGame(gameNumber: number): Promise<boolean> {\r\n    const response = await apiClient.post<boolean>(`/api/v1/game/leave`, { gameNumber });\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async getGameState(gameNumber: number): Promise<GameStateResponse> {\r\n    const response = await apiClient.get<GameStateResponse>(`/api/v1/game/${gameNumber}`);\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async startGame(): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/start`);\r\n    return response;\r\n  }\r\n\r\n  //    \r\n  async toggleReady(gameNumber: number): Promise<PlayerReadyResponse> {\r\n    const response = await apiClient.post<PlayerReadyResponse>(`/api/v1/game/${gameNumber}/ready`);\r\n    return response;\r\n  }\r\n\r\n  //    \r\n  async getGameModes(): Promise<GameMode[]> {\r\n    const response = await apiClient.get<GameMode[]>('/api/v1/game/modes');\r\n    return response;\r\n  }\r\n\r\n  //       ()\r\n  async getAvailableGameModes(): Promise<GameMode[]> {\r\n    return this.getGameModes();\r\n  }\r\n\r\n  //    \r\n  async getReadyStatus(gameNumber: number): Promise<PlayerReadyResponse[]> {\r\n    const response = await apiClient.get<PlayerReadyResponse[]>(`/api/v1/game/${gameNumber}/ready-status`);\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async getCountdownStatus(gameNumber: number): Promise<CountdownResponse | null> {\r\n    const response = await apiClient.get<CountdownResponse | null>(`/api/v1/game/${gameNumber}/countdown/status`);\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async getConnectionStatus(gameNumber: number): Promise<any> {\r\n    const response = await apiClient.get<any>(`/api/v1/game/${gameNumber}/connection-status`);\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async getVotingStatus(gameNumber: number): Promise<VotingStatusResponse> {\r\n    const response = await apiClient.get<VotingStatusResponse>(`/api/v1/game/${gameNumber}/voting-status`);\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async startCountdown(gameNumber: number, durationSeconds: number = 10): Promise<CountdownResponse> {\r\n    const response = await apiClient.post<CountdownResponse>(`/api/v1/game/${gameNumber}/countdown/start`, {\r\n      durationSeconds\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async cancelCountdown(gameNumber: number): Promise<CountdownResponse> {\r\n    const response = await apiClient.post<CountdownResponse>(`/api/v1/game/${gameNumber}/countdown/cancel`);\r\n    return response;\r\n  }\r\n\r\n\r\n  //    \r\n  async getGameInfo(gameNumber: number): Promise<GameRoomInfo> {\r\n    const response = await apiClient.get<GameRoomInfo>(`/api/v1/game/${gameNumber}/info`);\r\n    return response;\r\n  }\r\n\r\n  //     (useGameQueries.ts )\r\n  async setReady(gameId: string, ready: boolean): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/${gameId}/ready`, { ready });\r\n    return response;\r\n  }\r\n\r\n  //  (useGameQueries.ts )\r\n  async vote(gameNumber: number, voteData: { targetUserId: number }): Promise<VoteResponse> {\r\n    const response = await apiClient.post<VoteResponse>(`/api/v1/game/cast-vote`, {\r\n      gameNumber,\r\n      targetUserId: voteData.targetUserId\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //    (GameEndPanel.tsx )\r\n  async getRoundResults(gameId: string): Promise<RoundEndResponse> {\r\n    const response = await apiClient.get<RoundEndResponse>(`/api/v1/game/${gameId}/round-results`);\r\n    return response;\r\n  }\r\n\r\n  //    (useGameQueries.ts )\r\n  async getGameStatus(gameId: string): Promise<GameStateResponse> {\r\n    return this.getGameState(parseInt(gameId));\r\n  }\r\n\r\n  //  (useGameQueries.ts )\r\n  async login(loginData: { nickname: string; gameNumber?: number }): Promise<{\r\n    success: boolean;\r\n    userId?: number;\r\n    nickname?: string;\r\n  }> {\r\n    const response = await apiClient.post<{\r\n      success: boolean;\r\n      userId?: number;\r\n      nickname?: string;\r\n    }>('/api/v1/auth/login', loginData);\r\n    return response;\r\n  }\r\n\r\n  //   (useGameQueries.ts )\r\n  async submitAnswer(gameId: string, answer: string): Promise<GuessResponse> {\r\n    const response = await apiClient.post<GuessResponse>(`/api/v1/game/${gameId}/submit-answer`, { answer });\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async getChatHistory(gameNumber: number, page: number = 0, size: number = 50): Promise<ChatMessage[]> {\r\n    const params = new URLSearchParams({\r\n      gameNumber: String(gameNumber),\r\n      limit: String(size)\r\n    });\r\n    if (page > 0) {\r\n      params.append('page', String(page));\r\n    }\r\n    const rawMessages = await apiClient.get<any[]>(`/api/v1/chat/history?${params.toString()}`)\r\n    return rawMessages.map((message) => {\r\n      const content = message.content ?? message.message ?? ''\r\n      const nickname = message.playerNickname ?? message.nickname ?? 'SYSTEM'\r\n      const timestamp =\r\n        typeof message.timestamp === 'string'\r\n          ? Date.parse(message.timestamp)\r\n          : Number(message.timestamp ?? Date.now())\r\n\r\n      return {\r\n        id: String(message.id ?? `${message.gameNumber ?? 0}-${timestamp}`),\r\n        gameNumber: Number(message.gameNumber ?? 0),\r\n        playerNickname: nickname,\r\n        nickname,\r\n        content,\r\n        message: content,\r\n        timestamp,\r\n        type: (message.type || 'DISCUSSION') as ChatMessage['type']\r\n      } satisfies ChatMessage\r\n    })\r\n  }\r\n\r\n  //   \r\n  async sendChatMessage(gameNumber: number, content: string, type: 'DISCUSSION' | 'HINT' | 'DEFENSE' | 'SYSTEM' = 'DISCUSSION'): Promise<any> {\r\n    const response = await apiClient.post<any>(`/api/v1/chat/send`, { \r\n      gameNumber,\r\n      content, \r\n      type \r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   ( - )\r\n  async submitHintOld(gameId: string, hint: string): Promise<void> {\r\n    const gameNumber = parseInt(gameId);\r\n    await this.submitHint(gameNumber, hint);\r\n  }\r\n\r\n  //   ( - )  \r\n  async submitDefenseOld(gameId: string, defense: string): Promise<DefenseResponse> {\r\n    const gameNumber = parseInt(gameId);\r\n    return this.submitDefense(gameNumber, defense);\r\n  }\r\n\r\n  //  \r\n  async guessWord(gameNumber: number, guess: string): Promise<GuessResponse> {\r\n    const response = await apiClient.post<GuessResponse>(`/api/v1/game/guess-word`, { \r\n      gameNumber, \r\n      guess \r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   ( API )\r\n  async submitHint(gameNumber: number, hint: string): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/hint`, {\r\n      gameNumber,\r\n      hint\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   ( cast-vote )\r\n  async castVote(gameNumber: number, targetUserId: number): Promise<VoteResponse> {\r\n    const response = await apiClient.post<VoteResponse>(`/api/v1/game/cast-vote`, {\r\n      gameNumber,\r\n      targetUserId\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async submitDefense(gameNumber: number, defenseText: string): Promise<DefenseResponse> {\r\n    const response = await apiClient.post<DefenseResponse>(`/api/v1/game/submit-defense`, {\r\n      gameNumber,\r\n      defenseText\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async endDefense(gameNumber: number): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/defense/end`, {\r\n      gameNumber\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   (/)\r\n  async submitFinalVote(gameNumber: number, voteForExecution: boolean): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/vote/final`, {\r\n      gameNumber,\r\n      voteForExecution\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //    (  )\r\n  async submitLiarGuess(gameNumber: number, guess: string): Promise<GuessResponse> {\r\n    const response = await apiClient.post<GuessResponse>(`/api/v1/game/submit-liar-guess`, {\r\n      gameNumber,\r\n      guess\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //  \r\n  async endRound(gameNumber: number): Promise<GameStateResponse> {\r\n    const response = await apiClient.post<GameStateResponse>(`/api/v1/game/end-of-round`, {\r\n      gameNumber\r\n    });\r\n    return response;\r\n  }\r\n\r\n  //   \r\n  async recoverGameState(gameNumber: number): Promise<any> {\r\n    const response = await apiClient.get<any>(`/api/v1/game/recover-state/${gameNumber}`);\r\n    return response;\r\n  }\r\n\r\n  //     \r\n  async getGameResult(gameNumber: number): Promise<any> {\r\n    const response = await apiClient.get<any>(`/api/v1/game/result/${gameNumber}`);\r\n    return response;\r\n  }\r\n\r\n  //    \r\n  async cleanupUserGameData(): Promise<{ success: boolean; message: string }> {\r\n    const response = await apiClient.post<{ success: boolean; message: string }>('/api/v1/game/cleanup/user-data');\r\n    return response;\r\n  }\r\n}\r\n\r\n//   export\r\nexport const gameService = GameService.getInstance();\r\n\r\n//  export for compatibility\r\nexport const gameApi = gameService;\r\n","import {apiClient} from './client';\r\n\r\nexport interface Word {\r\n  id: number;\r\n  content: string;\r\n  subjectId: number;\r\n  subjectName?: string;\r\n  status?: 'PENDING' | 'APPROVED' | 'REJECTED';\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface WordCreateRequest {\r\n  content: string;\r\n  subjectId: number;\r\n}\r\n\r\n//      - Long  \r\ninterface BackendWordCreateRequest {\r\n  subjectId: number;  //  ID (Number -  Long )\r\n  word: string;       //   (String)\r\n}\r\n\r\nexport interface WordCollectionResponse {\r\n  words: Word[];\r\n  totalCount?: number;\r\n}\r\n\r\ninterface WordDetailResponse {\r\n  id: number;\r\n  subjectId: number;\r\n  subjectContent: string;\r\n  content: string;\r\n  status: 'PENDING' | 'APPROVED' | 'REJECTED';\r\n}\r\n\r\nexport class WordService {\r\n  private static instance: WordService;\r\n\r\n  static getInstance(): WordService {\r\n    if (!WordService.instance) {\r\n      WordService.instance = new WordService();\r\n    }\r\n    return WordService.instance;\r\n  }\r\n\r\n  //   \r\n  async getWords(): Promise<WordCollectionResponse> {\r\n    try {\r\n      const response = await apiClient.get<WordDetailResponse[]>('/api/v1/words/wlist');\r\n      //        \r\n      const words = Array.isArray(response) ? response.map(item => ({\r\n        id: item.id,\r\n        content: item.content,\r\n        subjectId: item.subjectId,\r\n        subjectName: item.subjectContent,\r\n        status: item.status\r\n      })) : [];\r\n      \r\n      return {\r\n        words,\r\n        totalCount: words.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to fetch words:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  //     \r\n  async getWordsBySubject(subjectId: number): Promise<WordCollectionResponse> {\r\n    try {\r\n      const allWords = await this.getWords();\r\n      const filteredWords = allWords.words.filter(word => word.subjectId === subjectId);\r\n      \r\n      return {\r\n        words: filteredWords,\r\n        totalCount: filteredWords.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to fetch words by subject:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  //  \r\n  async createWord(wordData: WordCreateRequest): Promise<Word> {\r\n    try {\r\n      //      \r\n      const backendRequest: BackendWordCreateRequest = {\r\n        subjectId: wordData.subjectId, //  numeric ID \r\n        word: wordData.content\r\n      };\r\n\r\n      //   \r\n      console.log('=== Word Creation Request ===');\r\n      console.log('Original payload:', wordData);\r\n      console.log('Backend payload:', backendRequest);\r\n      console.log('SubjectId type:', typeof backendRequest.subjectId);\r\n      console.log('Word type:', typeof backendRequest.word);\r\n      console.log('Request URL: /api/v1/words/applyw');\r\n      console.log('=============================');\r\n\r\n      const response = await apiClient.post<WordDetailResponse>('/api/v1/words/applyw', backendRequest);\r\n      \r\n      console.log('Word creation successful:', response);\r\n      \r\n      return {\r\n        id: response.id,\r\n        content: response.content,\r\n        subjectId: response.subjectId,\r\n        subjectName: response.subjectContent,\r\n        status: response.status\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to create word:', error);\r\n      \r\n      //    \r\n      if (error instanceof Error) {\r\n        console.error('Error message:', error.message);\r\n        console.error('Error stack:', error.stack);\r\n      }\r\n      \r\n      //      \r\n      if (error instanceof TypeError && error.message.includes('fetch')) {\r\n        console.error('Network error detected - check server connection');\r\n      }\r\n\r\n      throw new Error(error instanceof Error ? error.message : '    .');\r\n    }\r\n  }\r\n\r\n  //  \r\n  async deleteWord(id: number): Promise<void> {\r\n    try {\r\n      await apiClient.delete<void>(`/api/v1/words/delw/${id}`);\r\n    } catch (error) {\r\n      console.error('Failed to delete word:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport const wordService = WordService.getInstance();\r\nexport const wordApi = wordService;","import {apiClient} from './client';\r\n\r\nexport interface Subject {\r\n  id: number;\r\n  name: string;\r\n  wordIds: number[];\r\n  description?: string;\r\n  createdAt?: string;\r\n  wordCount?: number;\r\n  title?: string; // name \r\n}\r\n\r\nexport interface SubjectCreateRequest {\r\n  name: string; //   \r\n}\r\n\r\nexport interface SubjectListResponse {\r\n  subjects: Subject[];\r\n  totalCount?: number;\r\n}\r\n\r\nexport class SubjectService {\r\n  private static instance: SubjectService;\r\n\r\n  static getInstance(): SubjectService {\r\n    if (!SubjectService.instance) {\r\n      SubjectService.instance = new SubjectService();\r\n    }\r\n    return SubjectService.instance;\r\n  }\r\n\r\n  //   \r\n  async getSubjects(): Promise<SubjectListResponse> {\r\n    try {\r\n      const response = await apiClient.get<Subject[]>('/api/v1/subjects/listsubj');\r\n      //       title  \r\n      const subjects = Array.isArray(response) ? response.map(subject => ({\r\n        ...subject,\r\n        title: subject.name,\r\n        wordCount: subject.wordIds?.length || 0\r\n      })) : [];\r\n      \r\n      return {\r\n        subjects,\r\n        totalCount: subjects.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to fetch subjects:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  //  \r\n  async createSubject(subjectData: SubjectCreateRequest): Promise<Subject> {\r\n    try {\r\n      //  {success: true, id: number, name: string}  \r\n      const response = await apiClient.post<{success: boolean, id: number, name: string}>('/api/v1/subjects/applysubj', subjectData);\r\n      \r\n      // Subject   \r\n      return {\r\n        id: response.id,\r\n        name: response.name,\r\n        title: response.name,\r\n        wordIds: [],\r\n        wordCount: 0\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to create subject:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  //  \r\n  async deleteSubject(id: number): Promise<void> {\r\n    try {\r\n      await apiClient.delete<void>(`/api/v1/subjects/delsubj/${id}`);\r\n    } catch (error) {\r\n      console.error('Failed to delete subject:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport const subjectService = SubjectService.getInstance();\r\nexport const subjectApi = subjectService;","// Standardized API response handling utilities\r\nimport type {APIResponse, GameError} from '@/types'\r\n\r\n/**\r\n * Standardized API response wrapper\r\n */\r\nexport class ApiResponseHandler {\r\n  /**\r\n   * Wraps API responses in a consistent format\r\n   */\r\n  static success<T>(data: T): APIResponse<T> {\r\n    return {\r\n      success: true,\r\n      data,\r\n      timestamp: Date.now()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates error response from various error types\r\n   */\r\n  static error<T>(error: unknown, code = 'UNKNOWN_ERROR'): APIResponse<T> {\r\n    let gameError: GameError\r\n\r\n    if (error instanceof Error) {\r\n      gameError = {\r\n        code,\r\n        message: error.message,\r\n        details: error.stack\r\n      }\r\n    } else if (typeof error === 'string') {\r\n      gameError = {\r\n        code,\r\n        message: error\r\n      }\r\n    } else if (error && typeof error === 'object' && 'message' in error) {\r\n      gameError = {\r\n        code,\r\n        message: (error as { message?: string }).message ?? 'Unknown error occurred',\r\n        details: error\r\n      }\r\n    } else {\r\n      gameError = {\r\n        code,\r\n        message: 'An unexpected error occurred',\r\n        details: error\r\n      }\r\n    }\r\n\r\n    const response: APIResponse<T> = {\r\n      success: false,\r\n      error: gameError,\r\n      timestamp: Date.now()\r\n    }\r\n\r\n    return response\r\n  }\r\n\r\n  /**\r\n   * Handles HTTP response and standardizes the format\r\n   */\r\n  static async handleResponse<T>(\r\n    responsePromise: Promise<T>,\r\n    errorCode?: string\r\n  ): Promise<APIResponse<T>> {\r\n    try {\r\n      const data = await responsePromise\r\n      return this.success(data)\r\n    } catch (error) {\r\n      console.error('API Response Error:', error)\r\n      return this.error<T>(error, errorCode)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validates and processes API response data\r\n   */\r\n  static validateResponse<T>(\r\n    response: any,\r\n    validator?: (data: any) => data is T\r\n  ): APIResponse<T> {\r\n    try {\r\n      // Check if response is already in our standard format\r\n      if (response && typeof response === 'object' && 'success' in response) {\r\n        return response as APIResponse<T>\r\n      }\r\n\r\n      // Handle raw backend responses\r\n      if (validator && !validator(response)) {\r\n        return this.error<T>('Invalid response format', 'VALIDATION_ERROR')\r\n      }\r\n\r\n      return this.success(response)\r\n    } catch (error) {\r\n      return this.error<T>(error, 'VALIDATION_ERROR')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Extracts data from API response, throwing error if failed\r\n   */\r\n  static unwrap<T>(response: APIResponse<T>): T {\r\n    if (!response.success) {\r\n      throw new Error(response.error?.message || 'API request failed')\r\n    }\r\n    return response.data!\r\n  }\r\n\r\n  /**\r\n   * Checks if API response is successful\r\n   */\r\n  static isSuccess<T>(response: APIResponse<T>): response is APIResponse<T> & { success: true } {\r\n    return response.success\r\n  }\r\n\r\n  /**\r\n   * Checks if API response is an error\r\n   */\r\n  static isError<T>(response: APIResponse<T>): response is APIResponse<T> & { success: false } {\r\n    return !response.success\r\n  }\r\n\r\n  /**\r\n   * Maps API response data using transformer function\r\n   */\r\n  static map<T, U>(\r\n    response: APIResponse<T>,\r\n    transformer: (data: T) => U\r\n  ): APIResponse<U> {\r\n    if (!response.success) {\r\n      return {\r\n        success: false,\r\n        error: response.error,\r\n        timestamp: response.timestamp,\r\n      }\r\n    }\r\n    \r\n    try {\r\n      const transformedData = transformer(response.data!)\r\n      return this.success(transformedData)\r\n    } catch (error) {\r\n      return this.error<U>(error, 'TRANSFORMATION_ERROR')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Chains API response handling\r\n   */\r\n  static chain<T, U>(\r\n    response: APIResponse<T>,\r\n    handler: (data: T) => APIResponse<U>\r\n  ): APIResponse<U> {\r\n    if (!response.success) {\r\n      return {\r\n        success: false,\r\n        error: response.error,\r\n        timestamp: response.timestamp,\r\n      }\r\n    }\r\n    \r\n    return handler(response.data!)\r\n  }\r\n\r\n  /**\r\n   * Handles multiple API responses, returning success only if all succeed\r\n   */\r\n  static all<T extends readonly APIResponse<any>[]>(\r\n    responses: T\r\n  ): APIResponse<{ [K in keyof T]: T[K] extends APIResponse<infer U> ? U : never }> {\r\n    type CombinedResponse = { [K in keyof T]: T[K] extends APIResponse<infer U> ? U : never }\r\n\r\n    const errors: GameError[] = []\r\n    const data: any[] = []\r\n\r\n    for (const response of responses) {\r\n      if (!response.success) {\r\n        if (response.error) {\r\n          errors.push(response.error)\r\n        }\r\n      } else {\r\n        data.push(response.data)\r\n      }\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n      return this.error<CombinedResponse>(\r\n        {\r\n          message: `${errors.length} API requests failed`,\r\n          details: errors\r\n        },\r\n        'MULTIPLE_ERRORS'\r\n      )\r\n    }\r\n\r\n    return this.success(data as CombinedResponse)\r\n  }\r\n\r\n\r\n  /**\r\n   * Creates a timeout wrapper for API calls\r\n   */\r\n  static withTimeout<T>(\r\n    apiCall: () => Promise<T>,\r\n    timeoutMs: number = 10000\r\n  ): Promise<APIResponse<T>> {\r\n    const timeoutPromise = new Promise<never>((_, reject) => {\r\n      setTimeout(() => reject(new Error('Request timeout')), timeoutMs)\r\n    })\r\n\r\n    return this.handleResponse(\r\n      Promise.race([apiCall(), timeoutPromise]),\r\n      'TIMEOUT_ERROR'\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Retry logic for failed API calls\r\n   */\r\n  static async withRetry<T>(\r\n    apiCall: () => Promise<APIResponse<T>>,\r\n    maxRetries: number = 3,\r\n    delayMs: number = 1000\r\n  ): Promise<APIResponse<T>> {\r\n    let lastError: APIResponse<T>\r\n\r\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n      try {\r\n        const result = await apiCall()\r\n        \r\n        if (result.success) {\r\n          return result\r\n        }\r\n        \r\n        lastError = result\r\n        \r\n        // Don't retry on validation errors or certain client errors\r\n        if (result.error?.code === 'VALIDATION_ERROR' || \r\n            result.error?.code === 'AUTHENTICATION_ERROR') {\r\n          return result\r\n        }\r\n        \r\n      } catch (error) {\r\n        lastError = this.error<T>(error, 'RETRY_ERROR')\r\n      }\r\n\r\n      // Wait before next retry (exponential backoff)\r\n      if (attempt < maxRetries) {\r\n        await new Promise(resolve => setTimeout(resolve, delayMs * attempt))\r\n      }\r\n    }\r\n\r\n    return lastError!\r\n  }\r\n}\r\n\r\n// Convenience functions for common patterns\r\nexport const apiResponse = {\r\n  success: ApiResponseHandler.success,\r\n  error: ApiResponseHandler.error,\r\n  handle: ApiResponseHandler.handleResponse,\r\n  validate: ApiResponseHandler.validateResponse,\r\n  unwrap: ApiResponseHandler.unwrap,\r\n  isSuccess: ApiResponseHandler.isSuccess,\r\n  isError: ApiResponseHandler.isError,\r\n  map: ApiResponseHandler.map,\r\n  chain: ApiResponseHandler.chain,\r\n  all: ApiResponseHandler.all,\r\n  withTimeout: ApiResponseHandler.withTimeout,\r\n  withRetry: ApiResponseHandler.withRetry\r\n}\r\n\r\nexport default ApiResponseHandler\r\n\r\n","import {apiClient} from './client'\r\nimport {apiResponse} from '@/utils/apiResponseHandler'\r\nimport type {APIResponse} from '@/types'\r\n\r\n// Admin interfaces\r\nexport interface AdminLoginRequest {\r\n  adminNickname: string;\r\n  password: string;\r\n}\r\n\r\nexport interface AdminLoginResponse {\r\n  success: boolean;\r\n  nickname: string;\r\n}\r\n\r\nexport interface KickPlayerRequest {\r\n  userId: number;\r\n}\r\n\r\nexport interface TerminateRoomRequest {\r\n  gameNumber: number;\r\n}\r\n\r\nexport interface ProfanityRequest {\r\n  id: number;\r\n  word: string;\r\n  requestedBy: string;\r\n  status: 'PENDING' | 'APPROVED' | 'REJECTED';\r\n  createdAt: string;\r\n}\r\n\r\nexport interface GameStatistics {\r\n  totalGames: number;\r\n  activeGames: number;\r\n  totalPlayers: number;\r\n  onlinePlayers: number;\r\n  averageGameDuration: number;\r\n  popularSubjects: Array<{\r\n    subject: string;\r\n    count: number;\r\n  }>;\r\n}\r\n\r\nexport interface ActiveGame {\r\n  gameNumber: number;\r\n  hostName: string;\r\n  playerCount: number;\r\n  maxPlayers: number;\r\n  gameState: string;\r\n  createdAt: string;\r\n  lastActivity: string;\r\n}\r\n\r\nexport interface PlayerInfo {\r\n  id: number;\r\n  nickname: string;\r\n  isOnline: boolean;\r\n  lastSeen: string;\r\n  gamesPlayed: number;\r\n  winRate: number;\r\n}\r\n\r\nexport interface PendingContent {\r\n  id: number;\r\n  type: 'SUBJECT' | 'WORD';\r\n  content: string;\r\n  submittedBy: string;\r\n  submittedAt: string;\r\n  status: 'PENDING' | 'APPROVED' | 'REJECTED';\r\n}\r\n\r\nclass AdminApiService {\r\n  private readonly baseUrl = '/api/v1/admin';\r\n\r\n  async login(credentials: AdminLoginRequest): Promise<APIResponse<AdminLoginResponse>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<AdminLoginResponse>(`${this.baseUrl}/login`, credentials),\r\n      'ADMIN_LOGIN_ERROR'\r\n    )\r\n  }\r\n\r\n  async kickPlayer(gameNumber: number, userId: number): Promise<APIResponse<{ success: boolean }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{ success: boolean }>(`${this.baseUrl}/games/${gameNumber}/kick`, {\r\n        userId\r\n      }),\r\n      'KICK_PLAYER_ERROR'\r\n    )\r\n  }\r\n\r\n  async terminateRoom(gameNumber: number): Promise<APIResponse<{ success: boolean }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{ success: boolean }>(`${this.baseUrl}/terminate-room`, {\r\n        gameNumber\r\n      }),\r\n      'TERMINATE_ROOM_ERROR'\r\n    )\r\n  }\r\n\r\n  async getGameStatistics(): Promise<APIResponse<GameStatistics>> {\r\n    return apiResponse.handle(\r\n      apiClient.get<GameStatistics>(`${this.baseUrl}/statistics`),\r\n      'GET_STATISTICS_ERROR'\r\n    )\r\n  }\r\n\r\n  async getAllActiveGames(): Promise<APIResponse<ActiveGame[]>> {\r\n    return apiResponse.handle(\r\n      apiClient.get<ActiveGame[]>(`${this.baseUrl}/games`),\r\n      'GET_ACTIVE_GAMES_ERROR'\r\n    )\r\n  }\r\n\r\n  async getAllPlayers(): Promise<APIResponse<PlayerInfo[]>> {\r\n    return apiResponse.handle(\r\n      apiClient.get<PlayerInfo[]>(`${this.baseUrl}/players`),\r\n      'GET_PLAYERS_ERROR'\r\n    )\r\n  }\r\n\r\n  async getPendingProfanityRequests(): Promise<APIResponse<ProfanityRequest[]>> {\r\n    return apiResponse.handle(\r\n      apiClient.get<ProfanityRequest[]>(`${this.baseUrl}/profanity/requests`),\r\n      'GET_PROFANITY_REQUESTS_ERROR'\r\n    )\r\n  }\r\n\r\n  async approveProfanityRequest(requestId: number): Promise<APIResponse<void>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<void>(`${this.baseUrl}/profanity/approve/${requestId}`),\r\n      'APPROVE_PROFANITY_ERROR'\r\n    )\r\n  }\r\n\r\n  async rejectProfanityRequest(requestId: number): Promise<APIResponse<void>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<void>(`${this.baseUrl}/profanity/reject/${requestId}`),\r\n      'REJECT_PROFANITY_ERROR'\r\n    )\r\n  }\r\n\r\n  async grantAdminRole(userId: number): Promise<APIResponse<{ success: boolean }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{ success: boolean }>(`${this.baseUrl}/grant-role/${userId}`),\r\n      'GRANT_ADMIN_ROLE_ERROR'\r\n    )\r\n  }\r\n\r\n  async getPendingContents(): Promise<APIResponse<PendingContent[]>> {\r\n    return apiResponse.handle(\r\n      apiClient.get<PendingContent[]>(`${this.baseUrl}/content/pending`),\r\n      'GET_PENDING_CONTENTS_ERROR'\r\n    )\r\n  }\r\n\r\n  async approveAllPendingContents(): Promise<APIResponse<{ success: boolean }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{ success: boolean }>(`${this.baseUrl}/content/approve-all`),\r\n      'APPROVE_ALL_CONTENTS_ERROR'\r\n    )\r\n  }\r\n\r\n  async cleanupStaleGames(): Promise<APIResponse<{\r\n    success: boolean;\r\n    cleanedGames: number;\r\n    message: string;\r\n  }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{\r\n        success: boolean;\r\n        cleanedGames: number;\r\n        message: string;\r\n      }>(`${this.baseUrl}/cleanup/stale-games`),\r\n      'CLEANUP_STALE_GAMES_ERROR'\r\n    )\r\n  }\r\n\r\n  async cleanupDisconnectedPlayers(): Promise<APIResponse<{\r\n    success: boolean;\r\n    cleanedPlayers: number;\r\n  }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{\r\n        success: boolean;\r\n        cleanedPlayers: number;\r\n      }>(`${this.baseUrl}/cleanup/disconnected-players`),\r\n      'CLEANUP_DISCONNECTED_PLAYERS_ERROR'\r\n    )\r\n  }\r\n\r\n  async cleanupEmptyGames(): Promise<APIResponse<{\r\n    success: boolean;\r\n    cleanedGames: number;\r\n    message: string;\r\n  }>> {\r\n    return apiResponse.handle(\r\n      apiClient.post<{\r\n        success: boolean;\r\n        cleanedGames: number;\r\n        message: string;\r\n      }>(`${this.baseUrl}/cleanup/empty-games`),\r\n      'CLEANUP_EMPTY_GAMES_ERROR'\r\n    )\r\n  }\r\n}\r\n\r\nexport const adminApi = new AdminApiService();","import {apiService} from './api';\r\nimport type {\r\n    ChatMessage,\r\n    DefenseResponse,\r\n    FinalVoteResponse,\r\n    GameResult,\r\n    GuessResponse,\r\n    HintSubmissionResponse,\r\n    RoundEndResponse,\r\n    VoteResponse,\r\n} from '../types/gameFlow';\r\n\r\nconst GAME_BASE = '/api/v1/game';\r\nconst CHAT_BASE = '/api/v1/chat';\r\n\r\ntype ChatSendType = 'GENERAL' | 'HINT' | 'DEFENSE' | 'SYSTEM';\r\n\r\ntype BackendChatType = 'DISCUSSION' | 'HINT' | 'DEFENSE' | 'SYSTEM';\r\n\r\nconst mapChatType = (type: ChatSendType): BackendChatType => {\r\n  switch (type) {\r\n    case 'HINT':\r\n      return 'HINT';\r\n    case 'DEFENSE':\r\n      return 'DEFENSE';\r\n    case 'SYSTEM':\r\n      return 'SYSTEM';\r\n    default:\r\n      return 'DISCUSSION';\r\n  }\r\n};\r\n\r\nexport class GameFlowService {\r\n  async submitHint(gameNumber: number, hint: string): Promise<HintSubmissionResponse> {\r\n    return apiService.post<HintSubmissionResponse>(`${GAME_BASE}/hint`, { gameNumber, hint });\r\n  }\r\n\r\n  async castVoteForLiar(gameNumber: number, targetUserId: number): Promise<VoteResponse> {\r\n    return apiService.post<VoteResponse>(`${GAME_BASE}/cast-vote`, { gameNumber, targetUserId });\r\n  }\r\n\r\n  async submitDefense(gameNumber: number, defenseText: string): Promise<DefenseResponse> {\r\n    return apiService.post<DefenseResponse>(`${GAME_BASE}/submit-defense`, { gameNumber, defenseText });\r\n  }\r\n\r\n  async endDefensePhase(gameNumber: number): Promise<any> {\r\n    return apiService.post(`${GAME_BASE}/defense/end`, { gameNumber });\r\n  }\r\n\r\n  async castFinalVote(gameNumber: number, voteForExecution: boolean): Promise<FinalVoteResponse> {\r\n    return apiService.post<FinalVoteResponse>(`${GAME_BASE}/vote/final`, { gameNumber, voteForExecution });\r\n  }\r\n\r\n  async guessWord(gameNumber: number, guess: string): Promise<GuessResponse> {\r\n    return apiService.post<GuessResponse>(`${GAME_BASE}/guess-word`, { gameNumber, guess });\r\n  }\r\n\r\n  async endRound(gameNumber: number): Promise<RoundEndResponse> {\r\n    return apiService.post<RoundEndResponse>(`${GAME_BASE}/end-of-round`, { gameNumber });\r\n  }\r\n\r\n  async getGameResult(gameNumber: number): Promise<GameResult> {\r\n    return apiService.get<GameResult>(`${GAME_BASE}/result/${gameNumber}`);\r\n  }\r\n\r\n  async sendChatMessage(gameNumber: number, message: string, type: ChatSendType = 'GENERAL'): Promise<void> {\r\n    await apiService.post(`${CHAT_BASE}/send`, {\r\n      gameNumber,\r\n      content: message,\r\n      type: mapChatType(type)\r\n    });\r\n  }\r\n\r\n  async getChatHistory(\r\n    gameNumber: number,\r\n    limit: number = 50,\r\n    type?: ChatSendType\r\n  ): Promise<ChatMessage[]> {\r\n    const params = new URLSearchParams({\r\n      gameNumber: String(gameNumber),\r\n      limit: String(limit)\r\n    });\r\n\r\n    const mappedType = type && type !== 'GENERAL' ? mapChatType(type) : undefined;\r\n    if (mappedType) {\r\n      params.append('type', mappedType);\r\n    }\r\n\r\n    const rawMessages = await apiService.get<any[]>(`${CHAT_BASE}/history?${params.toString()}`);\r\n\r\n    return rawMessages.map((message) => {\r\n      const gameNumberParsed = typeof message.gameNumber === 'number'\r\n        ? message.gameNumber\r\n        : Number.parseInt(String(message.gameNumber ?? 0), 10)\r\n\r\n      const timestamp = typeof message.timestamp === 'string'\r\n        ? Date.parse(message.timestamp)\r\n        : Number(message.timestamp ?? Date.now())\r\n\r\n      const playerNickname = message.playerNickname\r\n        ?? message.playerNicknameSnapshot\r\n        ?? message.nickname\r\n        ?? 'SYSTEM'\r\n      const content = message.content ?? message.message ?? ''\r\n      const playerUserId = typeof message.playerUserId === 'number' ? message.playerUserId : undefined\r\n      const resolvedUserId = typeof message.userId === 'number' ? message.userId : playerUserId\r\n\r\n      return {\r\n        id: String(message.id ?? `${gameNumberParsed}-${timestamp}`),\r\n        gameNumber: Number.isNaN(gameNumberParsed) ? 0 : gameNumberParsed,\r\n        playerId: message.playerId != null ? String(message.playerId) : undefined,\r\n        userId: resolvedUserId,\r\n        playerNickname,\r\n        nickname: message.nickname ?? undefined,\r\n        playerName: message.playerName ?? message.playerNicknameSnapshot ?? undefined,\r\n        content,\r\n        message: content,\r\n        gameId: message.gameId != null ? String(message.gameId) : undefined,\r\n        roomId: message.roomId != null ? String(message.roomId) : undefined,\r\n        timestamp,\r\n        type: (message.type || 'DISCUSSION') as ChatMessage['type']\r\n      } satisfies ChatMessage\r\n    })\r\n  }\r\n}\r\n\r\nexport const gameFlowService = new GameFlowService();\r\n","import {create} from 'zustand'\r\nimport {persist} from 'zustand/middleware'\r\nimport {authService} from '@/services'\r\nimport {clearClientSessionState} from '@/utils/sessionCleanup'\r\nimport type {AuthState} from '../types/auth'\r\n\r\ntype LogoutOptions = { reason?: 'logout' | 'session-expired'; skipApi?: boolean };\r\n\r\nlet storeInstance: { logout: (options?: LogoutOptions) => Promise<void> } | null = null;\r\n\r\nasync function leaveActiveGameIfNeeded(): Promise<void> {\r\n  if (typeof window === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const {useGameStore} = await import('./unifiedGameStore');\r\n    const {leaveGame, resetGame} = useGameStore.getState();\r\n\r\n    if (typeof leaveGame === 'function') {\r\n      await leaveGame();\r\n    } else if (typeof resetGame === 'function') {\r\n      resetGame();\r\n    }\r\n  } catch (error) {\r\n    console.warn('[authStore] Failed to leave active game during logout', error);\r\n  }\r\n}\r\n\r\nconst handleSessionExpired = () => {\r\n  if (storeInstance) {\r\n    console.log('Session expired event received, clearing auth state');\r\n    void storeInstance.logout({ reason: 'session-expired', skipApi: true });\r\n  }\r\n};\r\n\r\nif (typeof window !== 'undefined') {\r\n  window.addEventListener('auth-session-expired', handleSessionExpired);\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n  persist(\r\n    (set, get) => {\r\n      const performLogout = async (options: LogoutOptions = {}) => {\r\n        const { reason = 'logout', skipApi = false } = options;\r\n\r\n        try {\r\n          await leaveActiveGameIfNeeded();\r\n\r\n          if (!skipApi) {\r\n            await authService.logout();\r\n          }\r\n        } catch (error) {\r\n          console.error('Logout error:', error);\r\n        } finally {\r\n          set({\r\n            isAuthenticated: false,\r\n            userId: null,\r\n            nickname: null,\r\n            isRefreshing: false,\r\n          });\r\n          await clearClientSessionState({ reason, broadcastEvent: false });\r\n        }\r\n      };\r\n\r\n      storeInstance = {\r\n        logout: performLogout,\r\n      };\r\n\r\n      return {\r\n        isAuthenticated: false,\r\n        userId: null,\r\n        nickname: null,\r\n        isRefreshing: false,\r\n\r\n        login: async (nickname: string) => {\r\n          try {\r\n            const response = await authService.login({ nickname });\r\n\r\n            if (response.success) {\r\n              set({\r\n                isAuthenticated: true,\r\n                userId: response.userId ?? null,\r\n                nickname: response.nickname ?? null,\r\n                isRefreshing: false,\r\n              });\r\n              console.log('Auth state updated:', response.nickname);\r\n            } else {\r\n              throw new Error('Login failed');\r\n            }\r\n          } catch (error) {\r\n            set({\r\n              isAuthenticated: false,\r\n              userId: null,\r\n              nickname: null,\r\n              isRefreshing: false,\r\n            });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        logout: async () => {\r\n          await performLogout({ reason: 'logout' });\r\n        },\r\n\r\n        checkAuth: async () => {\r\n          const currentState = get();\r\n\r\n          if (currentState?.isRefreshing) {\r\n            return;\r\n          }\r\n\r\n          set({ isRefreshing: true });\r\n\r\n          try {\r\n            const response = await authService.refreshSession();\r\n\r\n            if (response.success) {\r\n              set({\r\n                isAuthenticated: true,\r\n                userId: response.userId ?? null,\r\n                nickname: response.nickname ?? null,\r\n                isRefreshing: false,\r\n              });\r\n              console.log('Auth state updated after refresh:', response.nickname);\r\n            } else {\r\n              console.log('Auth refresh unsuccessful:', response.message);\r\n              await performLogout({ reason: 'session-expired', skipApi: true });\r\n            }\r\n          } catch (error) {\r\n            console.error('Unexpected auth check error:', error);\r\n            await performLogout({ reason: 'session-expired', skipApi: true });\r\n          }\r\n        },\r\n      };\r\n    },\r\n    {\r\n      name: 'auth-storage',\r\n      partialize: (state) => ({\r\n        isAuthenticated: state.isAuthenticated,\r\n        userId: state.userId,\r\n        nickname: state.nickname,\r\n      }),\r\n    },\r\n  ),\r\n);\r\n","import {Link, useLocation, useNavigate} from 'react-router-dom'\r\nimport {Button} from '@/components/ui/button'\r\nimport {ThemeToggle} from '@/components/common/ThemeToggle'\r\nimport {useAuthStore} from '@/stores/authStore'\r\nimport {Home, LogOut, User} from 'lucide-react'\r\nimport {cn} from '@/lib/utils'\r\n\r\ninterface HeaderProps {\r\n  className?: string\r\n}\r\n\r\nexport function Header({ className }: HeaderProps = {}) {\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n  const { nickname, logout } = useAuthStore()\r\n  \r\n  const handleLogout = () => {\r\n    logout()\r\n    navigate('/')\r\n  }\r\n\r\n  return (\r\n    <header className={cn(\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\", className)}>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex h-16 items-center justify-between\">\r\n          {/* Logo and Navigation */}\r\n          <div className=\"flex items-center gap-6\">\r\n            <Link to=\"/lobby\" className=\"flex items-center gap-2\">\r\n              <div className=\"h-8 w-8 rounded-lg bg-primary flex items-center justify-center\">\r\n                <span className=\"text-primary-foreground font-bold text-sm\">LG</span>\r\n              </div>\r\n              <span className=\"font-bold text-lg\">Liar Game</span>\r\n            </Link>\r\n            \r\n            {/* Breadcrumb Navigation */}\r\n            <nav className=\"hidden md:flex items-center gap-2 text-sm text-muted-foreground\">\r\n              {location.pathname !== '/lobby' && location.pathname !== '/' && (\r\n                <>\r\n                  <Link to=\"/lobby\" className=\"hover:text-foreground transition-colors\">\r\n                    <Home className=\"h-4 w-4\" />\r\n                  </Link>\r\n                  <span>/</span>\r\n                </>\r\n              )}\r\n            </nav>\r\n          </div>\r\n\r\n          {/* User Actions */}\r\n          <div className=\"flex items-center gap-4\">\r\n            {nickname && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <User className=\"h-4 w-4\" />\r\n                <span className=\"text-sm font-medium\">{nickname}</span>\r\n              </div>\r\n            )}\r\n            \r\n            <ThemeToggle />\r\n            \r\n            {nickname && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={handleLogout}\r\n                className=\"gap-2\"\r\n              >\r\n                <LogOut className=\"h-4 w-4\" />\r\n                <span className=\"hidden sm:inline\">Logout</span>\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}","import {cn} from '@/lib/utils'\r\n\r\ninterface FooterProps {\r\n  className?: string\r\n}\r\n\r\nexport function Footer({ className }: FooterProps = {}) {\r\n  return (\r\n    <footer className={cn(\"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\", className)}>\r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\r\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n            <span> 2024 Liar Game</span>\r\n            <span></span>\r\n            <span>Built with React & TypeScript</span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\r\n            <span>Version 1.0.0</span>\r\n            <span></span>\r\n            <a \r\n              href=\"https://github.com\" \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"hover:text-foreground transition-colors\"\r\n            >\r\n              Source Code\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import {type CSSProperties, useLayoutEffect, useMemo, useRef, useState} from 'react'\r\nimport {Outlet} from 'react-router-dom'\r\nimport {QueryClientProvider} from '@tanstack/react-query'\r\nimport {ReactQueryDevtools} from '@tanstack/react-query-devtools'\r\nimport {queryClient} from '@/lib/queryClient'\r\nimport {Toaster} from '@/components/ui/toaster'\r\nimport {ThemeProvider} from '@/components/common/ThemeProvider'\r\nimport {Header} from './Header'\r\nimport {Footer} from './Footer'\r\n\r\ntype ShellMetrics = {\r\n  headerHeight: number\r\n  footerHeight: number\r\n  contentPadding: number\r\n}\r\n\r\nexport function Layout() {\r\n  const headerWrapperRef = useRef<HTMLDivElement>(null)\r\n  const footerWrapperRef = useRef<HTMLDivElement>(null)\r\n  const contentWrapperRef = useRef<HTMLDivElement>(null)\r\n  const [metrics, setMetrics] = useState<ShellMetrics>({ headerHeight: 0, footerHeight: 0, contentPadding: 0 })\r\n\r\n  useLayoutEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return\r\n    }\r\n\r\n    let animationFrame = 0\r\n\r\n    const readMetrics = () => {\r\n      animationFrame = 0\r\n      const headerHeight = headerWrapperRef.current?.offsetHeight ?? 0\r\n      const footerHeight = footerWrapperRef.current?.offsetHeight ?? 0\r\n      const contentPadding = (() => {\r\n        if (!contentWrapperRef.current) {\r\n          return 0\r\n        }\r\n        const styles = window.getComputedStyle(contentWrapperRef.current)\r\n        const paddingTop = parseFloat(styles.paddingTop) || 0\r\n        const paddingBottom = parseFloat(styles.paddingBottom) || 0\r\n        return paddingTop + paddingBottom\r\n      })()\r\n\r\n      setMetrics((prev) => {\r\n        if (\r\n          prev.headerHeight === headerHeight &&\r\n          prev.footerHeight === footerHeight &&\r\n          prev.contentPadding === contentPadding\r\n        ) {\r\n          return prev\r\n        }\r\n        return { headerHeight, footerHeight, contentPadding }\r\n      })\r\n    }\r\n\r\n    const scheduleRead = () => {\r\n      if (animationFrame) {\r\n        return\r\n      }\r\n      animationFrame = window.requestAnimationFrame(readMetrics)\r\n    }\r\n\r\n    readMetrics()\r\n    window.addEventListener('resize', scheduleRead)\r\n\r\n    const observers: ResizeObserver[] = []\r\n\r\n    if (typeof ResizeObserver !== 'undefined') {\r\n      if (headerWrapperRef.current) {\r\n        const observer = new ResizeObserver(scheduleRead)\r\n        observer.observe(headerWrapperRef.current)\r\n        observers.push(observer)\r\n      }\r\n      if (footerWrapperRef.current) {\r\n        const observer = new ResizeObserver(scheduleRead)\r\n        observer.observe(footerWrapperRef.current)\r\n        observers.push(observer)\r\n      }\r\n      if (contentWrapperRef.current) {\r\n        const observer = new ResizeObserver(scheduleRead)\r\n        observer.observe(contentWrapperRef.current)\r\n        observers.push(observer)\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', scheduleRead)\r\n      if (animationFrame) {\r\n        window.cancelAnimationFrame(animationFrame)\r\n      }\r\n      observers.forEach((observer) => observer.disconnect())\r\n    }\r\n  }, [])\r\n\r\n  const layoutStyle = useMemo(() => {\r\n    return {\r\n      '--app-header-height': `${Math.round(metrics.headerHeight)}px`,\r\n      '--app-footer-height': `${Math.round(metrics.footerHeight)}px`,\r\n      '--app-content-padding': `${Math.round(metrics.contentPadding)}px`,\r\n    } as CSSProperties\r\n  }, [metrics])\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <ThemeProvider defaultTheme=\"system\" storageKey=\"liar-game-theme\">\r\n        <div\r\n          className=\"flex min-h-screen flex-col bg-background\"\r\n          style={layoutStyle}\r\n          data-app-shell=\"true\"\r\n        >\r\n          <div ref={headerWrapperRef} className=\"shrink-0\">\r\n            <Header className=\"shrink-0\" />\r\n          </div>\r\n          <main className=\"flex-1 overflow-hidden\">\r\n            <div className=\"mx-auto flex h-full w-full max-w-screen-2xl flex-col px-4\">\r\n              <div\r\n                ref={contentWrapperRef}\r\n                className=\"flex min-h-0 flex-1 flex-col py-6 sm:py-8\"\r\n                data-app-content=\"true\"\r\n              >\r\n                <Outlet />\r\n              </div>\r\n            </div>\r\n          </main>\r\n          <div ref={footerWrapperRef} className=\"shrink-0\">\r\n            <Footer className=\"shrink-0\" />\r\n          </div>\r\n          <Toaster />\r\n        </div>\r\n        <ReactQueryDevtools initialIsOpen={false} />\r\n      </ThemeProvider>\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n","import {Outlet} from 'react-router-dom'\r\nimport {QueryClientProvider} from '@tanstack/react-query'\r\nimport {ReactQueryDevtools} from '@tanstack/react-query-devtools'\r\nimport {queryClient} from '@/lib/queryClient'\r\nimport {Toaster} from '@/components/ui/toaster'\r\nimport {ThemeProvider} from '@/components/common/ThemeProvider'\r\n\r\nexport function AuthLayout() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <ThemeProvider defaultTheme=\"system\" storageKey=\"liar-game-theme\">\r\n        <div className=\"min-h-screen bg-background\">\r\n          <Outlet />\r\n        </div>\r\n        <Toaster />\r\n        <ReactQueryDevtools initialIsOpen={false} />\r\n      </ThemeProvider>\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Navigate, useLocation} from 'react-router-dom';\r\nimport {useAuthStore} from '../../stores/authStore';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n  const location = useLocation();\r\n  const { isAuthenticated, checkAuth } = useAuthStore();\r\n  const [isChecking, setIsChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const verifyAuth = async () => {\r\n      try {\r\n        await checkAuth();\r\n      } catch (error) {\r\n        console.log('Auth verification failed', error);\r\n      } finally {\r\n        setIsChecking(false);\r\n      }\r\n    };\r\n\r\n    if (!isAuthenticated) {\r\n      verifyAuth();\r\n    } else {\r\n      setIsChecking(false);\r\n    }\r\n  }, [isAuthenticated, checkAuth]);\r\n\r\n  if (isChecking) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n","import * as React from \"react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }","import * as React from \"react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }","\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport {cva, type VariantProps} from \"class-variance-authority\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }","/**\r\n *   \r\n * \r\n * :\r\n * -   \r\n * -     (,  )\r\n * -   \r\n * - 2-12  \r\n * -    ()\r\n */\r\n\r\nexport interface NicknameValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  normalizedNickname?: string;\r\n}\r\n\r\n/**\r\n *    \r\n * -    \r\n */\r\nconst isCompleteKorean = (char: string): boolean => {\r\n  const code = char.charCodeAt(0);\r\n  return code >= 0xAC00 && code <= 0xD7A3;\r\n};\r\n\r\n/**\r\n *  //   \r\n */\r\nconst isIncompleteKorean = (char: string): boolean => {\r\n  const code = char.charCodeAt(0);\r\n  //  (-)\r\n  if (code >= 0x3131 && code <= 0x314E) return true;\r\n  //  (-)\r\n  if (code >= 0x314F && code <= 0x3163) return true;\r\n  //      \r\n  return false;\r\n};\r\n\r\n/**\r\n *    (a-z, A-Z)\r\n */\r\nconst isEnglish = (char: string): boolean => {\r\n  const code = char.charCodeAt(0);\r\n  return (code >= 0x41 && code <= 0x5A) || (code >= 0x61 && code <= 0x7A);\r\n};\r\n\r\n/**\r\n *   ( ,  )\r\n */\r\nexport const normalizeNickname = (nickname: string): string => {\r\n  return nickname.trim().toLowerCase();\r\n};\r\n\r\n/**\r\n *   \r\n */\r\nexport const validateNickname = (nickname: string): NicknameValidationResult => {\r\n  //  \r\n  if (!nickname || typeof nickname !== 'string') {\r\n    return {\r\n      isValid: false,\r\n      error: ' .'\r\n    };\r\n  }\r\n\r\n  const trimmedNickname = nickname.trim();\r\n  \r\n  if (trimmedNickname.length === 0) {\r\n    return {\r\n      isValid: false,\r\n      error: ' .'\r\n    };\r\n  }\r\n\r\n  //   (2-12)\r\n  if (trimmedNickname.length < 2) {\r\n    return {\r\n      isValid: false,\r\n      error: '  2  .'\r\n    };\r\n  }\r\n\r\n  if (trimmedNickname.length > 12) {\r\n    return {\r\n      isValid: false,\r\n      error: '  12  .'\r\n    };\r\n  }\r\n\r\n  //  \r\n  for (let i = 0; i < trimmedNickname.length; i++) {\r\n    const char = trimmedNickname[i];\r\n    \r\n    //     (, ,  )\r\n    if (isIncompleteKorean(char)) {\r\n      return {\r\n        isValid: false,\r\n        error: '    . (, ,    )'\r\n      };\r\n    }\r\n    \r\n    //    (   )\r\n    if (!isCompleteKorean(char) && !isEnglish(char)) {\r\n      return {\r\n        isValid: false,\r\n        error: '    .'\r\n      };\r\n    }\r\n  }\r\n\r\n  //  \r\n  const normalizedNickname = normalizeNickname(trimmedNickname);\r\n\r\n  return {\r\n    isValid: true,\r\n    normalizedNickname\r\n  };\r\n};\r\n\r\n/**\r\n *     ( )\r\n */\r\nexport const isSameNickname = (nickname1: string, nickname2: string): boolean => {\r\n  return normalizeNickname(nickname1) === normalizeNickname(nickname2);\r\n};\r\n\r\n/**\r\n *     \r\n */\r\nexport const NICKNAME_PATTERNS = {\r\n  //   (-)\r\n  COMPLETE_KOREAN: /^[-]+$/,\r\n  //  (a-z, A-Z)\r\n  ENGLISH: /^[a-zA-Z]+$/,\r\n  //  +  \r\n  KOREAN_ENGLISH: /^[-a-zA-Z]+$/,\r\n  //    (, , )\r\n  INCOMPLETE_KOREAN: /[--]/\r\n} as const;\r\n\r\n/**\r\n *     ( )\r\n */\r\nexport const quickValidateNickname = (nickname: string): boolean => {\r\n  const trimmed = nickname.trim();\r\n  \r\n  //  \r\n  if (trimmed.length < 2 || trimmed.length > 12) {\r\n    return false;\r\n  }\r\n  \r\n  //    \r\n  if (NICKNAME_PATTERNS.INCOMPLETE_KOREAN.test(trimmed)) {\r\n    return false;\r\n  }\r\n  \r\n  // +  \r\n  return NICKNAME_PATTERNS.KOREAN_ENGLISH.test(trimmed);\r\n};","import React, {useState} from 'react';\r\nimport {Navigate, useLocation, useNavigate} from 'react-router-dom';\r\nimport {motion} from 'framer-motion';\r\nimport {Button} from '@/components/ui/button';\r\nimport {Card, CardContent, CardDescription, CardHeader, CardTitle} from '@/components/ui/card';\r\nimport {Input} from '@/components/ui/input';\r\nimport {Label} from '@/components/ui/label';\r\nimport {ArrowRight, User} from 'lucide-react';\r\nimport {useToast} from '@/hooks/useToast';\r\nimport {useAuthStore} from '@/stores/authStore';\r\nimport {validateNickname} from '@/utils/nicknameValidation';\r\n\r\nexport function MainLoginPage() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { toast } = useToast();\r\n  const { isAuthenticated, login } = useAuthStore();\r\n\r\n  const [nickname, setNickname] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [nicknameError, setNicknameError] = useState('');\r\n\r\n  //    \r\n  if (isAuthenticated) {\r\n    const from = location.state?.from?.pathname || '/lobby';\r\n    return <Navigate to={from} replace />;\r\n  }\r\n\r\n  const handleNicknameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setNickname(value);\r\n    \r\n    //  \r\n    if (value.trim()) {\r\n      const validation = validateNickname(value);\r\n      setNicknameError(validation.isValid ? '' : validation.error || '');\r\n    } else {\r\n      setNicknameError('');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    //  \r\n    const validation = validateNickname(nickname);\r\n    if (!validation.isValid) {\r\n      setNicknameError(validation.error || ' .');\r\n      toast({\r\n        title: \" \",\r\n        description: validation.error || ' .',\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setNicknameError('');\r\n\r\n    try {\r\n      await login(validation.normalizedNickname!);\r\n\r\n      toast({\r\n        title: \" \",\r\n        description: `${nickname.trim()}, !`,\r\n      });\r\n\r\n      const from = location.state?.from?.pathname || '/lobby';\r\n      navigate(from, { replace: true });\r\n\r\n    } catch (error: unknown) {\r\n      console.error('Login error:', error);\r\n\r\n      const errorMessage = error instanceof Error ? error.message : \" .      .\";\r\n\r\n      toast({\r\n        title: \" \",\r\n        description: errorMessage,\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\"\r\n    >\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"w-full max-w-md\"\r\n      >\r\n        <Card className=\"shadow-xl\">\r\n          <CardHeader className=\"text-center\">\r\n            <motion.div\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1 }}\r\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\r\n              className=\"mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 bg-gradient-to-r from-blue-500 to-violet-600\"\r\n            >\r\n              <User className=\"w-8 h-8 text-white\" />\r\n            </motion.div>\r\n            <CardTitle className=\"text-2xl font-bold\"> </CardTitle>\r\n            <CardDescription>\r\n                 \r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"nickname\" className=\"text-sm font-medium\">\r\n                  \r\n                </Label>\r\n                <div className=\"relative\">\r\n                  <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                  <Input\r\n                    id=\"nickname\"\r\n                    type=\"text\"\r\n                    placeholder=\"  (/, 2-12)\"\r\n                    value={nickname}\r\n                    onChange={handleNicknameChange}\r\n                    className={`pl-10 ${nicknameError ? 'border-red-500 focus:border-red-500' : ''}`}\r\n                    disabled={loading}\r\n                    autoComplete=\"username\"\r\n                    autoFocus\r\n                    maxLength={12}\r\n                  />\r\n                </div>\r\n                {nicknameError && (\r\n                  <p className=\"text-sm text-red-600 mt-1\">{nicknameError}</p>\r\n                )}\r\n                <div className=\"text-xs text-gray-500 mt-1\">\r\n                        2-12     \r\n                </div>\r\n              </div>\r\n              \r\n              <Button\r\n                type=\"submit\"\r\n                className=\"w-full\"\r\n                size=\"lg\"\r\n                disabled={loading || !nickname.trim() || !!nicknameError}\r\n              >\r\n                {loading ? (\r\n                  \" ...\"\r\n                ) : (\r\n                  <>\r\n                     \r\n                    <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center text-sm text-gray-600\">\r\n              <p>    </p>\r\n              <p>       </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\n\n// src/tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? \"\",\n      caller: TABS_NAME\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport {Check, ChevronRight, Circle} from \"lucide-react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}\r\n","import * as React from \"react\"\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n","import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport {X} from \"lucide-react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}","import {useCallback, useEffect, useRef, useState} from 'react'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Card, CardContent, CardDescription, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Input} from '@/components/ui/input'\r\nimport {Label} from '@/components/ui/label'\r\nimport {Textarea} from '@/components/ui/textarea'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger\r\n} from '@/components/ui/dialog'\r\nimport {BookOpen, Edit, Plus, Trash2} from 'lucide-react'\r\nimport {useToast} from '@/hooks/useToast'\r\nimport {type Subject, subjectService} from '@/api/subjectApi'\r\n\r\n// Subject  API  \r\n\r\nexport function TopicManagementSection() {\r\n  const [topics, setTopics] = useState<Subject[]>([])\r\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\r\n  const [newTopic, setNewTopic] = useState({\r\n    title: '',\r\n    description: ''\r\n  })\r\n  const { toast } = useToast()\r\n  const titleInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const loadTopics = useCallback(async () => {\r\n    try {\r\n      const response = await subjectService.getSubjects();\r\n      setTopics(response.subjects || []);\r\n    } catch (error) {\r\n      console.error('Failed to load topics:', error);\r\n      toast({\r\n        title: \"  \",\r\n        description: \"     \",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  }, [toast]);\r\n\r\n  useEffect(() => {\r\n    loadTopics();\r\n  }, [loadTopics]);\r\n\r\n  const handleCreateTopic = async () => {\r\n    if (!newTopic.title.trim()) {\r\n      toast({\r\n        title: \" \",\r\n        description: \"  \",\r\n        variant: \"destructive\",\r\n      })\r\n      titleInputRef.current?.focus();\r\n      return\r\n    }\r\n\r\n    try {\r\n      const createdTopic = await subjectService.createSubject({\r\n        name: newTopic.title.trim() //   name  \r\n      });\r\n\r\n      setTopics(prev => [...prev, createdTopic]);\r\n      setNewTopic({ title: '', description: '' });\r\n      \r\n      //        \r\n      titleInputRef.current?.focus();\r\n\r\n      toast({\r\n        title: \" \",\r\n        description: `\"${createdTopic.title}\"  `,\r\n      });\r\n    } catch (error) {\r\n      console.error('Create topic error:', error);\r\n      toast({\r\n        title: \"  \",\r\n        description: \"    \",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleDeleteTopic = async (topicId: number) => {\r\n    try {\r\n      await subjectService.deleteSubject(topicId);\r\n      setTopics(prev => prev.filter(topic => topic.id !== topicId));\r\n\r\n      toast({\r\n        title: \" \",\r\n        description: \"  \",\r\n      });\r\n    } catch (error) {\r\n      console.error('Delete topic error:', error);\r\n      toast({\r\n        title: \"  \",\r\n        description: \"    \",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  }\r\n\r\n  // Enter  \r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleCreateTopic();\r\n    }\r\n  }\r\n\r\n  //      \r\n  const handleDialogOpen = (open: boolean) => {\r\n    setIsCreateDialogOpen(open);\r\n    if (open) {\r\n      setTimeout(() => titleInputRef.current?.focus(), 100);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\r\n            <BookOpen className=\"h-6 w-6\" />\r\n             \r\n          </h2>\r\n          <p className=\"text-muted-foreground\">   </p>\r\n        </div>\r\n\r\n        <Dialog open={isCreateDialogOpen} onOpenChange={handleDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n                \r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>  </DialogTitle>\r\n              <DialogDescription>\r\n                     (Enter  )\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"title\"> </Label>\r\n                <Input\r\n                  ref={titleInputRef}\r\n                  id=\"title\"\r\n                  placeholder=\": , ,  \"\r\n                  value={newTopic.title}\r\n                  onChange={(e) => setNewTopic(prev => ({ ...prev, title: e.target.value }))}\r\n                  onKeyPress={handleKeyPress}\r\n                  autoFocus\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"description\"> ()</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  placeholder=\"   \"\r\n                  value={newTopic.description}\r\n                  onChange={(e) => setNewTopic(prev => ({ ...prev, description: e.target.value }))}\r\n                  onKeyPress={handleKeyPress}\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2 justify-between\">\r\n                <div className=\"text-sm text-muted-foreground\">\r\n                   Enter     \r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button variant=\"outline\" onClick={() => setIsCreateDialogOpen(false)}>\r\n                    \r\n                  </Button>\r\n                  <Button onClick={handleCreateTopic}>\r\n                    \r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n        {topics.map((topic) => (\r\n          <Card key={topic.id}>\r\n            <CardHeader className=\"pb-3\">\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <CardTitle className=\"text-lg\">{topic.title}</CardTitle>\r\n                  {topic.description && (\r\n                    <CardDescription className=\"mt-1\">\r\n                      {topic.description}\r\n                    </CardDescription>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex gap-1\">\r\n                  <Button variant=\"ghost\" size=\"sm\">\r\n                    <Edit className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleDeleteTopic(topic.id)}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                   {topic.wordCount || 0}\r\n                </span>\r\n                <span className=\"text-xs text-muted-foreground\">\r\n                  {topic.createdAt ? new Date(topic.createdAt).toLocaleDateString() : 'N/A'}\r\n                </span>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n\r\n        {topics.length === 0 && (\r\n          <Card className=\"col-span-full\">\r\n            <CardContent className=\"flex flex-col items-center justify-center py-12\">\r\n              <BookOpen className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n              <h3 className=\"text-lg font-semibold mb-2\">  </h3>\r\n              <p className=\"text-muted-foreground text-center mb-4\">\r\n                     \r\n              </p>\r\n              <Button onClick={() => handleDialogOpen(true)}>\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                  \r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-previous/src/use-previous.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport {Check, ChevronDown, ChevronUp} from \"lucide-react\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Select = SelectPrimitive.Root\r\n\r\nconst SelectGroup = SelectPrimitive.Group\r\n\r\nconst SelectValue = SelectPrimitive.Value\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n))\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n))\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n))\r\nSelectScrollDownButton.displayName =\r\n  SelectPrimitive.ScrollDownButton.displayName\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => (\r\n  <SelectPrimitive.Portal>\r\n    <SelectPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        position === \"popper\" &&\r\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n        className\r\n      )}\r\n      position={position}\r\n      {...props}\r\n    >\r\n      <SelectScrollUpButton />\r\n      <SelectPrimitive.Viewport\r\n        className={cn(\r\n          \"p-1\",\r\n          position === \"popper\" &&\r\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\r\n        )}\r\n      >\r\n        {children}\r\n      </SelectPrimitive.Viewport>\r\n      <SelectScrollDownButton />\r\n    </SelectPrimitive.Content>\r\n  </SelectPrimitive.Portal>\r\n))\r\nSelectContent.displayName = SelectPrimitive.Content.displayName\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n))\r\nSelectItem.displayName = SelectPrimitive.Item.displayName\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n}","import {useCallback, useEffect, useRef, useState} from 'react'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Card, CardContent} from '@/components/ui/card'\r\nimport {Input} from '@/components/ui/input'\r\nimport {Label} from '@/components/ui/label'\r\nimport {Select, SelectContent, SelectItem, SelectTrigger, SelectValue} from '@/components/ui/select'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger\r\n} from '@/components/ui/dialog'\r\nimport {FileText, Plus} from 'lucide-react'\r\nimport {useToast} from '@/hooks/useToast'\r\nimport {type Subject, subjectService} from '@/api/subjectApi'\r\nimport {wordService} from '@/api/wordApi'\r\n\r\ninterface Answer {\r\n  id: number\r\n  text: string\r\n  topicId: number\r\n  topicTitle: string\r\n  createdAt?: string\r\n}\r\n\r\nexport function AnswerManagementSection() {\r\n  const [answers, setAnswers] = useState<Answer[]>([])\r\n  const [topics, setTopics] = useState<Subject[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\r\n  const [selectedTopicId, setSelectedTopicId] = useState<string>('')\r\n  const [newAnswer, setNewAnswer] = useState('')\r\n  const { toast } = useToast()\r\n  const answerInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      //    \r\n      const [subjectsResponse, wordsResponse] = await Promise.all([\r\n        subjectService.getSubjects(),\r\n        wordService.getWords()\r\n      ]);\r\n\r\n      setTopics(subjectsResponse.subjects || []);\r\n\r\n      // Word Answer     \r\n      const answersWithTopics = wordsResponse.words.map(word => ({\r\n        id: word.id,\r\n        text: word.content,\r\n        topicId: word.subjectId,\r\n        topicTitle: subjectsResponse.subjects.find(s => s.id === word.subjectId)?.name || 'Unknown',\r\n        createdAt: word.createdAt\r\n      }));\r\n      \r\n      setAnswers(answersWithTopics);\r\n    } catch (error) {\r\n      console.error('Failed to load data:', error);\r\n      toast({\r\n        title: \"  \",\r\n        description: \"      \",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [toast])\r\n\r\n  useEffect(() => {\r\n    loadData()\r\n  }, [loadData])\r\n\r\n  const handleCreateAnswer = async () => {\r\n    if (!newAnswer.trim()) {\r\n      toast({\r\n        title: \" \",\r\n        description: \" \",\r\n        variant: \"destructive\",\r\n      })\r\n      answerInputRef.current?.focus();\r\n      return\r\n    }\r\n\r\n    //   \r\n    if (!selectedTopicId) {\r\n      toast({\r\n        title: \" \",\r\n        description: \"    \",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    const selectedTopic = topics.find(t => t.id.toString() === selectedTopicId);\r\n    if (!selectedTopic) {\r\n      toast({\r\n        title: \"  \",\r\n        description: \"    \",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    try {\r\n      console.log('Submitting answer:', {\r\n        content: newAnswer.trim(),\r\n        subjectId: selectedTopic.id,\r\n        subjectName: selectedTopic.name\r\n      });\r\n      \r\n      // API    (  )\r\n      await wordService.createWord({\r\n        content: newAnswer.trim(),\r\n        subjectId: selectedTopic.id\r\n      });\r\n\r\n      const submittedAnswer = newAnswer.trim();\r\n      setNewAnswer('')\r\n      //       \r\n\r\n      //        \r\n      answerInputRef.current?.focus();\r\n\r\n      toast({\r\n        title: \" \",\r\n        description: `\"${submittedAnswer}\"  \"${selectedTopic.name}\"  .   .`,\r\n      })\r\n\r\n      //   (      )\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Answer submission error:', error);\r\n      let errorMessage = \"    \";\r\n      if (error instanceof Error) {\r\n        errorMessage = error.message;\r\n      }\r\n      \r\n      toast({\r\n        title: \"  \",\r\n        description: errorMessage,\r\n        variant: \"destructive\",\r\n      })\r\n    }\r\n  }\r\n\r\n  const getAnswerCountByTopic = (topicId: number) => {\r\n    return answers.filter(answer => answer.topicId === topicId).length\r\n  }\r\n\r\n  // Enter  \r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleCreateAnswer();\r\n    }\r\n  }\r\n\r\n  //      \r\n  const handleDialogOpen = (open: boolean) => {\r\n    setIsCreateDialogOpen(open);\r\n    if (open) {\r\n      setTimeout(() => answerInputRef.current?.focus(), 100);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\r\n            <FileText className=\"h-6 w-6\" />\r\n             \r\n          </h2>\r\n          <p className=\"text-muted-foreground\">       </p>\r\n        </div>\r\n\r\n        <Dialog open={isCreateDialogOpen} onOpenChange={handleDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n                \r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>  </DialogTitle>\r\n              <DialogDescription>\r\n                     (Enter  ).     .\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              {topics.length > 0 ? (\r\n                <div>\r\n                  <Label> </Label>\r\n                  <Select value={selectedTopicId} onValueChange={setSelectedTopicId}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\" \" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {topics.map(topic => (\r\n                        <SelectItem key={topic.id} value={topic.id.toString()}>\r\n                          {topic.name} ({getAnswerCountByTopic(topic.id)})\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              ) : (\r\n                <div className=\"p-4 border rounded-md bg-muted\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                       .   .\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <Label htmlFor=\"answer\"></Label>\r\n                <Input\r\n                  ref={answerInputRef}\r\n                  id=\"answer\"\r\n                  placeholder=\": , ,  \"\r\n                  value={newAnswer}\r\n                  onChange={(e) => setNewAnswer(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  autoFocus\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2 justify-between\">\r\n                <div className=\"text-sm text-muted-foreground\">\r\n                   Enter    \r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button variant=\"outline\" onClick={() => setIsCreateDialogOpen(false)}>\r\n                    \r\n                  </Button>\r\n                  <Button\r\n                    onClick={handleCreateAnswer}\r\n                    disabled={!selectedTopicId || !newAnswer.trim() || topics.length === 0}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      {/*    */}\r\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n        {loading ? (\r\n          <div className=\"col-span-full text-center py-8\">\r\n            <p className=\"text-muted-foreground\">  ...</p>\r\n          </div>\r\n        ) : topics.length === 0 ? (\r\n          <div className=\"col-span-full\">\r\n            <Card>\r\n              <CardContent className=\"flex flex-col items-center justify-center py-12\">\r\n                <FileText className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-lg font-semibold mb-2\"> </h3>\r\n                <p className=\"text-muted-foreground text-center\">\r\n                       \r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        ) : (\r\n          topics.map(topic => (\r\n            <Card key={topic.id}>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"text-center\">\r\n                  <h3 className=\"font-semibold\">{topic.name}</h3>\r\n                  <p className=\"text-2xl font-bold text-primary\">\r\n                    {getAnswerCountByTopic(topic.id)}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground\"> </p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import * as React from \"react\"\r\nimport {cva, type VariantProps} from \"class-variance-authority\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLSpanElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>(({ className, variant, ...props }, ref) => {\r\n  return (\r\n    <span ref={ref} className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n})\r\nBadge.displayName = \"Badge\"\r\n\r\nexport { Badge, badgeVariants }","\"use client\";\n\n// src/scroll-area.tsx\nimport * as React2 from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\n\n// src/use-state-machine.ts\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/scroll-area.tsx\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar SCROLL_AREA_NAME = \"ScrollArea\";\nvar [createScrollAreaContext, createScrollAreaScope] = createContextScope(SCROLL_AREA_NAME);\nvar [ScrollAreaProvider, useScrollAreaContext] = createScrollAreaContext(SCROLL_AREA_NAME);\nvar ScrollArea = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeScrollArea,\n      type = \"hover\",\n      dir,\n      scrollHideDelay = 600,\n      ...scrollAreaProps\n    } = props;\n    const [scrollArea, setScrollArea] = React2.useState(null);\n    const [viewport, setViewport] = React2.useState(null);\n    const [content, setContent] = React2.useState(null);\n    const [scrollbarX, setScrollbarX] = React2.useState(null);\n    const [scrollbarY, setScrollbarY] = React2.useState(null);\n    const [cornerWidth, setCornerWidth] = React2.useState(0);\n    const [cornerHeight, setCornerHeight] = React2.useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = React2.useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = React2.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setScrollArea(node));\n    const direction = useDirection(dir);\n    return /* @__PURE__ */ jsx(\n      ScrollAreaProvider,\n      {\n        scope: __scopeScrollArea,\n        type,\n        dir: direction,\n        scrollHideDelay,\n        scrollArea,\n        viewport,\n        onViewportChange: setViewport,\n        content,\n        onContentChange: setContent,\n        scrollbarX,\n        onScrollbarXChange: setScrollbarX,\n        scrollbarXEnabled,\n        onScrollbarXEnabledChange: setScrollbarXEnabled,\n        scrollbarY,\n        onScrollbarYChange: setScrollbarY,\n        scrollbarYEnabled,\n        onScrollbarYEnabledChange: setScrollbarYEnabled,\n        onCornerWidthChange: setCornerWidth,\n        onCornerHeightChange: setCornerHeight,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            ...scrollAreaProps,\n            ref: composedRefs,\n            style: {\n              position: \"relative\",\n              // Pass corner sizes as CSS vars to reduce re-renders of context consumers\n              [\"--radix-scroll-area-corner-width\"]: cornerWidth + \"px\",\n              [\"--radix-scroll-area-corner-height\"]: cornerHeight + \"px\",\n              ...props.style\n            }\n          }\n        )\n      }\n    );\n  }\n);\nScrollArea.displayName = SCROLL_AREA_NAME;\nvar VIEWPORT_NAME = \"ScrollAreaViewport\";\nvar ScrollAreaViewport = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, children, nonce, ...viewportProps } = props;\n    const context = useScrollAreaContext(VIEWPORT_NAME, __scopeScrollArea);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-scroll-area-viewport\": \"\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            /**\n             * We don't support `visible` because the intention is to have at least one scrollbar\n             * if this component is used and `visible` will behave like `auto` in that case\n             * https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#description\n             *\n             * We don't handle `auto` because the intention is for the native implementation\n             * to be hidden if using this component. We just want to ensure the node is scrollable\n             * so could have used either `scroll` or `auto` here. We picked `scroll` to prevent\n             * the browser from having to work out whether to render native scrollbars or not,\n             * we tell it to with the intention of hiding them in CSS.\n             */\n            overflowX: context.scrollbarXEnabled ? \"scroll\" : \"hidden\",\n            overflowY: context.scrollbarYEnabled ? \"scroll\" : \"hidden\",\n            ...props.style\n          },\n          children: /* @__PURE__ */ jsx(\"div\", { ref: context.onContentChange, style: { minWidth: \"100%\", display: \"table\" }, children })\n        }\n      )\n    ] });\n  }\n);\nScrollAreaViewport.displayName = VIEWPORT_NAME;\nvar SCROLLBAR_NAME = \"ScrollAreaScrollbar\";\nvar ScrollAreaScrollbar = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { onScrollbarXEnabledChange, onScrollbarYEnabledChange } = context;\n    const isHorizontal = props.orientation === \"horizontal\";\n    React2.useEffect(() => {\n      isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n      return () => {\n        isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n      };\n    }, [isHorizontal, onScrollbarXEnabledChange, onScrollbarYEnabledChange]);\n    return context.type === \"hover\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarHover, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"scroll\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarScroll, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"auto\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarAuto, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"always\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarVisible, { ...scrollbarProps, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaScrollbar.displayName = SCROLLBAR_NAME;\nvar ScrollAreaScrollbarHover = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [visible, setVisible] = React2.useState(false);\n  React2.useEffect(() => {\n    const scrollArea = context.scrollArea;\n    let hideTimer = 0;\n    if (scrollArea) {\n      const handlePointerEnter = () => {\n        window.clearTimeout(hideTimer);\n        setVisible(true);\n      };\n      const handlePointerLeave = () => {\n        hideTimer = window.setTimeout(() => setVisible(false), context.scrollHideDelay);\n      };\n      scrollArea.addEventListener(\"pointerenter\", handlePointerEnter);\n      scrollArea.addEventListener(\"pointerleave\", handlePointerLeave);\n      return () => {\n        window.clearTimeout(hideTimer);\n        scrollArea.removeEventListener(\"pointerenter\", handlePointerEnter);\n        scrollArea.removeEventListener(\"pointerleave\", handlePointerLeave);\n      };\n    }\n  }, [context.scrollArea, context.scrollHideDelay]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarAuto,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarScroll = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const debounceScrollEnd = useDebounceCallback(() => send(\"SCROLL_END\"), 100);\n  const [state, send] = useStateMachine(\"hidden\", {\n    hidden: {\n      SCROLL: \"scrolling\"\n    },\n    scrolling: {\n      SCROLL_END: \"idle\",\n      POINTER_ENTER: \"interacting\"\n    },\n    interacting: {\n      SCROLL: \"interacting\",\n      POINTER_LEAVE: \"idle\"\n    },\n    idle: {\n      HIDE: \"hidden\",\n      SCROLL: \"scrolling\",\n      POINTER_ENTER: \"interacting\"\n    }\n  });\n  React2.useEffect(() => {\n    if (state === \"idle\") {\n      const hideTimer = window.setTimeout(() => send(\"HIDE\"), context.scrollHideDelay);\n      return () => window.clearTimeout(hideTimer);\n    }\n  }, [state, context.scrollHideDelay, send]);\n  React2.useEffect(() => {\n    const viewport = context.viewport;\n    const scrollDirection = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n    if (viewport) {\n      let prevScrollPos = viewport[scrollDirection];\n      const handleScroll = () => {\n        const scrollPos = viewport[scrollDirection];\n        const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n        if (hasScrollInDirectionChanged) {\n          send(\"SCROLL\");\n          debounceScrollEnd();\n        }\n        prevScrollPos = scrollPos;\n      };\n      viewport.addEventListener(\"scroll\", handleScroll);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, [context.viewport, isHorizontal, send, debounceScrollEnd]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || state !== \"hidden\", children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": state === \"hidden\" ? \"hidden\" : \"visible\",\n      ...scrollbarProps,\n      ref: forwardedRef,\n      onPointerEnter: composeEventHandlers(props.onPointerEnter, () => send(\"POINTER_ENTER\")),\n      onPointerLeave: composeEventHandlers(props.onPointerLeave, () => send(\"POINTER_LEAVE\"))\n    }\n  ) });\n});\nvar ScrollAreaScrollbarAuto = React2.forwardRef((props, forwardedRef) => {\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const { forceMount, ...scrollbarProps } = props;\n  const [visible, setVisible] = React2.useState(false);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const handleResize = useDebounceCallback(() => {\n    if (context.viewport) {\n      const isOverflowX = context.viewport.offsetWidth < context.viewport.scrollWidth;\n      const isOverflowY = context.viewport.offsetHeight < context.viewport.scrollHeight;\n      setVisible(isHorizontal ? isOverflowX : isOverflowY);\n    }\n  }, 10);\n  useResizeObserver(context.viewport, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarVisible = React2.forwardRef((props, forwardedRef) => {\n  const { orientation = \"vertical\", ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const thumbRef = React2.useRef(null);\n  const pointerOffsetRef = React2.useRef(0);\n  const [sizes, setSizes] = React2.useState({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 }\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n  const commonProps = {\n    ...scrollbarProps,\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => thumbRef.current = thumb,\n    onThumbPointerUp: () => pointerOffsetRef.current = 0,\n    onThumbPointerDown: (pointerPos) => pointerOffsetRef.current = pointerPos\n  };\n  function getScrollPosition(pointerPos, dir) {\n    return getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, dir);\n  }\n  if (orientation === \"horizontal\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarX,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, context.dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, context.dir);\n          }\n        }\n      }\n    );\n  }\n  if (orientation === \"vertical\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarY,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollTop = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }\n      }\n    );\n  }\n  return null;\n});\nvar ScrollAreaScrollbarX = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarXChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"horizontal\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        bottom: 0,\n        left: context.dir === \"rtl\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        right: context.dir === \"ltr\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        [\"--radix-scroll-area-thumb-width\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.x),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.x),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollLeft + event.deltaX;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollWidth,\n            viewport: context.viewport.offsetWidth,\n            scrollbar: {\n              size: ref.current.clientWidth,\n              paddingStart: toInt(computedStyle.paddingLeft),\n              paddingEnd: toInt(computedStyle.paddingRight)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar ScrollAreaScrollbarY = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarYChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"vertical\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        top: 0,\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: \"var(--radix-scroll-area-corner-height)\",\n        [\"--radix-scroll-area-thumb-height\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.y),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.y),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollTop + event.deltaY;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollHeight,\n            viewport: context.viewport.offsetHeight,\n            scrollbar: {\n              size: ref.current.clientHeight,\n              paddingStart: toInt(computedStyle.paddingTop),\n              paddingEnd: toInt(computedStyle.paddingBottom)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar [ScrollbarProvider, useScrollbarContext] = createScrollAreaContext(SCROLLBAR_NAME);\nvar ScrollAreaScrollbarImpl = React2.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeScrollArea,\n    sizes,\n    hasThumb,\n    onThumbChange,\n    onThumbPointerUp,\n    onThumbPointerDown,\n    onThumbPositionChange,\n    onDragScroll,\n    onWheelScroll,\n    onResize,\n    ...scrollbarProps\n  } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, __scopeScrollArea);\n  const [scrollbar, setScrollbar] = React2.useState(null);\n  const composeRefs = useComposedRefs(forwardedRef, (node) => setScrollbar(node));\n  const rectRef = React2.useRef(null);\n  const prevWebkitUserSelectRef = React2.useRef(\"\");\n  const viewport = context.viewport;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const handleWheelScroll = useCallbackRef(onWheelScroll);\n  const handleThumbPositionChange = useCallbackRef(onThumbPositionChange);\n  const handleResize = useDebounceCallback(onResize, 10);\n  function handleDragScroll(event) {\n    if (rectRef.current) {\n      const x = event.clientX - rectRef.current.left;\n      const y = event.clientY - rectRef.current.top;\n      onDragScroll({ x, y });\n    }\n  }\n  React2.useEffect(() => {\n    const handleWheel = (event) => {\n      const element = event.target;\n      const isScrollbarWheel = scrollbar?.contains(element);\n      if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n    };\n    document.addEventListener(\"wheel\", handleWheel, { passive: false });\n    return () => document.removeEventListener(\"wheel\", handleWheel, { passive: false });\n  }, [viewport, scrollbar, maxScrollPos, handleWheelScroll]);\n  React2.useEffect(handleThumbPositionChange, [sizes, handleThumbPositionChange]);\n  useResizeObserver(scrollbar, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(\n    ScrollbarProvider,\n    {\n      scope: __scopeScrollArea,\n      scrollbar,\n      hasThumb,\n      onThumbChange: useCallbackRef(onThumbChange),\n      onThumbPointerUp: useCallbackRef(onThumbPointerUp),\n      onThumbPositionChange: handleThumbPositionChange,\n      onThumbPointerDown: useCallbackRef(onThumbPointerDown),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          ...scrollbarProps,\n          ref: composeRefs,\n          style: { position: \"absolute\", ...scrollbarProps.style },\n          onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n            const mainPointer = 0;\n            if (event.button === mainPointer) {\n              const element = event.target;\n              element.setPointerCapture(event.pointerId);\n              rectRef.current = scrollbar.getBoundingClientRect();\n              prevWebkitUserSelectRef.current = document.body.style.webkitUserSelect;\n              document.body.style.webkitUserSelect = \"none\";\n              if (context.viewport) context.viewport.style.scrollBehavior = \"auto\";\n              handleDragScroll(event);\n            }\n          }),\n          onPointerMove: composeEventHandlers(props.onPointerMove, handleDragScroll),\n          onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n            const element = event.target;\n            if (element.hasPointerCapture(event.pointerId)) {\n              element.releasePointerCapture(event.pointerId);\n            }\n            document.body.style.webkitUserSelect = prevWebkitUserSelectRef.current;\n            if (context.viewport) context.viewport.style.scrollBehavior = \"\";\n            rectRef.current = null;\n          })\n        }\n      )\n    }\n  );\n});\nvar THUMB_NAME = \"ScrollAreaThumb\";\nvar ScrollAreaThumb = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...thumbProps } = props;\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, props.__scopeScrollArea);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || scrollbarContext.hasThumb, children: /* @__PURE__ */ jsx(ScrollAreaThumbImpl, { ref: forwardedRef, ...thumbProps }) });\n  }\n);\nvar ScrollAreaThumbImpl = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, style, ...thumbProps } = props;\n    const scrollAreaContext = useScrollAreaContext(THUMB_NAME, __scopeScrollArea);\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, __scopeScrollArea);\n    const { onThumbPositionChange } = scrollbarContext;\n    const composedRef = useComposedRefs(\n      forwardedRef,\n      (node) => scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = React2.useRef(void 0);\n    const debounceScrollEnd = useDebounceCallback(() => {\n      if (removeUnlinkedScrollListenerRef.current) {\n        removeUnlinkedScrollListenerRef.current();\n        removeUnlinkedScrollListenerRef.current = void 0;\n      }\n    }, 100);\n    React2.useEffect(() => {\n      const viewport = scrollAreaContext.viewport;\n      if (viewport) {\n        const handleScroll = () => {\n          debounceScrollEnd();\n          if (!removeUnlinkedScrollListenerRef.current) {\n            const listener = addUnlinkedScrollListener(viewport, onThumbPositionChange);\n            removeUnlinkedScrollListenerRef.current = listener;\n            onThumbPositionChange();\n          }\n        };\n        onThumbPositionChange();\n        viewport.addEventListener(\"scroll\", handleScroll);\n        return () => viewport.removeEventListener(\"scroll\", handleScroll);\n      }\n    }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": scrollbarContext.hasThumb ? \"visible\" : \"hidden\",\n        ...thumbProps,\n        ref: composedRef,\n        style: {\n          width: \"var(--radix-scroll-area-thumb-width)\",\n          height: \"var(--radix-scroll-area-thumb-height)\",\n          ...style\n        },\n        onPointerDownCapture: composeEventHandlers(props.onPointerDownCapture, (event) => {\n          const thumb = event.target;\n          const thumbRect = thumb.getBoundingClientRect();\n          const x = event.clientX - thumbRect.left;\n          const y = event.clientY - thumbRect.top;\n          scrollbarContext.onThumbPointerDown({ x, y });\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)\n      }\n    );\n  }\n);\nScrollAreaThumb.displayName = THUMB_NAME;\nvar CORNER_NAME = \"ScrollAreaCorner\";\nvar ScrollAreaCorner = React2.forwardRef(\n  (props, forwardedRef) => {\n    const context = useScrollAreaContext(CORNER_NAME, props.__scopeScrollArea);\n    const hasBothScrollbarsVisible = Boolean(context.scrollbarX && context.scrollbarY);\n    const hasCorner = context.type !== \"scroll\" && hasBothScrollbarsVisible;\n    return hasCorner ? /* @__PURE__ */ jsx(ScrollAreaCornerImpl, { ...props, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaCorner.displayName = CORNER_NAME;\nvar ScrollAreaCornerImpl = React2.forwardRef((props, forwardedRef) => {\n  const { __scopeScrollArea, ...cornerProps } = props;\n  const context = useScrollAreaContext(CORNER_NAME, __scopeScrollArea);\n  const [width, setWidth] = React2.useState(0);\n  const [height, setHeight] = React2.useState(0);\n  const hasSize = Boolean(width && height);\n  useResizeObserver(context.scrollbarX, () => {\n    const height2 = context.scrollbarX?.offsetHeight || 0;\n    context.onCornerHeightChange(height2);\n    setHeight(height2);\n  });\n  useResizeObserver(context.scrollbarY, () => {\n    const width2 = context.scrollbarY?.offsetWidth || 0;\n    context.onCornerWidthChange(width2);\n    setWidth(width2);\n  });\n  return hasSize ? /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      ...cornerProps,\n      ref: forwardedRef,\n      style: {\n        width,\n        height,\n        position: \"absolute\",\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: 0,\n        ...props.style\n      }\n    }\n  ) : null;\n});\nfunction toInt(value) {\n  return value ? parseInt(value, 10) : 0;\n}\nfunction getThumbRatio(viewportSize, contentSize) {\n  const ratio = viewportSize / contentSize;\n  return isNaN(ratio) ? 0 : ratio;\n}\nfunction getThumbSize(sizes) {\n  const ratio = getThumbRatio(sizes.viewport, sizes.content);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio;\n  return Math.max(thumbSize, 18);\n}\nfunction getScrollPositionFromPointer(pointerPos, pointerOffset, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const thumbCenter = thumbSizePx / 2;\n  const offset = pointerOffset || thumbCenter;\n  const thumbOffsetFromEnd = thumbSizePx - offset;\n  const minPointerPos = sizes.scrollbar.paddingStart + offset;\n  const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const scrollRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const interpolate = linearScale([minPointerPos, maxPointerPos], scrollRange);\n  return interpolate(pointerPos);\n}\nfunction getThumbOffsetFromScroll(scrollPos, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const maxThumbPos = scrollbar - thumbSizePx;\n  const scrollClampRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const scrollWithoutMomentum = clamp(scrollPos, scrollClampRange);\n  const interpolate = linearScale([0, maxScrollPos], [0, maxThumbPos]);\n  return interpolate(scrollWithoutMomentum);\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos) {\n  return scrollPos > 0 && scrollPos < maxScrollPos;\n}\nvar addUnlinkedScrollListener = (node, handler = () => {\n}) => {\n  let prevPosition = { left: node.scrollLeft, top: node.scrollTop };\n  let rAF = 0;\n  (function loop() {\n    const position = { left: node.scrollLeft, top: node.scrollTop };\n    const isHorizontalScroll = prevPosition.left !== position.left;\n    const isVerticalScroll = prevPosition.top !== position.top;\n    if (isHorizontalScroll || isVerticalScroll) handler();\n    prevPosition = position;\n    rAF = window.requestAnimationFrame(loop);\n  })();\n  return () => window.cancelAnimationFrame(rAF);\n};\nfunction useDebounceCallback(callback, delay) {\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = React2.useRef(0);\n  React2.useEffect(() => () => window.clearTimeout(debounceTimerRef.current), []);\n  return React2.useCallback(() => {\n    window.clearTimeout(debounceTimerRef.current);\n    debounceTimerRef.current = window.setTimeout(handleCallback, delay);\n  }, [handleCallback, delay]);\n}\nfunction useResizeObserver(element, onResize) {\n  const handleResize = useCallbackRef(onResize);\n  useLayoutEffect(() => {\n    let rAF = 0;\n    if (element) {\n      const resizeObserver = new ResizeObserver(() => {\n        cancelAnimationFrame(rAF);\n        rAF = window.requestAnimationFrame(handleResize);\n      });\n      resizeObserver.observe(element);\n      return () => {\n        window.cancelAnimationFrame(rAF);\n        resizeObserver.unobserve(element);\n      };\n    }\n  }, [element, handleResize]);\n}\nvar Root = ScrollArea;\nvar Viewport = ScrollAreaViewport;\nvar Scrollbar = ScrollAreaScrollbar;\nvar Thumb = ScrollAreaThumb;\nvar Corner = ScrollAreaCorner;\nexport {\n  Corner,\n  Root,\n  ScrollArea,\n  ScrollAreaCorner,\n  ScrollAreaScrollbar,\n  ScrollAreaThumb,\n  ScrollAreaViewport,\n  Scrollbar,\n  Thumb,\n  Viewport,\n  createScrollAreaScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }","import type {ReactNode} from 'react'\r\nimport {createContext, useCallback, useContext, useEffect, useState} from 'react'\r\n\r\ninterface ModalContextType {\r\n  activeModals: Set<string>\r\n  isAnyModalOpen: boolean\r\n  registerModal: (modalId: string) => void\r\n  unregisterModal: (modalId: string) => void\r\n  preventNavigation: boolean\r\n}\r\n\r\nconst ModalContext = createContext<ModalContextType | undefined>(undefined)\r\n\r\ninterface ModalProviderProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport function ModalProvider({ children }: ModalProviderProps) {\r\n  const [activeModals, setActiveModals] = useState<Set<string>>(new Set())\r\n\r\n  const registerModal = useCallback((modalId: string) => {\r\n    setActiveModals(prev => {\r\n      if (prev.has(modalId)) {\r\n        console.warn(`[ModalProvider] Modal ${modalId} already registered`)\r\n        return prev\r\n      }\r\n\r\n      const newSet = new Set(prev)\r\n      newSet.add(modalId)\r\n\r\n      console.log(`[ModalProvider]  Modal registered: ${modalId}`, {\r\n        modalId,\r\n        activeCount: newSet.size,\r\n        allActiveModals: Array.from(newSet),\r\n        timestamp: new Date().toISOString(),\r\n        stack: new Error().stack?.split('\\n').slice(2, 5).join('\\n')\r\n      })\r\n\r\n      // Log navigation prevention status\r\n      if (newSet.size === 1) {\r\n        console.log(`[ModalProvider]  Navigation prevention ACTIVATED`)\r\n      }\r\n\r\n      return newSet\r\n    })\r\n  }, [])\r\n\r\n  const unregisterModal = useCallback((modalId: string) => {\r\n    setActiveModals(prev => {\r\n      if (!prev.has(modalId)) {\r\n        console.warn(`[ModalProvider] Attempted to unregister non-existent modal: ${modalId}`)\r\n        return prev\r\n      }\r\n\r\n      const newSet = new Set(prev)\r\n      newSet.delete(modalId)\r\n\r\n      console.log(`[ModalProvider]  Modal unregistered: ${modalId}`, {\r\n        modalId,\r\n        activeCount: newSet.size,\r\n        remainingModals: Array.from(newSet),\r\n        timestamp: new Date().toISOString()\r\n      })\r\n\r\n      // Log navigation prevention status\r\n      if (newSet.size === 0) {\r\n        console.log(`[ModalProvider]  Navigation prevention DEACTIVATED`)\r\n      }\r\n\r\n      return newSet\r\n    })\r\n  }, [])\r\n\r\n  const isAnyModalOpen = activeModals.size > 0\r\n  const preventNavigation = isAnyModalOpen\r\n\r\n  const value: ModalContextType = {\r\n    activeModals,\r\n    isAnyModalOpen,\r\n    registerModal,\r\n    unregisterModal,\r\n    preventNavigation\r\n  }\r\n\r\n  return <ModalContext.Provider value={value}>{children}</ModalContext.Provider>\r\n}\r\n\r\nexport function useModal() {\r\n  const context = useContext(ModalContext)\r\n  if (context === undefined) {\r\n    throw new Error('useModal must be used within a ModalProvider')\r\n  }\r\n  return context\r\n}\r\n\r\n// Hook for modal components to automatically register/unregister\r\nexport function useModalRegistration(modalId: string, isOpen: boolean) {\r\n  const { registerModal, unregisterModal } = useModal()\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      registerModal(modalId)\r\n      return () => unregisterModal(modalId)\r\n    }\r\n    // When isOpen is false, we don't need to do anything\r\n    // The cleanup will handle unregistration when needed\r\n  }, [isOpen, modalId, registerModal, unregisterModal])\r\n}","import {create} from 'zustand';\r\nimport {devtools, persist} from 'zustand/middleware';\r\nimport {gameService} from '../api/gameApi';\r\nimport {useAuthStore} from './authStore';\r\nimport type {\r\n    CreateGameRequest,\r\n    GameMode,\r\n    GamePhase as BackendGamePhase,\r\n    GameState as BackendGameState,\r\n    GameStateResponse,\r\n} from '../types/backendTypes';\r\nimport type {FrontendPlayer} from '../types';\r\nimport type {GameRoomInfo, JoinGameRequest} from '../types/api';\r\nimport type {ChatMessage, ChatMessageType, GameEvent, ScoreEntry} from '../types/realtime';\r\n\r\nexport type RoundUxStage = 'waiting' | 'speech' | 'debate' | 'vote' | 'results';\r\n\r\nexport interface RoundSummaryEntry {\r\n  round: number;\r\n  topic: string | null;\r\n  suspectedPlayerId?: string | null;\r\n  scoreboard: Array<{\r\n    playerId: string;\r\n    nickname: string;\r\n    score: number;\r\n    isAlive: boolean;\r\n  }>;\r\n  winningTeam?: 'CITIZENS' | 'LIARS' | 'UNKNOWN';\r\n  concludedAt: number;\r\n}\r\n\r\n// Unified Player interface\r\nexport interface Player extends FrontendPlayer {\r\n  score: number;\r\n}\r\n\r\n// Game Timer interface\r\nexport interface GameTimer {\r\n  isActive: boolean;\r\n  timeRemaining: number;\r\n  totalTime: number;\r\n  phase: string;\r\n}\r\n\r\n// Voting State interface\r\nexport interface VotingState {\r\n  isActive: boolean;\r\n  phase: 'LIAR_VOTE' | 'SURVIVAL_VOTE' | null;\r\n  votes: Record<string, string>;\r\n  targetPlayerId?: string;\r\n  results?: {\r\n    votes: Record<string, number>;\r\n    actualLiar?: string;\r\n    winners?: string[];\r\n  };\r\n}\r\n\r\n// Game Results interface\r\nexport interface GameResults {\r\n  liarId: string;\r\n  liarName: string;\r\n  topic: string;\r\n  votes: Record<string, number>;\r\n  liarWon: boolean;\r\n  roundScores: Record<string, number>;\r\n}\r\n\r\n// Hint interface\r\nexport interface Hint {\r\n  playerId: string;\r\n  playerName: string;\r\n  hint: string;\r\n  timestamp: number;\r\n}\r\n\r\n// Vote interface\r\nexport interface Vote {\r\n  voterId: string;\r\n  voterName: string;\r\n  targetId: string;\r\n  targetName: string;\r\n}\r\n\r\n// Defense interface\r\nexport interface Defense {\r\n  defenderId: string;\r\n  defenderName: string;\r\n  defense: string;\r\n  timestamp: number;\r\n}\r\n\r\n\r\n\r\nconst CHAT_MESSAGE_LIMIT = 200;\r\nconst CHAT_TYPES: readonly ChatMessageType[] = ['DISCUSSION', 'HINT', 'DEFENSE', 'SYSTEM', 'POST_ROUND', 'WAITING_ROOM', 'GENERAL'] as const;\r\n\r\nconst normalizeChatType = (value: unknown): ChatMessageType => {\r\n  if (typeof value === 'string') {\r\n    const normalized = value.trim().toUpperCase();\r\n    if ((CHAT_TYPES as readonly string[]).includes(normalized)) {\r\n      return normalized as ChatMessageType;\r\n    }\r\n    if (normalized === 'ANNOUNCEMENT' || normalized === 'NOTICE') {\r\n      return 'SYSTEM';\r\n    }\r\n  }\r\n  return 'DISCUSSION';\r\n};\r\n\r\nconst toFiniteNumber = (value: unknown): number | null => {\r\n  if (typeof value === 'number' && Number.isFinite(value)) {\r\n    return value;\r\n  }\r\n  if (typeof value === 'string') {\r\n    const parsed = Number.parseInt(value, 10);\r\n    if (!Number.isNaN(parsed)) {\r\n      return parsed;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nconst toOptionalString = (value: unknown): string | null => {\r\n  if (typeof value === 'string') {\r\n    const trimmed = value.trim();\r\n    return trimmed.length > 0 ? trimmed : null;\r\n  }\r\n  if (typeof value === 'number' && Number.isFinite(value)) {\r\n    return value.toString();\r\n  }\r\n  return null;\r\n};\r\n\r\nconst resolvePlayerByIdentifiers = (players: Player[], identifiers: Array<string | number | null | undefined>): Player | undefined => {\r\n  for (const identifier of identifiers) {\r\n    if (identifier == null) {\r\n      continue;\r\n    }\r\n    const normalized = typeof identifier === 'number' ? identifier.toString() : identifier;\r\n    const match = players.find((player) => {\r\n      if (player.id === normalized) return true;\r\n      if (player.userId != null && player.userId.toString() === normalized) return true;\r\n      if (player.nickname === normalized) return true;\r\n      return false;\r\n    });\r\n    if (match) {\r\n      return match;\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst normalizeChatMessage = (\r\n  rawMessage: Partial<ChatMessage> | Record<string, unknown>,\r\n  players: Player[],\r\n  defaultGameNumber: number | null\r\n): ChatMessage => {\r\n  const candidate = rawMessage as Record<string, unknown>;\r\n\r\n  const type = normalizeChatType(candidate['type'] ?? candidate['messageType'] ?? candidate['category']);\r\n  const timestamp = toFiniteNumber(candidate['timestamp'] ?? candidate['createdAt'] ?? candidate['time']) ?? Date.now();\r\n  const rawGameNumber = toFiniteNumber(candidate['gameNumber'] ?? candidate['gameId'] ?? candidate['roomId']);\r\n  const gameNumber = rawGameNumber ?? (defaultGameNumber ?? 0);\r\n\r\n  const userId = toFiniteNumber(candidate['userId'] ?? candidate['playerUserId'] ?? candidate['senderUserId']) ?? undefined;\r\n  const rawPlayerId = toOptionalString(candidate['playerId'] ?? candidate['playerID'] ?? candidate['playerUuid'] ?? candidate['senderId']);\r\n  const rawNickname = toOptionalString(\r\n    candidate['playerNickname']\r\n    ?? candidate['playerNicknameSnapshot']\r\n    ?? candidate['playerName']\r\n    ?? candidate['nickname']\r\n  );\r\n  const content = toOptionalString(candidate['content'] ?? candidate['message'] ?? candidate['body'] ?? '') ?? '';\r\n\r\n  const fallbackIdPart = rawPlayerId ?? (typeof userId === 'number' ? userId.toString() : type);\r\n  const id =\r\n    toOptionalString(candidate['id'] ?? candidate['messageId'] ?? candidate['eventId'] ?? candidate['uuid'])\r\n    ?? `${gameNumber}-${timestamp}-${fallbackIdPart}`;\r\n\r\n  const resolvedPlayer = resolvePlayerByIdentifiers(players, [rawPlayerId, rawNickname, userId]);\r\n\r\n  const playerId = resolvedPlayer?.id ?? rawPlayerId ?? (typeof userId === 'number' ? userId.toString() : undefined);\r\n  const nickname =\r\n    resolvedPlayer?.nickname\r\n    ?? rawNickname\r\n    ?? (type === 'SYSTEM' ? 'SYSTEM' : ` ${playerId ?? (typeof userId === 'number' ? userId : '?')}`);\r\n\r\n  return {\r\n    id: id.toString(),\r\n    gameNumber,\r\n    playerId: playerId ?? undefined,\r\n    userId,\r\n    playerNickname: nickname,\r\n    nickname,\r\n    playerName: resolvedPlayer?.nickname ?? rawNickname ?? undefined,\r\n    content,\r\n    message: content,\r\n    gameId: toOptionalString(candidate['gameId']) ?? (gameNumber ? gameNumber.toString() : undefined),\r\n    roomId: toOptionalString(candidate['roomId'] ?? candidate['channelId'] ?? candidate['topic']) ?? undefined,\r\n    timestamp,\r\n    type,\r\n  };\r\n};\r\n\r\nconst mergeChatMessages = (existing: ChatMessage[], next: ChatMessage[]): ChatMessage[] => {\r\n  if (!next.length) {\r\n    return existing;\r\n  }\r\n  const map = new Map<string, ChatMessage>();\r\n  for (const message of existing) {\r\n    map.set(message.id, message);\r\n  }\r\n  for (const message of next) {\r\n    map.set(message.id, message);\r\n  }\r\n  return Array.from(map.values())\r\n    .sort((a, b) => a.timestamp - b.timestamp)\r\n    .slice(-CHAT_MESSAGE_LIMIT);\r\n};\r\n\r\n\r\n// Main Game State interface\r\nexport interface GameState {\r\n  // Session Management\r\n  gameId: string | null;\r\n  gameNumber: number | null;\r\n  sessionCode: string | null;\r\n  players: Player[];\r\n  currentPlayer: Player | null;\r\n\r\n  // Game Configuration\r\n  maxPlayers: number;\r\n  timeLimit: number;\r\n  currentRound: number;\r\n  totalRounds: number;\r\n  gameMode: GameMode | null;\r\n\r\n  // Game Flow\r\n  gamePhase: 'WAITING_FOR_PLAYERS' | 'SPEECH' | 'VOTING_FOR_LIAR' | 'DEFENDING' | 'VOTING_FOR_SURVIVAL' | 'GUESSING_WORD' | 'GAME_OVER';\r\n  currentTurnPlayerId?: string;\r\n  turnOrder: string[];\r\n\r\n  // Game Content\r\n  currentTopic: string | null;\r\n  currentWord: string | null;\r\n  currentLiar: string | null;\r\n  isLiar: boolean;\r\n\r\n  // Game Data\r\n  hints: Hint[];\r\n  votes: Vote[];\r\n  defenses: Defense[];\r\n  userVote: string | null;\r\n  gameResults: GameResults[] | null;\r\n  scores: Record<string, number>;\r\n\r\n  // Real-time Features\r\n  timer: GameTimer;\r\n  voting: VotingState;\r\n  chatMessages: ChatMessage[];\r\n  chatLoading: boolean;\r\n  chatError: string | null;\r\n  typingPlayers: Set<string>;\r\n\r\n  // Connection State\r\n  isConnected: boolean;\r\n  connectionError: string | null;\r\n  reconnectAttempts: number;\r\n\r\n  // UI State\r\n  isLoading: boolean;\r\n  error: string | null;\r\n\r\n  // Round UX State\r\n  roundStage: RoundUxStage;\r\n  roundStageEnteredAt: number | null;\r\n  roundHasStarted: boolean;\r\n  roundSummaries: RoundSummaryEntry[];\r\n  currentRoundSummary: RoundSummaryEntry | null;\r\n\r\n  // Game List Management\r\n  gameList: GameRoomInfo[];\r\n  gameListLoading: boolean;\r\n  gameListError: string | null;\r\n  availableGameModes: GameMode[];\r\n  currentGameState: GameStateResponse | null;\r\n}\r\n\r\n// Actions interface\r\ninterface GameActions {\r\n  // Session Actions\r\n  setGameId: (gameId: string) => void;\r\n  setGameNumber: (gameNumber: number) => void;\r\n  setSessionCode: (code: string) => void;\r\n  setCurrentPlayer: (player: Player) => void;\r\n  \r\n  // Player Management\r\n  updatePlayers: (players: Player[]) => void;\r\n  addPlayer: (player: Player) => void;\r\n  removePlayer: (playerId: string) => void;\r\n  updatePlayer: (playerId: string, updates: Partial<Player>) => void;\r\n\r\n  // Game Flow\r\n  setGamePhase: (phase: GameState['gamePhase']) => void;\r\n  setGameMode: (mode: GameMode) => void;\r\n  setCurrentTopic: (topic: string) => void;\r\n  setCurrentWord: (word: string) => void;\r\n  setCurrentLiar: (liarId: string) => void;\r\n  setIsLiar: (isLiar: boolean) => void;\r\n  setCurrentTurnPlayer: (playerId: string) => void;\r\n  setTurnOrder: (order: string[]) => void;\r\n\r\n  // Game Data\r\n  addHint: (playerId: string, playerName: string, hint: string) => void;\r\n  addVote: (voterId: string, voterName: string, targetId: string, targetName: string) => void;\r\n  addDefense: (defenderId: string, defenderName: string, defense: string) => void;\r\n  setUserVote: (vote: string) => void;\r\n  setGameResults: (results: GameResults[]) => void;\r\n  \r\n  // Score Management\r\n  setScore: (playerId: string, score: number) => void;\r\n  addScore: (playerId: string, delta: number) => void;\r\n  resetScores: () => void;\r\n\r\n  // Timer Management\r\n  updateTimer: (timer: Partial<GameTimer>) => void;\r\n  startTimer: (totalTime: number, phase: string) => void;\r\n  stopTimer: () => void;\r\n\r\n  // Voting Management\r\n  startVoting: (phase: 'LIAR_VOTE' | 'SURVIVAL_VOTE', targetPlayerId?: string) => void;\r\n  stopVoting: () => void;\r\n  castVote: (playerId: string, targetId: string) => void;\r\n  setVotingResults: (results: VotingState['results']) => void;\r\n\r\n  // Chat Management\r\n  addChatMessage: (message: ChatMessage) => void;\r\n  setChatMessages: (messages: ChatMessage[]) => void;\r\n  ingestChatMessage: (message: Partial<ChatMessage> | Record<string, unknown>) => void;\r\n  loadChatHistory: (limit?: number) => Promise<ChatMessage[]>;\r\n  sendChatMessage: (message: string, type?: ChatMessageType) => Promise<void>;\r\n  clearChat: () => void;\r\n\r\n  // Typing Indicators\r\n  addTypingPlayer: (playerId: string) => void;\r\n  removeTypingPlayer: (playerId: string) => void;\r\n  clearTypingPlayers: () => void;\r\n\r\n  // Connection Management\r\n  setConnectionState: (connected: boolean) => void;\r\n  setConnectionError: (error: string | null) => void;\r\n  setReconnectAttempts: (attempts: number) => void;\r\n  connectWebSocket: () => Promise<void>;\r\n  disconnectWebSocket: () => void;\r\n\r\n  // UI State\r\n  setLoading: (loading: boolean) => void;\r\n  setError: (error: string | null) => void;\r\n\r\n  // Game List Management\r\n  fetchGameList: (page?: number, size?: number) => Promise<void>;\r\n  setGameList: (games: GameRoomInfo[]) => void;\r\n  setGameListLoading: (loading: boolean) => void;\r\n  setGameListError: (error: string | null) => void;\r\n\r\n  // Game Mode Management\r\n  fetchGameModes: () => Promise<void>;\r\n  setAvailableGameModes: (modes: GameMode[]) => void;\r\n\r\n  // API Actions\r\n  createGame: (gameData: CreateGameRequest) => Promise<GameStateResponse>;\r\n  joinGame: (joinData: JoinGameRequest) => Promise<GameStateResponse>;\r\n  leaveGame: () => Promise<void>;\r\n  startGame: () => Promise<void>;\r\n  toggleReady: () => Promise<void>;\r\n  refreshGameState: () => Promise<void>;\r\n  \r\n  // State Synchronization\r\n  setCurrentGameState: (state: GameStateResponse) => void;\r\n  updateFromGameState: (gameState: GameStateResponse) => void;\r\n\r\n  // Event Handlers\r\n  handleGameEvent: (event: GameEvent) => void;\r\n  handleChatMessage: (message: ChatMessage) => void;\r\n  handlePlayerJoined: (player: Player) => void;\r\n  handlePlayerLeft: (playerId: string) => void;\r\n  handlePlayerReady: (playerId: string, ready: boolean) => void;\r\n  handlePhaseChange: (phase: GameState['gamePhase']) => void;\r\n  handleTimerUpdate: (timeRemaining: number) => void;\r\n  handleVoteUpdate: (votes: Record<string, string>) => void;\r\n\r\n  // Round UX helpers\r\n  setRoundStage: (stage: RoundUxStage, options?: { force?: boolean }) => void;\r\n  addRoundSummary: (summary: RoundSummaryEntry) => void;\r\n  clearRoundSummaries: () => void;\r\n\r\n  // Reset Actions\r\n  resetGame: () => void;\r\n  resetVote: () => void;\r\n  resetGameData: () => void;\r\n}\r\n\r\ntype UnifiedGameStore = GameState & GameActions;\r\n\r\n// Helper function to map backend game state\r\nconst mapGamePhase = (\r\n  phase: BackendGamePhase | BackendGameState | string | undefined,\r\n): GameState['gamePhase'] => {\r\n  const defaultPhase: GameState['gamePhase'] = 'WAITING_FOR_PLAYERS';\r\n\r\n  if (!phase) {\r\n    return defaultPhase;\r\n  }\r\n\r\n  switch (phase) {\r\n    case 'WAITING':\r\n      return 'WAITING_FOR_PLAYERS';\r\n    case 'IN_PROGRESS':\r\n      return 'SPEECH';\r\n    case 'ENDED':\r\n      return 'GAME_OVER';\r\n    default:\r\n      break;\r\n  }\r\n\r\n  const allowedPhases: GameState['gamePhase'][] = [\r\n    'WAITING_FOR_PLAYERS',\r\n    'SPEECH',\r\n    'VOTING_FOR_LIAR',\r\n    'DEFENDING',\r\n    'VOTING_FOR_SURVIVAL',\r\n    'GUESSING_WORD',\r\n    'GAME_OVER',\r\n  ];\r\n\r\n  return allowedPhases.includes(phase as GameState['gamePhase'])\r\n    ? (phase as GameState['gamePhase'])\r\n    : defaultPhase;\r\n};\r\n\r\nconst stageOrder: Record<RoundUxStage, number> = {\r\n  waiting: 0,\r\n  speech: 1,\r\n  debate: 2,\r\n  vote: 3,\r\n  results: 4,\r\n};\r\n\r\nconst mapPhaseToStage = (phase: GameState['gamePhase']): RoundUxStage => {\r\n  switch (phase) {\r\n    case 'SPEECH':\r\n      return 'speech';\r\n    case 'DEFENDING':\r\n      return 'debate';\r\n    case 'VOTING_FOR_LIAR':\r\n    case 'VOTING_FOR_SURVIVAL':\r\n      return 'vote';\r\n    case 'GUESSING_WORD':\r\n    case 'GAME_OVER':\r\n      return 'results';\r\n    case 'WAITING_FOR_PLAYERS':\r\n    default:\r\n      return 'waiting';\r\n  }\r\n};\r\n\r\ninterface AuthIdentifiers {\r\n  userId: string | null;\r\n  nickname: string | null;\r\n}\r\n\r\nconst getAuthIdentifiers = (): AuthIdentifiers => {\r\n  const { userId, nickname } = useAuthStore.getState();\r\n  return {\r\n    userId: userId != null ? String(userId) : null,\r\n    nickname: nickname ?? null,\r\n  };\r\n};\r\n\r\nconst normalizeIdentifier = (value: unknown): string | null => {\r\n  if (value == null) {\r\n    return null;\r\n  }\r\n\r\n  if (typeof value === 'string') {\r\n    return value;\r\n  }\r\n\r\n  if (typeof value === 'number' && Number.isFinite(value)) {\r\n    return value.toString();\r\n  }\r\n\r\n  if (typeof value === 'object') {\r\n    const record = value as Record<string, unknown>;\r\n    if (record.id != null) {\r\n      const normalized = normalizeIdentifier(record.id);\r\n      if (normalized) {\r\n        return normalized;\r\n      }\r\n    }\r\n    if (record.userId != null) {\r\n      const normalized = normalizeIdentifier(record.userId);\r\n      if (normalized) {\r\n        return normalized;\r\n      }\r\n    }\r\n    if (record.nickname != null) {\r\n      const normalized = normalizeIdentifier(record.nickname);\r\n      if (normalized) {\r\n        return normalized;\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst pickFirstIdentifier = (...values: unknown[]): string | null => {\r\n  for (const value of values) {\r\n    const normalized = normalizeIdentifier(value);\r\n    if (normalized) {\r\n      return normalized;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nconst findSelfPlayer = (players: Player[], auth: AuthIdentifiers): Player | undefined => {\r\n  return players.find((player) => {\r\n    if (auth.userId && player.userId != null && String(player.userId) === auth.userId) {\r\n      return true;\r\n    }\r\n    if (auth.nickname && player.nickname === auth.nickname) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n};\r\n\r\nconst isIdentifierSelf = (value: unknown, players: Player[], auth: AuthIdentifiers): boolean => {\r\n  const normalized = normalizeIdentifier(value);\r\n  if (!normalized) {\r\n    return false;\r\n  }\r\n\r\n  if (auth.userId && normalized === auth.userId) {\r\n    return true;\r\n  }\r\n\r\n  if (auth.nickname && normalized === auth.nickname) {\r\n    return true;\r\n  }\r\n\r\n  const selfPlayer = findSelfPlayer(players, auth);\r\n  if (!selfPlayer) {\r\n    return false;\r\n  }\r\n\r\n  if (selfPlayer.id === normalized) {\r\n    return true;\r\n  }\r\n\r\n  if (selfPlayer.userId != null && String(selfPlayer.userId) === normalized) {\r\n    return true;\r\n  }\r\n\r\n  if (selfPlayer.nickname === normalized) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n// Initial state\r\nconst initialState: GameState = {\r\n  // Session\r\n  gameId: null,\r\n  gameNumber: null,\r\n  sessionCode: null,\r\n  players: [],\r\n  currentPlayer: null,\r\n\r\n  // Configuration\r\n  maxPlayers: 6,\r\n  timeLimit: 120,\r\n  currentRound: 0,\r\n  totalRounds: 3,\r\n  gameMode: null,\r\n\r\n  // Game Flow\r\n  gamePhase: 'WAITING_FOR_PLAYERS',\r\n  currentTurnPlayerId: undefined,\r\n  turnOrder: [],\r\n\r\n  // Game Content\r\n  currentTopic: null,\r\n  currentWord: null,\r\n  currentLiar: null,\r\n  isLiar: false,\r\n\r\n  // Game Data\r\n  hints: [],\r\n  votes: [],\r\n  defenses: [],\r\n  userVote: null,\r\n  gameResults: null,\r\n  scores: {},\r\n\r\n  // Real-time\r\n  timer: {\r\n    isActive: false,\r\n    timeRemaining: 0,\r\n    totalTime: 0,\r\n    phase: '',\r\n  },\r\n  voting: {\r\n    isActive: false,\r\n    phase: null,\r\n    votes: {},\r\n    results: undefined,\r\n  },\r\n  chatMessages: [],\r\n  chatLoading: false,\r\n  chatError: null,\r\n  typingPlayers: new Set(),\r\n\r\n  // Connection\r\n  isConnected: false,\r\n  connectionError: null,\r\n  reconnectAttempts: 0,\r\n\r\n  // UI\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  // Round UX\r\n  roundStage: 'waiting',\r\n  roundStageEnteredAt: null,\r\n  roundHasStarted: false,\r\n  roundSummaries: [],\r\n  currentRoundSummary: null,\r\n\r\n  // Game List\r\n  gameList: [],\r\n  gameListLoading: false,\r\n  gameListError: null,\r\n  availableGameModes: [],\r\n  currentGameState: null,\r\n};\r\n\r\n// Create the unified store\r\nexport const useGameStore = create<UnifiedGameStore>()(\r\n  devtools(\r\n    persist(\r\n      (set, get) => ({\r\n        ...initialState,\r\n\r\n        // Session Actions\r\n        setGameId: (gameId) => set({ gameId }),\r\n        setGameNumber: (gameNumber) => set({ gameNumber }),\r\n        setSessionCode: (sessionCode) => set({ sessionCode }),\r\n        setCurrentPlayer: (currentPlayer) => set({ currentPlayer }),\r\n\r\n        // Player Management\r\n        updatePlayers: (players) => set({ players }),\r\n        addPlayer: (player) => set((state) => {\r\n          const existingIndex = state.players.findIndex(existing => {\r\n            if (existing.id === player.id) {\r\n              return true;\r\n            }\r\n            if (existing.userId != null && player.userId != null && existing.userId === player.userId) {\r\n              return true;\r\n            }\r\n            if (existing.nickname && player.nickname && existing.nickname === player.nickname) {\r\n              return true;\r\n            }\r\n            return false;\r\n          });\r\n\r\n          if (existingIndex >= 0) {\r\n            const players = [...state.players];\r\n            players[existingIndex] = { ...players[existingIndex], ...player };\r\n            return { players };\r\n          }\r\n\r\n          return { players: [...state.players, player] };\r\n        }),\r\n        removePlayer: (playerId) => set((state) => ({\r\n          players: state.players.filter(p => p.id !== playerId)\r\n        })),\r\n        updatePlayer: (playerId, updates) => set((state) => {\r\n          const players = state.players.map((player) =>\r\n            player.id === playerId ? { ...player, ...updates } : player\r\n          );\r\n\r\n          const currentPlayer = state.currentPlayer?.id === playerId\r\n            ? { ...state.currentPlayer, ...updates }\r\n            : state.currentPlayer;\r\n\r\n          return {\r\n            players,\r\n            currentPlayer,\r\n          };\r\n        }),\r\n\r\n        // Game Flow\r\n        setGamePhase: (gamePhase) => {\r\n          set({ gamePhase });\r\n          const nextStage = mapPhaseToStage(gamePhase);\r\n          get().setRoundStage(nextStage);\r\n        },\r\n        setGameMode: (gameMode) => set({ gameMode }),\r\n        setCurrentTopic: (currentTopic) => set({ currentTopic }),\r\n        setCurrentWord: (currentWord) => set({ currentWord }),\r\n        setCurrentLiar: (currentLiar) => set({ currentLiar }),\r\n        setIsLiar: (isLiar) => set({ isLiar }),\r\n        setCurrentTurnPlayer: (currentTurnPlayerId) => set({ currentTurnPlayerId }),\r\n        setTurnOrder: (turnOrder) => set({ turnOrder }),\r\n\r\n        // Game Data\r\n        addHint: (playerId, playerName, hint) => set((state) => ({\r\n          hints: [...state.hints, {\r\n            playerId,\r\n            playerName,\r\n            hint,\r\n            timestamp: Date.now()\r\n          }]\r\n        })),\r\n        addVote: (voterId, voterName, targetId, targetName) => set((state) => ({\r\n          votes: [...state.votes, {\r\n            voterId,\r\n            voterName,\r\n            targetId,\r\n            targetName\r\n          }]\r\n        })),\r\n        addDefense: (defenderId, defenderName, defense) => set((state) => ({\r\n          defenses: [...state.defenses, {\r\n            defenderId,\r\n            defenderName,\r\n            defense,\r\n            timestamp: Date.now()\r\n          }]\r\n        })),\r\n        setUserVote: (userVote) => set({ userVote }),\r\n        setGameResults: (gameResults) => set({ gameResults }),\r\n\r\n        // Score Management\r\n        setScore: (playerId, score) => set((state) => ({\r\n          scores: { ...state.scores, [playerId]: score }\r\n        })),\r\n        addScore: (playerId, delta) => {\r\n          const current = get().scores[playerId] ?? 0;\r\n          set((state) => ({\r\n            scores: { ...state.scores, [playerId]: current + delta }\r\n          }));\r\n        },\r\n        resetScores: () => set({ scores: {} }),\r\n\r\n        // Timer Management\r\n        updateTimer: (timer) => set((state) => ({\r\n          timer: { ...state.timer, ...timer }\r\n        })),\r\n        startTimer: (totalTime, phase) => set({\r\n          timer: {\r\n            isActive: true,\r\n            timeRemaining: totalTime,\r\n            totalTime,\r\n            phase\r\n          }\r\n        }),\r\n        stopTimer: () => set((state) => ({\r\n          timer: { ...state.timer, isActive: false }\r\n        })),\r\n\r\n        // Voting Management\r\n        startVoting: (phase, targetPlayerId) => set({\r\n          voting: {\r\n            isActive: true,\r\n            phase,\r\n            votes: {},\r\n            targetPlayerId,\r\n            results: undefined\r\n          }\r\n        }),\r\n        stopVoting: () => set((state) => ({\r\n          voting: { ...state.voting, isActive: false }\r\n        })),\r\n        castVote: (playerId, targetId) => set((state) => ({\r\n          voting: {\r\n            ...state.voting,\r\n            votes: { ...state.voting.votes, [playerId]: targetId }\r\n          }\r\n        })),\r\n        setVotingResults: (results) => set((state) => ({\r\n          voting: { ...state.voting, results }\r\n        })),\r\n\r\n        // Chat Management\r\n        addChatMessage: (message) => set((state) => ({\r\n          chatMessages: mergeChatMessages(state.chatMessages, [message])\r\n        })),\r\n        setChatMessages: (chatMessages) => set({\r\n          chatMessages: mergeChatMessages([], chatMessages)\r\n        }),\r\n        ingestChatMessage: (message) => {\r\n          const { players, gameNumber } = get();\r\n          const normalized = normalizeChatMessage(message, players, gameNumber);\r\n          set((state) => ({\r\n            chatMessages: mergeChatMessages(state.chatMessages, [normalized])\r\n          }));\r\n        },\r\n        loadChatHistory: async (limit = 50) => {\r\n          const { gameNumber } = get();\r\n          if (!gameNumber) {\r\n            return [];\r\n          }\r\n\r\n          set({ chatLoading: true, chatError: null });\r\n          try {\r\n            const { gameFlowService } = await import('../services/gameFlowService');\r\n            const messages = await gameFlowService.getChatHistory(gameNumber, limit);\r\n            const players = get().players;\r\n            const normalized = messages.map((msg) => normalizeChatMessage(msg, players, gameNumber));\r\n            set({\r\n              chatMessages: mergeChatMessages([], normalized),\r\n              chatLoading: false,\r\n              chatError: null,\r\n            });\r\n            return normalized;\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to load chat history';\r\n            set({ chatLoading: false, chatError: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n        sendChatMessage: async (message, type = 'DISCUSSION') => {\r\n          const trimmed = (message ?? '').trim();\r\n          if (!trimmed) {\r\n            return;\r\n          }\r\n\r\n          const { gameNumber, currentPlayer } = get();\r\n          if (!gameNumber) {\r\n            throw new Error('  .');\r\n          }\r\n\r\n          try {\r\n            const nickname = currentPlayer?.nickname ?? useAuthStore.getState().nickname ?? undefined;\r\n            const { websocketService } = await import('../services/websocketService');\r\n            websocketService.sendChatMessage(gameNumber.toString(), trimmed, {\r\n              nickname,\r\n              type,\r\n            });\r\n          } catch (error) {\r\n            console.error('Failed to send chat message:', error);\r\n            throw error;\r\n          }\r\n        },\r\n        clearChat: () => set({\r\n          chatMessages: [],\r\n          chatLoading: false,\r\n          chatError: null,\r\n        }),\r\n\r\n        // Typing Indicators\r\n        addTypingPlayer: (playerId) => set((state) => ({\r\n          typingPlayers: new Set([...state.typingPlayers, playerId])\r\n        })),\r\n        removeTypingPlayer: (playerId) => set((state) => {\r\n          const newSet = new Set(state.typingPlayers);\r\n          newSet.delete(playerId);\r\n          return { typingPlayers: newSet };\r\n        }),\r\n        clearTypingPlayers: () => set({ typingPlayers: new Set() }),\r\n\r\n        // Connection Management\r\n        setConnectionState: (isConnected) => set({ isConnected }),\r\n        setConnectionError: (connectionError) => set({ connectionError }),\r\n        setReconnectAttempts: (reconnectAttempts) => set({ reconnectAttempts }),\r\n        \r\n        connectWebSocket: async () => {\r\n          set({ isConnected: false, connectionError: null });\r\n          try {\r\n            const { websocketService } = await import('../services/websocketService');\r\n            await websocketService.connect();\r\n            set({ isConnected: true });\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Connection failed';\r\n            set({ connectionError: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        disconnectWebSocket: async () => {\r\n          try {\r\n            const { websocketService } = await import('../services/websocketService');\r\n            websocketService.disconnect();\r\n          } catch (error) {\r\n            console.error('Error disconnecting WebSocket:', error);\r\n          } finally {\r\n            set({ isConnected: false });\r\n          }\r\n        },\r\n\r\n        // UI State\r\n        setLoading: (isLoading) => set({ isLoading }),\r\n        setError: (error) => set({ error }),\r\n\r\n        // Game List Management\r\n        fetchGameList: async (page = 0, size = 10) => {\r\n          set({ gameListLoading: true, gameListError: null });\r\n          try {\r\n            const response = await gameService.getGameList(page, size);\r\n            const gameList = response.gameRooms || response.games || response.data || [];\r\n            set({ gameList, gameListLoading: false });\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to fetch game list';\r\n            set({ gameListLoading: false, gameListError: errorMessage });\r\n          }\r\n        },\r\n        setGameList: (gameList) => set({ gameList }),\r\n        setGameListLoading: (gameListLoading) => set({ gameListLoading }),\r\n        setGameListError: (gameListError) => set({ gameListError }),\r\n\r\n        // Game Mode Management\r\n        fetchGameModes: async () => {\r\n          try {\r\n            const modes = await gameService.getAvailableGameModes();\r\n            set({ availableGameModes: modes });\r\n          } catch (error) {\r\n            console.error('Failed to fetch game modes:', error);\r\n          }\r\n        },\r\n        setAvailableGameModes: (availableGameModes) => set({ availableGameModes }),\r\n\r\n        // API Actions\r\n        createGame: async (gameData) => {\r\n          set({ isLoading: true, error: null });\r\n          try {\r\n            const gameNumber = await gameService.createGame(gameData);\r\n            // After creating, get the game state\r\n            const gameState = await gameService.getGameState(gameNumber);\r\n            set({\r\n              isLoading: false,\r\n              currentGameState: gameState,\r\n              gameNumber: gameState.gameNumber,\r\n              gameId: gameState.gameNumber.toString()\r\n            });\r\n            get().updateFromGameState(gameState);\r\n            return gameState;\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to create game';\r\n            set({ isLoading: false, error: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        joinGame: async (joinData) => {\r\n          set({ isLoading: true, error: null });\r\n          try {\r\n            const payload = {\r\n              gameNumber: joinData.gameNumber,\r\n              gamePassword: joinData.gamePassword ?? (joinData as any).password ?? undefined,\r\n              nickname: joinData.nickname\r\n            };\r\n            const gameState = await gameService.joinGame(payload);\r\n            set({\r\n              isLoading: false,\r\n              currentGameState: gameState,\r\n              gameNumber: gameState.gameNumber,\r\n              gameId: gameState.gameNumber.toString()\r\n            });\r\n            get().updateFromGameState(gameState);\r\n            return gameState;\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to join game';\r\n            set({ isLoading: false, error: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        leaveGame: async () => {\r\n          const { gameNumber } = get();\r\n          if (!gameNumber) return;\r\n\r\n          set({ isLoading: true, error: null });\r\n          try {\r\n            await gameService.leaveGame(gameNumber);\r\n            set({ isLoading: false });\r\n            get().resetGame();\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to leave game';\r\n            set({ isLoading: false, error: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        startGame: async () => {\r\n          const { gameNumber } = get();\r\n          if (!gameNumber) return;\r\n\r\n          set({ isLoading: true, error: null });\r\n          try {\r\n            const gameState = await gameService.startGame();\r\n            set({ isLoading: false, currentGameState: gameState });\r\n            get().updateFromGameState(gameState);\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to start game';\r\n            set({ isLoading: false, error: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        toggleReady: async () => {\r\n          const { gameNumber } = get();\r\n          if (!gameNumber) return;\r\n\r\n          set({ isLoading: true, error: null });\r\n          try {\r\n            const readyState = await gameService.toggleReady(gameNumber);\r\n            set({ isLoading: false });\r\n\r\n            const playerId = String(readyState.playerId);\r\n            get().handlePlayerReady(playerId, readyState.isReady);\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to toggle ready state';\r\n            set({ isLoading: false, error: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        refreshGameState: async () => {\r\n          const { gameNumber } = get();\r\n          if (!gameNumber) return;\r\n\r\n          try {\r\n            const gameState = await gameService.getGameState(gameNumber);\r\n            set({ currentGameState: gameState });\r\n            get().updateFromGameState(gameState);\r\n          } catch (error) {\r\n            console.error('Failed to refresh game state:', error);\r\n          }\r\n        },\r\n\r\n        // State Synchronization\r\n        setCurrentGameState: (currentGameState) => set({ currentGameState }),\r\n        updateFromGameState: (gameState) => {\r\n          if (!gameState) return;\r\n\r\n          const scoreboard = new Map<number, number>(\r\n            (gameState.scoreboard ?? []).map((entry) => [entry.userId, entry.score])\r\n          );\r\n\r\n          const existingPlayers = get().players;\r\n          const isWaitingRoom = gameState.gameState === 'WAITING';\r\n          const auth = getAuthIdentifiers();\r\n          const normalizedYourRole = gameState.yourRole === 'LIAR' || gameState.yourRole === 'CITIZEN'\r\n            ? gameState.yourRole\r\n            : undefined;\r\n\r\n          const mappedPlayers = gameState.players.map<Player>((player) => {\r\n            const score = scoreboard.get(player.userId) ?? scoreboard.get(player.id) ?? 0;\r\n            const isDisconnectedState = player.state === 'DISCONNECTED';\r\n            const isOnline = Boolean(player.isOnline);\r\n            const normalizedId = player.id.toString();\r\n\r\n            const existingPlayer = existingPlayers.find((candidate) => {\r\n              if (candidate.id === normalizedId) return true;\r\n              if (candidate.userId != null && candidate.userId === player.userId) return true;\r\n              if (candidate.nickname === player.nickname) return true;\r\n              return false;\r\n            });\r\n\r\n            const readyState = isWaitingRoom ? (existingPlayer?.isReady ?? false) : false;\r\n            const isSelfPlayer = (\r\n              (auth.userId != null && auth.userId === String(player.userId)) ||\r\n              (auth.nickname != null && auth.nickname === player.nickname)\r\n            );\r\n            const existingRole = existingPlayer?.role;\r\n            const resolvedRole = isSelfPlayer\r\n              ? normalizedYourRole ?? existingRole\r\n              : (existingRole === 'LIAR' || existingRole === 'CITIZEN')\r\n                ? existingRole\r\n                : undefined;\r\n\r\n            return {\r\n              id: normalizedId,\r\n              userId: player.userId,\r\n              nickname: player.nickname,\r\n              isAlive: player.isAlive,\r\n              state: player.state,\r\n              hint: player.hint,\r\n              defense: player.defense,\r\n              votesReceived: player.votesReceived,\r\n              hasVoted: player.hasVoted,\r\n              score,\r\n              isHost: player.nickname === gameState.gameOwner,\r\n              isReady: readyState,\r\n              isConnected: isOnline && !isDisconnectedState,\r\n              isOnline,\r\n              role: resolvedRole,\r\n              votedFor: existingPlayer?.votedFor,\r\n              lastActive: existingPlayer?.lastActive ?? Date.now(),\r\n            };\r\n\r\n          });\r\n\r\n\r\n\r\n          const scores = mappedPlayers.reduce<Record<string, number>>((acc, player) => {\r\n\r\n            acc[player.id] = player.score;\r\n\r\n            return acc;\r\n\r\n          }, {});\r\n\r\n\r\n\r\n          const turnOrder = (gameState.turnOrder ?? []).map((value) => value.toString());\r\n\r\n          const currentTurnIndex = typeof gameState.currentTurnIndex === 'number' ? gameState.currentTurnIndex : undefined;\r\n          const currentTurnPlayerId = currentTurnIndex != null ? turnOrder[currentTurnIndex] : undefined;\r\n\r\n          const currentTurnPlayer =\r\n            currentTurnPlayerId != null\r\n              ? mappedPlayers.find(\r\n                  (player) =>\r\n                    player.id === currentTurnPlayerId ||\r\n                    player.userId.toString() === currentTurnPlayerId ||\r\n                    player.nickname === currentTurnPlayerId,\r\n                ) ?? null\r\n              : null;\r\n\r\n          const mappedPhase = mapGamePhase(gameState.currentPhase);\r\n\r\n          const selfPlayer = findSelfPlayer(mappedPlayers, auth);\r\n\r\n          const currentPlayer = selfPlayer ?? currentTurnPlayer;\r\n\r\n          const isSelfLiar = gameState.yourRole === 'LIAR';\r\n\r\n          const revealPhase = mappedPhase === 'GAME_OVER';\r\n\r\n          const liarIdentifier = isSelfLiar\r\n\r\n            ? pickFirstIdentifier(selfPlayer?.id, selfPlayer?.userId, selfPlayer?.nickname, auth.userId, auth.nickname)\r\n\r\n            : (revealPhase ? pickFirstIdentifier(gameState.accusedPlayer) : null);\r\n\r\n          const maskedWord = isSelfLiar ? null : gameState.yourWord ?? null;\r\n\r\n\r\n\r\n          set({\r\n\r\n            gamePhase: mappedPhase,\r\n\r\n            players: mappedPlayers,\r\n\r\n            currentPlayer,\r\n\r\n            currentTurnPlayerId,\r\n\r\n            turnOrder,\r\n\r\n            currentRound: gameState.gameCurrentRound,\r\n\r\n            totalRounds: gameState.gameTotalRounds,\r\n\r\n            maxPlayers: gameState.gameParticipants,\r\n\r\n            gameNumber: gameState.gameNumber,\r\n\r\n            gameId: gameState.gameNumber.toString(),\r\n\r\n            scores,\r\n\r\n            currentTopic: gameState.citizenSubject ?? null,\r\n\r\n            currentWord: maskedWord,\r\n\r\n            currentLiar: liarIdentifier ?? null,\r\n\r\n            isLiar: isSelfLiar,\r\n\r\n          });\r\n\r\n          get().setRoundStage(mapPhaseToStage(mappedPhase));\r\n\r\n\r\n\r\n          // Update timer if available\r\n          if (gameState.phaseEndTime) {\r\n            // Calculate time remaining from phaseEndTime\r\n            const endTime = new Date(gameState.phaseEndTime).getTime();\r\n            const now = Date.now();\r\n            const timeRemaining = Math.max(0, Math.floor((endTime - now) / 1000));\r\n\r\n            set((state) => ({\r\n              timer: {\r\n                ...state.timer,\r\n                timeRemaining\r\n              }\r\n            }));\r\n          }\r\n        },\r\n\r\n        // Event Handlers\r\n        handleGameEvent: (event: GameEvent) => {\r\n          const state = get();\r\n\r\n          const resolvePlayerIdByIdentifier = (identifier: unknown): string | null => {\r\n            if (identifier == null) {\r\n              return null;\r\n            }\r\n            const normalized = String(identifier);\r\n            const players = get().players;\r\n            const match = players.find((player) => {\r\n              if (player.id === normalized) return true;\r\n              if (player.userId != null && String(player.userId) === normalized) return true;\r\n              if (player.nickname === normalized) return true;\r\n              return false;\r\n            });\r\n            return match?.id ?? null;\r\n          };\r\n\r\n          const updatePlayerByIdentifier = (identifier: unknown, updates: Partial<Player>) => {\r\n            const targetId = resolvePlayerIdByIdentifier(identifier);\r\n            if (targetId) {\r\n              get().updatePlayer(targetId, updates);\r\n            }\r\n          };\r\n\r\n          switch (event.type) {\r\n            case 'PLAYER_JOINED': {\r\n              const { payload } = event;\r\n              const rawPlayerId = payload.playerId ?? payload.userId ?? payload.nickname ?? '';\r\n              const normalizedId = String(rawPlayerId);\r\n              const parsedUserId =\r\n                typeof payload.userId === 'number'\r\n                  ? payload.userId\r\n                  : Number.parseInt(String(payload.userId ?? rawPlayerId ?? 0), 10) || 0;\r\n              const nickname = payload.playerName ?? payload.nickname ?? ('Player ' + normalizedId);\r\n\r\n              const normalizedRole = payload.role === 'CITIZEN' || payload.role === 'LIAR' ? payload.role : undefined;\r\n\r\n              const newPlayer: Player = {\r\n                id: normalizedId,\r\n                userId: parsedUserId,\r\n                nickname,\r\n                isAlive: true,\r\n                state: 'WAITING_FOR_HINT',\r\n                votesReceived: 0,\r\n                hasVoted: false,\r\n                score: 0,\r\n                isHost: Boolean(payload.isHost),\r\n                isReady: Boolean(payload.isReady),\r\n                isConnected: true,\r\n                isOnline: true,\r\n                role: normalizedRole,\r\n                votedFor: undefined,\r\n                lastActive: Date.now(),\r\n              };\r\n\r\n              get().addPlayer(newPlayer);\r\n              break;\r\n            }\r\n\r\n            case 'PLAYER_LEFT': {\r\n              const { playerId } = event.payload;\r\n              if (playerId != null) {\r\n                get().removePlayer(String(playerId));\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'PLAYER_DISCONNECTED': {\r\n              const payload = event.payload as any;\r\n              const identifier = payload?.userId ?? payload?.playerId ?? payload?.nickname ?? payload?.playerName;\r\n              updatePlayerByIdentifier(identifier, {\r\n                isConnected: false,\r\n                isOnline: false,\r\n                lastActive: Date.now(),\r\n              });\r\n              break;\r\n            }\r\n\r\n            case 'PLAYER_RECONNECTED': {\r\n              const payload = event.payload as any;\r\n              const identifier = payload?.userId ?? payload?.playerId ?? payload?.nickname ?? payload?.playerName;\r\n              updatePlayerByIdentifier(identifier, {\r\n                isConnected: true,\r\n                isOnline: true,\r\n                lastActive: Date.now(),\r\n              });\r\n              break;\r\n            }\r\n\r\n            case 'GRACE_PERIOD_STARTED': {\r\n              const payload = event.payload as any;\r\n              const identifier = payload?.userId ?? payload?.playerId ?? payload?.nickname ?? payload?.playerName;\r\n              updatePlayerByIdentifier(identifier, {\r\n                isConnected: false,\r\n                isOnline: false,\r\n                lastActive: Date.now(),\r\n              });\r\n              break;\r\n            }\r\n\r\n            case 'GRACE_PERIOD_EXPIRED': {\r\n              const payload = event.payload as any;\r\n              const identifier = payload?.userId ?? payload?.playerId ?? payload?.nickname ?? payload?.playerName;\r\n              updatePlayerByIdentifier(identifier, {\r\n                isConnected: false,\r\n                isOnline: false,\r\n                lastActive: Date.now(),\r\n              });\r\n              break;\r\n            }\r\n\r\n            case 'PLAYER_READY_CHANGED':\r\n            case 'PLAYER_READY_UPDATE': {\r\n              const payload = event.payload as any;\r\n              const identifier = payload?.userId ?? payload?.playerId ?? payload?.nickname ?? payload?.playerName;\r\n              updatePlayerByIdentifier(identifier, {\r\n                isReady: Boolean(payload?.isReady),\r\n                lastActive: Date.now(),\r\n              });\r\n              break;\r\n            }\r\n\r\n            case 'OWNER_KICKED_AND_TRANSFERRED': {\r\n              const payload = event.payload as any;\r\n              const kicked = payload?.kickedOwner ?? payload?.kickedPlayer ?? payload?.previousOwner;\r\n              const promoted = payload?.newOwner ?? payload?.nextOwner ?? payload?.newHost;\r\n              if (kicked) {\r\n                updatePlayerByIdentifier(kicked, { isHost: false });\r\n              }\r\n              if (promoted) {\r\n                updatePlayerByIdentifier(promoted, { isHost: true });\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'GAME_STARTED':\r\n              set({\r\n                gamePhase: 'SPEECH',\r\n                currentRound: event.payload.currentRound ?? state.currentRound\r\n              });\r\n              break;\r\n\r\n            case 'ROUND_STARTED': {\r\n              const { category, word, liarId, timeLimit } = event.payload;\r\n              const auth = getAuthIdentifiers();\r\n              const selfPlayer = findSelfPlayer(state.players, auth);\r\n              const isSelfRoundLiar = state.isLiar || isIdentifierSelf(liarId, state.players, auth);\r\n              const nextWord = isSelfRoundLiar ? null : (word ?? state.currentWord);\r\n              const nextLiarId = isSelfRoundLiar\r\n                ? pickFirstIdentifier(liarId, selfPlayer?.id, selfPlayer?.userId, selfPlayer?.nickname, auth.userId, auth.nickname)\r\n                : null;\r\n\r\n              set({\r\n                currentTopic: category ?? state.currentTopic,\r\n                currentWord: nextWord,\r\n                isLiar: isSelfRoundLiar,\r\n                currentLiar: nextLiarId ?? null,\r\n                hints: [],\r\n                votes: [],\r\n                defenses: [],\r\n                roundHasStarted: true,\r\n                currentRoundSummary: null,\r\n              });\r\n\r\n              get().setRoundStage('speech', { force: true });\r\n\r\n              if (typeof timeLimit === 'number' && timeLimit > 0) {\r\n                get().startTimer(timeLimit, 'SPEECH');\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'HINT_PROVIDED':\r\n            case 'HINT_SUBMITTED': {\r\n              const { playerId, playerName, hint } = event.payload;\r\n              const resolvedPlayerId = String(playerId ?? 'unknown');\r\n              get().addHint(resolvedPlayerId, playerName ?? '', hint ?? '');\r\n              break;\r\n            }\r\n\r\n            case 'VOTE_CAST': {\r\n              const { voterId, voterName, targetId, targetName } = event.payload;\r\n              get().addVote(\r\n                String(voterId ?? 'unknown'),\r\n                voterName ?? '',\r\n                String(targetId ?? 'unknown'),\r\n                targetName ?? ''\r\n              );\r\n              break;\r\n            }\r\n\r\n            case 'DEFENSE_SUBMITTED': {\r\n              const { defenderId, defenderName, defense, playerId, playerName } = event.payload;\r\n              const resolvedId = defenderId ?? playerId ?? 'unknown';\r\n              const resolvedName = defenderName ?? playerName ?? '';\r\n              get().addDefense(String(resolvedId), resolvedName, defense ?? '');\r\n              break;\r\n            }\r\n\r\n            case 'ROUND_ENDED': {\r\n              get().setGamePhase('GAME_OVER');\r\n\r\n              const scoreEntries = event.payload.scores ?? event.payload.finalScores;\r\n              if (Array.isArray(scoreEntries) && scoreEntries.length > 0) {\r\n                const newScores: Record<string, number> = {};\r\n                const scoreboardSnapshot: RoundSummaryEntry['scoreboard'] = [];\r\n\r\n                (scoreEntries as ScoreEntry[]).forEach(entry => {\r\n                  const playerId = String(entry.playerId);\r\n                  newScores[playerId] = entry.score;\r\n                  const player = state.players.find(p => p.id === playerId || String(p.userId) === playerId);\r\n                  scoreboardSnapshot.push({\r\n                    playerId,\r\n                    nickname: player?.nickname ?? '',\r\n                    score: entry.score,\r\n                    isAlive: player?.isAlive !== false,\r\n                  });\r\n                });\r\n\r\n                set({ scores: newScores });\r\n\r\n                get().addRoundSummary({\r\n                  round: state.currentRound,\r\n                  topic: state.currentTopic,\r\n                  suspectedPlayerId: state.voting.targetPlayerId ?? undefined,\r\n                  scoreboard: scoreboardSnapshot.sort((a, b) => b.score - a.score),\r\n                  winningTeam: 'UNKNOWN',\r\n                  concludedAt: Date.now(),\r\n                });\r\n              } else {\r\n                get().addRoundSummary({\r\n                  round: state.currentRound,\r\n                  topic: state.currentTopic,\r\n                  suspectedPlayerId: state.voting.targetPlayerId ?? undefined,\r\n                  scoreboard: state.players.map((player) => ({\r\n                    playerId: player.id,\r\n                    nickname: player.nickname,\r\n                    score: state.scores[player.id] ?? player.score ?? 0,\r\n                    isAlive: player.isAlive !== false,\r\n                  })).sort((a, b) => b.score - a.score),\r\n                  winningTeam: 'UNKNOWN',\r\n                  concludedAt: Date.now(),\r\n                });\r\n              }\r\n\r\n              get().setRoundStage('results', { force: true });\r\n              break;\r\n            }\r\n\r\n            case 'PHASE_CHANGED': {\r\n              const { phase } = event.payload;\r\n              if (phase) {\r\n                get().setGamePhase(mapGamePhase(phase));\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'TIMER_UPDATE':\r\n              set(currentState => ({\r\n                timer: {\r\n                  ...currentState.timer,\r\n                  timeRemaining: event.payload.timeRemaining,\r\n                  phase: event.payload.phase ? String(event.payload.phase) : currentState.timer.phase,\r\n                }\r\n              }));\r\n\r\n              if (event.payload.phase) {\r\n                const mapped = mapGamePhase(event.payload.phase);\r\n                if (mapped !== get().gamePhase) {\r\n                  get().setGamePhase(mapped);\r\n                }\r\n              }\r\n              break;\r\n\r\n            case 'GAME_STATE_UPDATED':\r\n              if (event.payload.gameState) {\r\n                get().updateFromGameState(event.payload.gameState);\r\n              } else if (event.payload.state) {\r\n                get().setGamePhase(mapGamePhase(event.payload.state));\r\n              }\r\n\r\n              if (event.payload.timeRemaining !== undefined) {\r\n                set(currentState => ({\r\n                  timer: {\r\n                    ...currentState.timer,\r\n                    timeRemaining: event.payload.timeRemaining ?? currentState.timer.timeRemaining\r\n                  }\r\n                }));\r\n              }\r\n              break;\r\n\r\n            case 'GAME_ENDED': {\r\n              const scoreEntries = event.payload.scores;\r\n              if (Array.isArray(scoreEntries) && scoreEntries.length > 0) {\r\n                const newScores: Record<string, number> = {};\r\n                (scoreEntries as ScoreEntry[]).forEach(entry => {\r\n                  newScores[String(entry.playerId)] = entry.score;\r\n                });\r\n                set({ scores: newScores });\r\n              } else {\r\n                // no-op\r\n              }\r\n              get().setGamePhase('GAME_OVER');\r\n              get().setRoundStage('results', { force: true });\r\n              break;\r\n            }\r\n\r\n            default:\r\n              break;\r\n          }\r\n        },\r\n\r\n        handleChatMessage: (message) => {\r\n          get().ingestChatMessage(message);\r\n        },\r\n\r\n        handlePlayerJoined: (player) => {\r\n          get().addPlayer(player);\r\n        },\r\n\r\n        handlePlayerLeft: (playerId) => {\r\n          get().removePlayer(playerId);\r\n        },\r\n\r\n        handlePlayerReady: (playerId, ready) => {\r\n          get().updatePlayer(playerId, { isReady: ready });\r\n        },\r\n\r\n        handlePhaseChange: (phase) => {\r\n          get().setGamePhase(phase);\r\n        },\r\n\r\n        handleTimerUpdate: (timeRemaining) => {\r\n          set((state) => ({\r\n            timer: { ...state.timer, timeRemaining }\r\n          }));\r\n        },\r\n\r\n        handleVoteUpdate: (votes) => {\r\n          set((state) => ({\r\n            voting: { ...state.voting, votes }\r\n          }));\r\n        },\r\n\r\n        setRoundStage: (stage, options) => {\r\n          const { force = false } = options ?? {};\r\n          const currentStage = get().roundStage;\r\n          const currentOrder = stageOrder[currentStage] ?? 0;\r\n          const nextOrder = stageOrder[stage] ?? 0;\r\n\r\n          if (!force && nextOrder < currentOrder && stage !== 'waiting') {\r\n            return;\r\n          }\r\n\r\n          set({\r\n            roundStage: stage,\r\n            roundStageEnteredAt: Date.now(),\r\n            roundHasStarted: stage !== 'waiting',\r\n          });\r\n        },\r\n\r\n        addRoundSummary: (summary) => {\r\n          set((state) => {\r\n            const nextSummaries = [summary, ...state.roundSummaries];\r\n            return {\r\n              currentRoundSummary: summary,\r\n              roundSummaries: nextSummaries.slice(0, 5),\r\n            };\r\n          });\r\n        },\r\n\r\n        clearRoundSummaries: () => set({\r\n          roundSummaries: [],\r\n          currentRoundSummary: null,\r\n        }),\r\n\r\n        // Reset Actions\r\n        resetGame: () => set({ ...initialState, typingPlayers: new Set() }),\r\n        resetVote: () => set({ userVote: null }),\r\n        resetGameData: () => set({\r\n          hints: [],\r\n          votes: [],\r\n          defenses: [],\r\n          currentTopic: null,\r\n          currentWord: null,\r\n          currentLiar: null,\r\n          isLiar: false,\r\n          chatMessages: [],\r\n          chatLoading: false,\r\n          chatError: null,\r\n          scores: {}\r\n        })\r\n      }),\r\n      {\r\n        name: 'unified-game-store',\r\n        partialize: (state) => ({\r\n          gameId: state.gameId,\r\n          gameNumber: state.gameNumber,\r\n          sessionCode: state.sessionCode,\r\n          maxPlayers: state.maxPlayers,\r\n          timeLimit: state.timeLimit,\r\n          totalRounds: state.totalRounds,\r\n          gameMode: state.gameMode,\r\n        }),\r\n      }\r\n    ),\r\n    {\r\n      name: 'unified-game-store',\r\n    }\r\n  )\r\n);\r\n\r\n","import {create} from 'zustand';\r\nimport {devtools, persist} from 'zustand/middleware';\r\nimport type {ModalState, NotificationItem, UIStoreActions, UIStoreState} from '@/types/store';\r\n\r\nconst initialState: UIStoreState = {\r\n  currentScreen: 'HOME',\r\n  previousScreen: undefined,\r\n  modalStack: [],\r\n  isLoading: false,\r\n  loadingMessage: undefined,\r\n  errors: {},\r\n  notifications: [],\r\n  sidebarOpen: false,\r\n  chatOpen: false,\r\n  settingsOpen: false,\r\n  formData: {},\r\n  formErrors: {},\r\n  unreadChat: 0,\r\n  lastChatMessage: undefined,\r\n};\r\n\r\nconst genId = () => (globalThis.crypto?.randomUUID?.() || Math.random().toString(36).slice(2));\r\n\r\nexport const useUIStore = create<UIStoreState & UIStoreActions>()(\r\n  devtools(\r\n    persist(\r\n      (set) => ({\r\n        ...initialState,\r\n        navigate: (screen) => set(state => ({ previousScreen: state.currentScreen, currentScreen: screen })),\r\n        showModal: (modal) => {\r\n          const id = genId();\r\n          const newModal: ModalState = { id, ...modal };\r\n          set(state => ({ modalStack: [...state.modalStack, newModal] }));\r\n          return id;\r\n        },\r\n        hideModal: (id) => set(state => ({\r\n          modalStack: id ? state.modalStack.filter(m => m.id !== id) : state.modalStack.slice(0, -1),\r\n        })),\r\n        setLoading: (isLoading, message) => set({ isLoading, loadingMessage: message }),\r\n        addError: (key, message) => set(state => ({ errors: { ...state.errors, [key]: message } })),\r\n        clearErrors: () => set({ errors: {} }),\r\n        showNotification: (n) => {\r\n          const id = genId();\r\n          const notif: NotificationItem = { id, createdAt: Date.now(), autoClose: 5000, ...n };\r\n          set(state => ({ notifications: [...state.notifications, notif] }));\r\n          return id;\r\n        },\r\n        removeNotification: (id) => set(state => ({ notifications: state.notifications.filter(n => n.id !== id) })),\r\n        toggleSidebar: (open) => set(state => ({ sidebarOpen: open ?? !state.sidebarOpen })),\r\n        toggleChat: (open) => set(state => ({ chatOpen: open ?? !state.chatOpen, unreadChat: open ? 0 : state.unreadChat })),\r\n        toggleSettings: (open) => set(state => ({ settingsOpen: open ?? !state.settingsOpen })),\r\n        setFormData: (data) => set({ formData: data }),\r\n        updateFormField: (field, value) => set(state => ({ formData: { ...state.formData, [field]: value } })),\r\n        setFormErrors: (errs) => set({ formErrors: errs }),\r\n        clearForm: () => set({ formData: {}, formErrors: {} }),\r\n        registerChatMessage: (msg) => set(state => ({ lastChatMessage: msg, unreadChat: state.chatOpen ? state.unreadChat : state.unreadChat + 1 })),\r\n        clearUnreadChat: () => set({ unreadChat: 0 }),\r\n      }),\r\n      {\r\n        name: 'ui-store',\r\n        partialize: (s) => ({ currentScreen: s.currentScreen, sidebarOpen: s.sidebarOpen }),\r\n      }\r\n    )\r\n  )\r\n);\r\n\r\nexport type UIStore = ReturnType<typeof useUIStore.getState>;\r\n\r\n","import {create} from 'zustand';\r\nimport {devtools} from 'zustand/middleware';\r\nimport {\r\n    type ActiveGame,\r\n    adminApi,\r\n    type AdminLoginRequest,\r\n    type GameStatistics,\r\n    type PendingContent,\r\n    type PlayerInfo,\r\n    type ProfanityRequest\r\n} from '../api/adminApi';\r\nimport type {APIResponse} from '@/types';\r\n\r\nconst ensureSuccess = (response: APIResponse<unknown>, fallbackMessage: string): void => {\r\n  if (!response.success) {\r\n    throw new Error(response.error?.message ?? fallbackMessage);\r\n  }\r\n};\r\n\r\nconst extractData = <T>(response: APIResponse<T>, fallbackMessage: string): T => {\r\n  ensureSuccess(response, fallbackMessage);\r\n  if (response.data === undefined) {\r\n    throw new Error(fallbackMessage);\r\n  }\r\n  return response.data;\r\n};\r\n\r\ninterface AdminState {\r\n  // Authentication\r\n  isAuthenticated: boolean;\r\n  adminNickname: string | null;\r\n  \r\n  // Statistics\r\n  statistics: GameStatistics | null;\r\n  statisticsLoading: boolean;\r\n  statisticsError: string | null;\r\n  \r\n  // Games\r\n  activeGames: ActiveGame[];\r\n  gamesLoading: boolean;\r\n  gamesError: string | null;\r\n  \r\n  // Players\r\n  players: PlayerInfo[];\r\n  playersLoading: boolean;\r\n  playersError: string | null;\r\n  \r\n  // Profanity Requests\r\n  profanityRequests: ProfanityRequest[];\r\n  profanityLoading: boolean;\r\n  profanityError: string | null;\r\n  \r\n  // Pending Content\r\n  pendingContent: PendingContent[];\r\n  contentLoading: boolean;\r\n  contentError: string | null;\r\n  \r\n  // UI State\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\ninterface AdminActions {\r\n  // Authentication\r\n  login: (credentials: AdminLoginRequest) => Promise<void>;\r\n  logout: () => void;\r\n  \r\n  // Statistics\r\n  fetchStatistics: () => Promise<void>;\r\n  \r\n  // Games Management\r\n  fetchActiveGames: () => Promise<void>;\r\n  terminateGame: (gameNumber: number) => Promise<void>;\r\n  kickPlayer: (gameNumber: number, userId: number) => Promise<void>;\r\n  \r\n  // Player Management\r\n  fetchPlayers: () => Promise<void>;\r\n  grantAdminRole: (userId: number) => Promise<void>;\r\n  \r\n  // Profanity Management\r\n  fetchProfanityRequests: () => Promise<void>;\r\n  approveProfanityRequest: (requestId: number) => Promise<void>;\r\n  rejectProfanityRequest: (requestId: number) => Promise<void>;\r\n  \r\n  // Content Management\r\n  fetchPendingContent: () => Promise<void>;\r\n  approveAllContent: () => Promise<void>;\r\n  \r\n  // Cleanup Operations\r\n  cleanupStaleGames: () => Promise<{ cleanedGames: number; message: string }>;\r\n  cleanupDisconnectedPlayers: () => Promise<{ cleanedPlayers: number }>;\r\n  cleanupEmptyGames: () => Promise<{ cleanedGames: number; message: string }>;\r\n  \r\n  // UI Actions\r\n  setLoading: (loading: boolean) => void;\r\n  setError: (error: string | null) => void;\r\n  clearError: () => void;\r\n}\r\n\r\ntype AdminStore = AdminState & AdminActions;\r\n\r\nconst initialState: AdminState = {\r\n  // Authentication\r\n  isAuthenticated: false,\r\n  adminNickname: null,\r\n  \r\n  // Statistics\r\n  statistics: null,\r\n  statisticsLoading: false,\r\n  statisticsError: null,\r\n  \r\n  // Games\r\n  activeGames: [],\r\n  gamesLoading: false,\r\n  gamesError: null,\r\n  \r\n  // Players\r\n  players: [],\r\n  playersLoading: false,\r\n  playersError: null,\r\n  \r\n  // Profanity Requests\r\n  profanityRequests: [],\r\n  profanityLoading: false,\r\n  profanityError: null,\r\n  \r\n  // Pending Content\r\n  pendingContent: [],\r\n  contentLoading: false,\r\n  contentError: null,\r\n  \r\n  // UI State\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nexport const useAdminStore = create<AdminStore>()(\r\n  devtools(\r\n    (set, get) => ({\r\n      ...initialState,\r\n\r\n      // Authentication\r\n      login: async (credentials) => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          const response = await adminApi.login(credentials);\r\n          const data = extractData(response, 'Login failed');\r\n          set({\r\n            isAuthenticated: true,\r\n            adminNickname: data.nickname,\r\n            isLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Login failed';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n            isAuthenticated: false,\r\n            adminNickname: null,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      logout: () => {\r\n        set({\r\n          ...initialState,\r\n        });\r\n      },\r\n\r\n      // Statistics\r\n      fetchStatistics: async () => {\r\n        set({ statisticsLoading: true, statisticsError: null });\r\n        try {\r\n          const statistics = extractData(await adminApi.getGameStatistics(), 'Failed to fetch statistics');\r\n          set({\r\n            statistics,\r\n            statisticsLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to fetch statistics';\r\n          set({\r\n            statisticsLoading: false,\r\n            statisticsError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // Games Management\r\n      fetchActiveGames: async () => {\r\n        set({ gamesLoading: true, gamesError: null });\r\n        try {\r\n          const games = extractData(await adminApi.getAllActiveGames(), 'Failed to fetch games');\r\n          set({\r\n            activeGames: games,\r\n            gamesLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to fetch games';\r\n          set({\r\n            gamesLoading: false,\r\n            gamesError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      terminateGame: async (gameNumber) => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          ensureSuccess(await adminApi.terminateRoom(gameNumber), 'Failed to terminate game');\r\n          // Remove the terminated game from the list\r\n          set((state) => ({\r\n            activeGames: state.activeGames.filter(game => game.gameNumber !== gameNumber),\r\n            isLoading: false,\r\n          }));\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to terminate game';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      kickPlayer: async (gameNumber, userId) => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          ensureSuccess(await adminApi.kickPlayer(gameNumber, userId), 'Failed to kick player');\r\n          set({ isLoading: false });\r\n          // Optionally refresh games list\r\n          get().fetchActiveGames();\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to kick player';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // Player Management\r\n      fetchPlayers: async () => {\r\n        set({ playersLoading: true, playersError: null });\r\n        try {\r\n          const players = extractData(await adminApi.getAllPlayers(), 'Failed to fetch players');\r\n          set({\r\n            players,\r\n            playersLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to fetch players';\r\n          set({\r\n            playersLoading: false,\r\n            playersError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      grantAdminRole: async (userId) => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          ensureSuccess(await adminApi.grantAdminRole(userId), 'Failed to grant admin role');\r\n          set({ isLoading: false });\r\n          // Optionally refresh players list\r\n          get().fetchPlayers();\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to grant admin role';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // Profanity Management\r\n      fetchProfanityRequests: async () => {\r\n        set({ profanityLoading: true, profanityError: null });\r\n        try {\r\n          const requests = extractData(await adminApi.getPendingProfanityRequests(), 'Failed to fetch profanity requests');\r\n          set({\r\n            profanityRequests: requests,\r\n            profanityLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to fetch profanity requests';\r\n          set({\r\n            profanityLoading: false,\r\n            profanityError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      approveProfanityRequest: async (requestId) => {\r\n        set({ profanityLoading: true, profanityError: null });\r\n        try {\r\n          ensureSuccess(await adminApi.approveProfanityRequest(requestId), 'Failed to approve request');\r\n          // Remove the approved request from the list\r\n          set((state) => ({\r\n            profanityRequests: state.profanityRequests.filter(req => req.id !== requestId),\r\n            profanityLoading: false,\r\n          }));\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to approve request';\r\n          set({\r\n            profanityLoading: false,\r\n            profanityError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      rejectProfanityRequest: async (requestId) => {\r\n        set({ profanityLoading: true, profanityError: null });\r\n        try {\r\n          ensureSuccess(await adminApi.rejectProfanityRequest(requestId), 'Failed to reject request');\r\n          // Remove the rejected request from the list\r\n          set((state) => ({\r\n            profanityRequests: state.profanityRequests.filter(req => req.id !== requestId),\r\n            profanityLoading: false,\r\n          }));\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to reject request';\r\n          set({\r\n            profanityLoading: false,\r\n            profanityError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // Content Management\r\n      fetchPendingContent: async () => {\r\n        set({ contentLoading: true, contentError: null });\r\n        try {\r\n          const content = extractData(await adminApi.getPendingContents(), 'Failed to fetch pending content');\r\n          set({\r\n            pendingContent: content,\r\n            contentLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to fetch pending content';\r\n          set({\r\n            contentLoading: false,\r\n            contentError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      approveAllContent: async () => {\r\n        set({ contentLoading: true, contentError: null });\r\n        try {\r\n          ensureSuccess(await adminApi.approveAllPendingContents(), 'Failed to approve all content');\r\n          set({\r\n            pendingContent: [],\r\n            contentLoading: false,\r\n          });\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to approve all content';\r\n          set({\r\n            contentLoading: false,\r\n            contentError: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // Cleanup Operations\r\n      cleanupStaleGames: async () => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          const result = extractData(await adminApi.cleanupStaleGames(), 'Failed to cleanup stale games');\r\n          set({ isLoading: false });\r\n          // Refresh games list after cleanup\r\n          get().fetchActiveGames();\r\n          return { cleanedGames: result.cleanedGames, message: result.message };\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to cleanup stale games';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      cleanupDisconnectedPlayers: async () => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          const result = extractData(await adminApi.cleanupDisconnectedPlayers(), 'Failed to cleanup disconnected players');\r\n          set({ isLoading: false });\r\n          // Refresh players list after cleanup\r\n          get().fetchPlayers();\r\n          return { cleanedPlayers: result.cleanedPlayers };\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to cleanup disconnected players';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      cleanupEmptyGames: async () => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          const result = extractData(await adminApi.cleanupEmptyGames(), 'Failed to cleanup empty games');\r\n          set({ isLoading: false });\r\n          // Refresh games list after cleanup\r\n          get().fetchActiveGames();\r\n          return { cleanedGames: result.cleanedGames, message: result.message };\r\n        } catch (error) {\r\n          const errorMessage = error instanceof Error ? error.message : 'Failed to cleanup empty games';\r\n          set({\r\n            isLoading: false,\r\n            error: errorMessage,\r\n          });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      // UI Actions\r\n      setLoading: (isLoading) => set({ isLoading }),\r\n      setError: (error) => set({ error }),\r\n      clearError: () => set({ error: null }),\r\n    }),\r\n    {\r\n      name: 'admin-store',\r\n    }\r\n  )\r\n);\r\n","import {API_CONFIG, apiClient} from './client'\r\nimport type {\r\n    LeaderboardResponse,\r\n    PuzzleDetail,\r\n    PuzzlePageResponse,\r\n    SessionResponse,\r\n    SessionStartRequest\r\n} from '../types/nemonemo'\r\n\r\nexport interface ListPuzzleParams {\r\n  page?: number\r\n  size?: number\r\n  difficulty?: 'EASY' | 'MEDIUM' | 'HARD' | 'EXPERT'\r\n  releasePack?: string\r\n}\r\n\r\nexport const nemonemoApi = {\r\n  async listPuzzles(params: ListPuzzleParams = {}): Promise<PuzzlePageResponse> {\r\n    const query = new URLSearchParams()\r\n    if (params.page != null) query.set('page', String(params.page))\r\n    if (params.size != null) query.set('size', String(params.size))\r\n    if (params.difficulty) query.set('difficulty', params.difficulty)\r\n    if (params.releasePack) query.set('releasePack', params.releasePack)\r\n\r\n    const endpoint = query.toString()\r\n      ? `${API_CONFIG.ENDPOINTS.NEMONEMO.PUZZLES}?${query.toString()}`\r\n      : API_CONFIG.ENDPOINTS.NEMONEMO.PUZZLES\r\n\r\n    return apiClient.get<PuzzlePageResponse>(endpoint)\r\n  },\r\n\r\n  async getPuzzle(puzzleId: number | string): Promise<PuzzleDetail> {\r\n    const endpoint = API_CONFIG.ENDPOINTS.NEMONEMO.PUZZLE_DETAIL(puzzleId)\r\n    return apiClient.get<PuzzleDetail>(endpoint)\r\n  },\r\n\r\n  async startSession(payload: SessionStartRequest): Promise<SessionResponse> {\r\n    const endpoint = API_CONFIG.ENDPOINTS.NEMONEMO.SESSIONS\r\n    return apiClient.post<SessionResponse>(endpoint, payload)\r\n  },\r\n\r\n  async getSession(sessionId: number | string): Promise<SessionResponse> {\r\n    const endpoint = API_CONFIG.ENDPOINTS.NEMONEMO.SESSION_DETAIL(sessionId)\r\n    return apiClient.get<SessionResponse>(endpoint)\r\n  },\r\n\r\n  async listWeeklyLeaderboard(releasePack: string, scope: 'GLOBAL' | 'FRIENDS' = 'GLOBAL'): Promise<LeaderboardResponse> {\r\n    const query = new URLSearchParams({ releasePack, scope })\r\n    const endpoint = `${API_CONFIG.ENDPOINTS.NEMONEMO.LEADERBOARD_WEEKLY}?${query.toString()}`\r\n    return apiClient.get<LeaderboardResponse>(endpoint)\r\n  }\r\n}\r\n","import {create} from 'zustand'\r\nimport {nemonemoApi} from '../api/nemonemoApi'\r\nimport type {LeaderboardEntry, PuzzleDetail, PuzzleSummary, SessionResponse} from '../types'\r\n\r\ninterface NemonemoState {\r\n  puzzles: PuzzleSummary[]\r\n  puzzleDetail?: PuzzleDetail\r\n  session?: SessionResponse\r\n  leaderboard: LeaderboardEntry[]\r\n  isLoading: boolean\r\n  error?: string\r\n  fetchPuzzles: (args?: { page?: number; size?: number; difficulty?: PuzzleSummary['difficulty'] }) => Promise<void>\r\n  fetchPuzzleDetail: (puzzleId: number) => Promise<void>\r\n  startSession: (puzzleId: number) => Promise<void>\r\n  fetchLeaderboard: (releasePack: string, scope?: 'GLOBAL' | 'FRIENDS') => Promise<void>\r\n  resetError: () => void\r\n}\r\n\r\nexport const useNemonemoStore = create<NemonemoState>((set) => ({\r\n  puzzles: [],\r\n  leaderboard: [],\r\n  isLoading: false,\r\n  async fetchPuzzles(args = {}) {\r\n    set({ isLoading: true, error: undefined })\r\n    try {\r\n      const response = await nemonemoApi.listPuzzles(args)\r\n      set({ puzzles: response.items, isLoading: false })\r\n    } catch (error) {\r\n      set({ isLoading: false, error: (error as Error).message })\r\n    }\r\n  },\r\n  async fetchPuzzleDetail(puzzleId) {\r\n    set({ isLoading: true, error: undefined })\r\n    try {\r\n      const detail = await nemonemoApi.getPuzzle(puzzleId)\r\n      set({ puzzleDetail: detail, isLoading: false })\r\n    } catch (error) {\r\n      set({ isLoading: false, error: (error as Error).message })\r\n    }\r\n  },\r\n  async startSession(puzzleId) {\r\n    set({ isLoading: true, error: undefined })\r\n    try {\r\n      const session = await nemonemoApi.startSession({ puzzleId })\r\n      set({ session, isLoading: false })\r\n    } catch (error) {\r\n      set({ isLoading: false, error: (error as Error).message })\r\n    }\r\n  },\r\n  async fetchLeaderboard(releasePack, scope = 'GLOBAL') {\r\n    set({ isLoading: true, error: undefined })\r\n    try {\r\n      const response = await nemonemoApi.listWeeklyLeaderboard(releasePack, scope)\r\n      set({ leaderboard: response.entries, isLoading: false })\r\n    } catch (error) {\r\n      set({ isLoading: false, error: (error as Error).message })\r\n    }\r\n  },\r\n  resetError() {\r\n    set({ error: undefined })\r\n  }\r\n}))\r\n","import {create} from 'zustand';\r\nimport {devtools} from 'zustand/middleware';\r\nimport {websocketService} from '../services/websocketService';\r\nimport {resetRealtimeSessionTracking} from '@/utils/sessionCleanup';\r\nimport {useAuthStore} from './authStore';\r\nimport type {\r\n    ChatCallback,\r\n    ChatMessage,\r\n    ConnectionCallback,\r\n    EventCallback,\r\n    GameEvent,\r\n    ScoreEntry\r\n} from '../types/realtime';\r\n\r\nexport interface Player {\r\n  id: string;\r\n  name: string;\r\n  isHost: boolean;\r\n  isReady: boolean;\r\n  isConnected: boolean;\r\n  score: number;\r\n}\r\n\r\nexport interface GameRoom {\r\n  id: string;\r\n  name: string;\r\n  hostId: string;\r\n  hostName: string;\r\n  players: Player[];\r\n  maxPlayers: number;\r\n  isStarted: boolean;\r\n  currentRound: number;\r\n  totalRounds: number;\r\n  state: 'WAITING' | 'STARTING' | 'PROVIDING_HINTS' | 'VOTING' | 'DEFENDING' | 'ROUND_ENDED' | 'GAME_ENDED';\r\n}\r\n\r\nexport interface GameState {\r\n  // Connection state\r\n  isConnected: boolean;\r\n  connectionError: string | null;\r\n\r\n  // Current game room\r\n  currentRoom: GameRoom | null;\r\n  currentPlayerId: string | null;\r\n\r\n  // Game state\r\n  isLiar: boolean;\r\n  currentCategory: string | null;\r\n  timeRemaining: number;\r\n  hints: Array<{\r\n    playerId: string;\r\n    playerName: string;\r\n    hint: string;\r\n    timestamp: number;\r\n  }>;\r\n  votes: Array<{\r\n    voterId: string;\r\n    voterName: string;\r\n    targetId: string;\r\n    targetName: string;\r\n  }>;\r\n  defenses: Array<{\r\n    defenderId: string;\r\n    defenderName: string;\r\n    defense: string;\r\n    timestamp: number;\r\n  }>;\r\n\r\n  // Chat\r\n  chatMessages: ChatMessage[];\r\n\r\n  // Available rooms\r\n  availableRooms: GameRoom[];\r\n\r\n  // Actions\r\n  connectWebSocket: () => Promise<void>;\r\n  disconnectWebSocket: () => void;\r\n  joinGame: (gameId: string) => void;\r\n  leaveGame: () => void;\r\n  sendChatMessage: (message: string) => void;\r\n  castVote: (targetPlayerId: string) => void;\r\n  submitDefense: (defense: string) => void;\r\n  startGame: () => void;\r\n\r\n  // Internal actions\r\n  setConnectionState: (connected: boolean) => void;\r\n  setConnectionError: (error: string | null) => void;\r\n  handleGameEvent: (event: GameEvent) => void;\r\n  handleChatMessage: (message: ChatMessage) => void;\r\n  updatePlayer: (playerId: string, updates: Partial<Player>) => void;\r\n  addHint: (playerId: string, playerName: string, hint: string) => void;\r\n  addVote: (voterId: string, voterName: string, targetId: string, targetName: string) => void;\r\n  addDefense: (defenderId: string, defenderName: string, defense: string) => void;\r\n  resetGameState: () => void;\r\n}\r\n\r\nconst useGameStore = create<GameState>()(\r\n  devtools(\r\n    (set, get) => {\r\n      // WebSocket event handlers\r\n      const connectionCallback: ConnectionCallback = (connected) => {\r\n        set({ isConnected: connected });\r\n        if (!connected) {\r\n          set({ connectionError: '  ' });\r\n        } else {\r\n          set({ connectionError: null });\r\n        }\r\n      };\r\n\r\n      const gameEventCallback: EventCallback = (event) => {\r\n        get().handleGameEvent(event);\r\n      };\r\n\r\n      const chatMessageCallback: ChatCallback = (message) => {\r\n        get().handleChatMessage(message);\r\n      };\r\n\r\n      // Setup WebSocket listeners\r\n      websocketService.addConnectionCallback(connectionCallback);\r\n      websocketService.onGameEvent('*', gameEventCallback);\r\n      websocketService.onChatMessage(chatMessageCallback);\r\n\r\n      return {\r\n        // Initial state\r\n        isConnected: false,\r\n        connectionError: null,\r\n        currentRoom: null,\r\n        currentPlayerId: null,\r\n        isLiar: false,\r\n        currentCategory: null,\r\n        timeRemaining: 0,\r\n        hints: [],\r\n        votes: [],\r\n        defenses: [],\r\n        chatMessages: [],\r\n        availableRooms: [],\r\n\r\n        // Actions\r\n        connectWebSocket: async () => {\r\n          try {\r\n            await websocketService.connect();\r\n            set({ connectionError: null });\r\n          } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : ' ';\r\n            set({ connectionError: errorMessage });\r\n            throw error;\r\n          }\r\n        },\r\n\r\n        disconnectWebSocket: () => {\r\n          websocketService.disconnect();\r\n          set({\r\n            isConnected: false,\r\n            currentRoom: null,\r\n            connectionError: null\r\n          });\r\n        },\r\n\r\n        joinGame: (gameId: string) => {\r\n          if (!get().isConnected) {\r\n            set({ connectionError: '  ' });\r\n            return;\r\n          }\r\n\r\n          websocketService.subscribeToGame(gameId);\r\n          // Reset game state when joining new game\r\n          set({\r\n            hints: [],\r\n            votes: [],\r\n            defenses: [],\r\n            chatMessages: [],\r\n            isLiar: false,\r\n            currentCategory: null,\r\n            timeRemaining: 0\r\n          });\r\n        },\r\n\r\n        leaveGame: () => {\r\n          const { currentRoom } = get();\r\n          if (currentRoom) {\r\n            websocketService.unsubscribeFromGame(currentRoom.id);\r\n            set({ currentRoom: null });\r\n            get().resetGameState();\r\n            resetRealtimeSessionTracking();\r\n          }\r\n        },\r\n\r\n        sendChatMessage: (message: string) => {\r\n          const { currentRoom } = get();\r\n          if (currentRoom && get().isConnected) {\r\n            const { nickname } = useAuthStore.getState();\r\n            websocketService.sendChatMessage(currentRoom.id, message, { nickname: nickname ?? undefined });\r\n          }\r\n        },\r\n\r\n        castVote: (targetPlayerId: string) => {\r\n          const { currentRoom } = get();\r\n          if (currentRoom && get().isConnected) {\r\n            const numericTargetId = Number.parseInt(targetPlayerId, 10);\r\n            if (!Number.isNaN(numericTargetId)) {\r\n              websocketService.sendVote(currentRoom.id, numericTargetId);\r\n            }\r\n          }\r\n        },\r\n\r\n        submitDefense: (defense: string) => {\r\n          const { currentRoom } = get();\r\n          if (currentRoom && get().isConnected) {\r\n            websocketService.sendDefense(currentRoom.id, defense);\r\n          }\r\n        },\r\n\r\n        startGame: () => {\r\n          const { currentRoom } = get();\r\n          if (currentRoom && get().isConnected) {\r\n            websocketService.sendGameAction(currentRoom.id, 'start');\r\n          }\r\n        },\r\n\r\n        // Internal actions\r\n        setConnectionState: (connected: boolean) => {\r\n          set({ isConnected: connected });\r\n        },\r\n\r\n        setConnectionError: (error: string | null) => {\r\n          set({ connectionError: error });\r\n        },\r\n\r\n        handleGameEvent: (event: GameEvent) => {\r\n          const state = get();\r\n\r\n          switch (event.type) {\r\n            case 'PLAYER_JOINED': {\r\n              if (state.currentRoom) {\r\n                const playerId = String(event.payload.playerId ?? 'unknown');\r\n                const newPlayer: Player = {\r\n                  id: playerId,\r\n                  name: event.payload.playerName ?? event.payload.nickname ?? 'Unknown',\r\n                  isHost: Boolean(event.payload.isHost),\r\n                  isReady: Boolean(event.payload.isReady),\r\n                  isConnected: true,\r\n                  score: 0\r\n                };\r\n\r\n                set({\r\n                  currentRoom: {\r\n                    ...state.currentRoom,\r\n                    players: [...state.currentRoom.players, newPlayer]\r\n                  }\r\n                });\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'PLAYER_LEFT': {\r\n              if (state.currentRoom) {\r\n                const leavingId = String(event.payload.playerId ?? 'unknown');\r\n                set({\r\n                  currentRoom: {\r\n                    ...state.currentRoom,\r\n                    players: state.currentRoom.players.filter(player => player.id !== leavingId)\r\n                  }\r\n                });\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'GAME_STARTED':\r\n              set({\r\n                currentRoom: state.currentRoom ? {\r\n                  ...state.currentRoom,\r\n                  isStarted: true,\r\n                  state: 'PROVIDING_HINTS',\r\n                  currentRound: event.payload.currentRound ?? state.currentRoom.currentRound\r\n                } : null\r\n              });\r\n              break;\r\n\r\n            case 'ROUND_STARTED':\r\n              set({\r\n                currentCategory: event.payload.category ?? state.currentCategory,\r\n                timeRemaining: typeof event.payload.timeLimit === 'number' ? event.payload.timeLimit : state.timeRemaining,\r\n                isLiar: event.payload.liarId != null ? String(event.payload.liarId) === state.currentPlayerId : state.isLiar,\r\n                hints: [],\r\n                votes: [],\r\n                defenses: []\r\n              });\r\n              break;\r\n\r\n            case 'HINT_PROVIDED':\r\n              get().addHint(\r\n                String(event.payload.playerId ?? 'unknown'),\r\n                event.payload.playerName ?? '',\r\n                event.payload.hint ?? ''\r\n              );\r\n              break;\r\n\r\n            case 'VOTE_CAST':\r\n              get().addVote(\r\n                String(event.payload.voterId ?? 'unknown'),\r\n                event.payload.voterName ?? '',\r\n                String(event.payload.targetId ?? 'unknown'),\r\n                event.payload.targetName ?? ''\r\n              );\r\n              break;\r\n\r\n            case 'DEFENSE_SUBMITTED':\r\n              get().addDefense(\r\n                String(event.payload.defenderId ?? event.payload.playerId ?? 'unknown'),\r\n                event.payload.defenderName ?? event.payload.playerName ?? '',\r\n                event.payload.defense ?? ''\r\n              );\r\n              break;\r\n\r\n            case 'ROUND_ENDED': {\r\n              if (state.currentRoom) {\r\n                const scoreEntries = (event.payload.scores ?? event.payload.finalScores ?? []) as ScoreEntry[];\r\n                const updatedPlayers = state.currentRoom.players.map(player => {\r\n                  const scoreInfo = scoreEntries.find(entry => String(entry.playerId) === player.id);\r\n                  return scoreInfo ? { ...player, score: scoreInfo.score } : player;\r\n                });\r\n\r\n                set({\r\n                  currentRoom: {\r\n                    ...state.currentRoom,\r\n                    players: updatedPlayers,\r\n                    state: 'ROUND_ENDED'\r\n                  }\r\n                });\r\n              }\r\n              break;\r\n            }\r\n\r\n            case 'GAME_ENDED':\r\n              if (state.currentRoom) {\r\n                const scoreEntries = (event.payload.finalScores ?? event.payload.scores ?? []) as ScoreEntry[];\r\n                const finalPlayers = state.currentRoom.players.map(player => {\r\n                  const scoreInfo = scoreEntries.find(entry => String(entry.playerId) === player.id);\r\n                  return scoreInfo ? { ...player, score: scoreInfo.score } : player;\r\n                });\r\n\r\n                set({\r\n                  currentRoom: {\r\n                    ...state.currentRoom,\r\n                    players: finalPlayers,\r\n                    state: 'GAME_ENDED'\r\n                  }\r\n                });\r\n              }\r\n              break;\r\n\r\n            case 'GAME_STATE_UPDATED':\r\n              if (state.currentRoom) {\r\n                const nextState = event.payload.state;\r\n                const allowedStates: GameRoom['state'][] = [\r\n                  'WAITING',\r\n                  'STARTING',\r\n                  'PROVIDING_HINTS',\r\n                  'VOTING',\r\n                  'DEFENDING',\r\n                  'ROUND_ENDED',\r\n                  'GAME_ENDED',\r\n                ];\r\n                const resolvedState =\r\n                  typeof nextState === 'string' && allowedStates.includes(nextState as GameRoom['state'])\r\n                    ? (nextState as GameRoom['state'])\r\n                    : state.currentRoom.state;\r\n                set({\r\n                  currentRoom: {\r\n                    ...state.currentRoom,\r\n                    state: resolvedState\r\n                  },\r\n                  timeRemaining: event.payload.timeRemaining ?? state.timeRemaining\r\n                });\r\n              }\r\n              break;\r\n          }\r\n        },\r\n\r\n        handleChatMessage: (message: ChatMessage) => {\r\n          set(state => ({\r\n            chatMessages: [...state.chatMessages, message]\r\n          }));\r\n        },\r\n\r\n        updatePlayer: (playerId: string, updates: Partial<Player>) => {\r\n          const state = get();\r\n          if (state.currentRoom) {\r\n            set({\r\n              currentRoom: {\r\n                ...state.currentRoom,\r\n                players: state.currentRoom.players.map(player =>\r\n                  player.id === playerId ? { ...player, ...updates } : player\r\n                )\r\n              }\r\n            });\r\n          }\r\n        },\r\n\r\n        addHint: (playerId: string, playerName: string, hint: string) => {\r\n          set(state => ({\r\n            hints: [...state.hints, {\r\n              playerId,\r\n              playerName,\r\n              hint,\r\n              timestamp: Date.now()\r\n            }]\r\n          }));\r\n        },\r\n\r\n        addVote: (voterId: string, voterName: string, targetId: string, targetName: string) => {\r\n          set(state => ({\r\n            votes: [...state.votes, {\r\n              voterId,\r\n              voterName,\r\n              targetId,\r\n              targetName\r\n            }]\r\n          }));\r\n        },\r\n\r\n        addDefense: (defenderId: string, defenderName: string, defense: string) => {\r\n          set(state => ({\r\n            defenses: [...state.defenses, {\r\n              defenderId,\r\n              defenderName,\r\n              defense,\r\n              timestamp: Date.now()\r\n            }]\r\n          }));\r\n        },\r\n\r\n        resetGameState: () => {\r\n          set({\r\n            isLiar: false,\r\n            currentCategory: null,\r\n            timeRemaining: 0,\r\n            hints: [],\r\n            votes: [],\r\n            defenses: [],\r\n            chatMessages: []\r\n          });\r\n        }\r\n      };\r\n    },\r\n    {\r\n      name: 'game-store'\r\n    }\r\n  )\r\n);\r\n\r\nexport default useGameStore;\r\n","export const GAME_FLOW_SCHEMA_VERSION = 'game-flow/2024-09-18' as const\r\nexport const REALTIME_SCHEMA_VERSION = 'game-realtime/2024-09-18' as const\r\n\r\nexport type GameFlowSchemaVersion = typeof GAME_FLOW_SCHEMA_VERSION\r\nexport type RealtimeSchemaVersion = typeof REALTIME_SCHEMA_VERSION\r\n\r\nexport interface VersionedPayload<SchemaVersion extends string> {\r\n  schemaVersion?: SchemaVersion\r\n}\r\n\r\nexport type GameFlowPayload = VersionedPayload<GameFlowSchemaVersion>\r\nexport type GameRealtimePayload = VersionedPayload<RealtimeSchemaVersion>\r\n\r\nexport const isGameFlowPayload = <T extends VersionedPayload<string>>(payload: T): payload is T & VersionedPayload<GameFlowSchemaVersion> => {\r\n  return (\r\n    payload.schemaVersion === undefined ||\r\n    payload.schemaVersion === GAME_FLOW_SCHEMA_VERSION\r\n  )\r\n}\r\n\r\nexport const isRealtimePayload = <T extends VersionedPayload<string>>(payload: T): payload is T & VersionedPayload<RealtimeSchemaVersion> => {\r\n  return (\r\n    payload.schemaVersion === undefined ||\r\n    payload.schemaVersion === REALTIME_SCHEMA_VERSION\r\n  )\r\n}\r\n","import {create} from 'zustand'\r\nimport {devtools} from 'zustand/middleware'\r\n\r\nimport {\r\n    type ChatMessage,\r\n    GAME_FLOW_SCHEMA_VERSION,\r\n    type GameRealtimeEvent,\r\n    type GameRealtimeEventType,\r\n    type GameStateResponse,\r\n    type PlayerResponse,\r\n    type ScoreboardEntry,\r\n    type VotingStatusResponse\r\n} from '@/types/backendTypes'\r\n\r\nexport interface PlayerSummary {\r\n  id: number\r\n  userId: number\r\n  nickname: string\r\n  state: PlayerResponse['state']\r\n  isAlive: boolean\r\n  hasVoted: boolean\r\n  votesReceived?: number | null\r\n  role?: string | null\r\n  hint?: string | null\r\n  defense?: string | null\r\n}\r\n\r\nexport interface VotingSnapshot {\r\n  gameNumber: number\r\n  currentVotes: number\r\n  requiredVotes: number\r\n  totalPlayers: number\r\n  votedPlayers: VotingStatusResponse['votedPlayers']\r\n  pendingPlayers: VotingStatusResponse['pendingPlayers']\r\n  votingDeadline?: string | null\r\n  canChangeVote: boolean\r\n}\r\n\r\nexport interface CountdownTracker {\r\n  id: string\r\n  phase: GameStateResponse['currentPhase'] | string\r\n  endsAt?: string | null\r\n  remainingSeconds?: number\r\n}\r\n\r\ninterface GameplayMetaState {\r\n  gameNumber: number | null\r\n  schemaVersion: string | null\r\n  mode: GameStateResponse['gameMode'] | null\r\n  round: {\r\n    current: number\r\n    total: number\r\n  }\r\n}\r\n\r\ninterface GameplayPhaseState {\r\n  current: GameStateResponse['currentPhase']\r\n  endsAt?: string | null\r\n  turnOrder: string[]\r\n  activePlayerId?: number | null\r\n  accusedPlayerId?: number | null\r\n}\r\n\r\ninterface GameplayPlayersState {\r\n  byId: Record<number, PlayerSummary>\r\n  order: number[]\r\n}\r\n\r\ninterface GameplayChatState {\r\n  messages: ChatMessage[]\r\n  unreadCount: number\r\n}\r\n\r\ninterface GameplayTimersState {\r\n  items: Record<string, CountdownTracker>\r\n}\r\n\r\nexport interface GameplayStoreState {\r\n  meta: GameplayMetaState\r\n  phase: GameplayPhaseState\r\n  players: GameplayPlayersState\r\n  scoreboard: ScoreboardEntry[]\r\n  voting: VotingSnapshot | null\r\n  chat: GameplayChatState\r\n  timers: GameplayTimersState\r\n  lastEventType: GameRealtimeEventType | null\r\n  actions: {\r\n    hydrateFromSnapshot: (snapshot: GameStateResponse) => void\r\n    applyRealtimeEvent: (event: GameRealtimeEvent) => void\r\n    setVotingStatus: (status: VotingStatusResponse) => void\r\n    appendChatMessages: (messages: ChatMessage[]) => void\r\n    reset: () => void\r\n  }\r\n}\r\n\r\nconst createInitialState = (): Omit<GameplayStoreState, 'actions'> => ({\r\n  meta: {\r\n    gameNumber: null,\r\n    schemaVersion: null,\r\n    mode: null,\r\n    round: { current: 0, total: 0 }\r\n  },\r\n  phase: {\r\n    current: 'WAITING_FOR_PLAYERS',\r\n    endsAt: null,\r\n    turnOrder: [],\r\n    activePlayerId: null,\r\n    accusedPlayerId: null\r\n  },\r\n  players: {\r\n    byId: {},\r\n    order: []\r\n  },\r\n  scoreboard: [],\r\n  voting: null,\r\n  chat: {\r\n    messages: [],\r\n    unreadCount: 0\r\n  },\r\n  timers: {\r\n    items: {}\r\n  },\r\n  lastEventType: null\r\n})\r\n\r\nconst buildPlayerSummary = (player: PlayerResponse): PlayerSummary => ({\r\n  id: player.id,\r\n  userId: player.userId,\r\n  nickname: player.nickname,\r\n  state: player.state,\r\n  isAlive: player.isAlive,\r\n  hasVoted: player.hasVoted,\r\n  votesReceived: player.votesReceived,\r\n  role: player.state === 'ACCUSED' ? 'ACCUSING' : undefined,\r\n  hint: player.hint,\r\n  defense: player.defense\r\n})\r\n\r\nconst toNumber = (value: unknown): number | undefined => {\r\n  if (typeof value === 'number' && !Number.isNaN(value)) {\r\n    return value\r\n  }\r\n  if (typeof value === 'string') {\r\n    const parsed = Number(value)\r\n    if (!Number.isNaN(parsed)) {\r\n      return parsed\r\n    }\r\n  }\r\n  return undefined\r\n}\r\n\r\nconst toStringValue = (value: unknown): string | undefined => {\r\n  if (typeof value === 'string' && value.length > 0) {\r\n    return value\r\n  }\r\n  return undefined\r\n}\r\n\r\nconst toBoolean = (value: unknown): boolean | undefined => {\r\n  if (typeof value === 'boolean') {\r\n    return value\r\n  }\r\n  return undefined\r\n}\r\n\r\nconst KNOWN_GAME_PHASES = new Set<GameStateResponse['currentPhase']>([\r\n  'WAITING_FOR_PLAYERS',\r\n  'SPEECH',\r\n  'VOTING_FOR_LIAR',\r\n  'DEFENDING',\r\n  'VOTING_FOR_SURVIVAL',\r\n  'GUESSING_WORD',\r\n  'GAME_OVER'\r\n])\r\n\r\nconst toGamePhase = (\r\n  value: unknown,\r\n  fallback: GameStateResponse['currentPhase']\r\n): GameStateResponse['currentPhase'] => {\r\n  if (typeof value === 'string' && KNOWN_GAME_PHASES.has(value as GameStateResponse['currentPhase'])) {\r\n    return value as GameStateResponse['currentPhase']\r\n  }\r\n  return fallback\r\n}\r\n\r\nconst toNumberArray = (value: unknown): number[] | undefined => {\r\n  if (!Array.isArray(value)) {\r\n    return undefined\r\n  }\r\n  const numbers = value\r\n    .map((item) => toNumber(item))\r\n    .filter((item): item is number => item != null)\r\n  return numbers\r\n}\r\n\r\nconst computeDeadline = (timestamp: string | undefined, seconds?: number): string | null => {\r\n  if (!timestamp || typeof seconds !== 'number' || Number.isNaN(seconds)) {\r\n    return null\r\n  }\r\n  const base = Date.parse(timestamp)\r\n  if (Number.isNaN(base)) {\r\n    return null\r\n  }\r\n  return new Date(base + seconds * 1000).toISOString()\r\n}\r\n\r\nconst normalizeScoreboardBroadcast = (players: Array<Record<string, unknown>>): ScoreboardEntry[] => {\r\n  if (!Array.isArray(players)) {\r\n    return []\r\n  }\r\n  return players\r\n    .map((raw) => {\r\n      if (!raw || typeof raw !== 'object') {\r\n        return null\r\n      }\r\n      const userId = toNumber((raw as Record<string, unknown>)['userId'])\r\n      const nickname = toStringValue((raw as Record<string, unknown>)['nickname'])\r\n      const score = toNumber((raw as Record<string, unknown>)['score'])\r\n      const isAlive = toBoolean((raw as Record<string, unknown>)['isAlive'])\r\n      if (userId == null || nickname == null || score == null) {\r\n        return null\r\n      }\r\n      return {\r\n        userId,\r\n        nickname,\r\n        score,\r\n        isAlive: isAlive ?? true\r\n      }\r\n    })\r\n    .filter((entry): entry is ScoreboardEntry => entry != null)\r\n}\r\n\r\nconst buildSystemChatMessage = (\r\n  gameNumber: number | null,\r\n  content: string,\r\n  timestamp: string,\r\n  nickname = 'SYSTEM',\r\n  type: ChatMessage['type'] = 'SYSTEM'\r\n): ChatMessage => ({\r\n  id: null,\r\n  gameNumber: gameNumber ?? 0,\r\n  playerNickname: nickname,\r\n  content,\r\n  timestamp,\r\n  type\r\n})\r\n\r\nexport const useGameplayStore = create<GameplayStoreState>()(\r\n  devtools((set) => ({\r\n    ...createInitialState(),\r\n    actions: {\r\n      hydrateFromSnapshot: (snapshot) => {\r\n        const playerSummaries = snapshot.players.map(buildPlayerSummary)\r\n        const byId = Object.fromEntries(playerSummaries.map((summary) => [summary.id, summary]))\r\n        const order = snapshot.turnOrder?.map((id) => Number(id)) ?? playerSummaries.map((summary) => summary.id)\r\n\r\n        set((state) => ({\r\n          ...state,\r\n          meta: {\r\n            gameNumber: snapshot.gameNumber,\r\n            schemaVersion: snapshot.schemaVersion ?? GAME_FLOW_SCHEMA_VERSION,\r\n            mode: snapshot.gameMode,\r\n            round: {\r\n              current: snapshot.gameCurrentRound,\r\n              total: snapshot.gameTotalRounds\r\n            }\r\n          },\r\n          phase: {\r\n            current: snapshot.currentPhase,\r\n            endsAt: snapshot.phaseEndTime ?? null,\r\n            turnOrder: snapshot.turnOrder ?? [],\r\n            activePlayerId: snapshot.currentTurnIndex != null ? order[snapshot.currentTurnIndex] ?? null : null,\r\n            accusedPlayerId: snapshot.accusedPlayer?.id ?? null\r\n          },\r\n          players: {\r\n            byId,\r\n            order\r\n          },\r\n          scoreboard: snapshot.scoreboard,\r\n          voting: state.voting?.gameNumber === snapshot.gameNumber ? state.voting : null,\r\n          lastEventType: null\r\n        }))\r\n      },\r\n      applyRealtimeEvent: (event) => {\r\n        set((state) => {\r\n          let meta = state.meta\r\n          let phase = state.phase\r\n          let playersById = state.players.byId\r\n          const playersOrder = state.players.order\r\n          let playersChanged = false\r\n          let scoreboard = state.scoreboard\r\n          let voting = state.voting\r\n          let chatMessages = state.chat.messages\r\n          let unreadCount = state.chat.unreadCount\r\n          let chatChanged = false\r\n          let timerItems = state.timers.items\r\n          let timersChanged = false\r\n\r\n          const payloadSchemaVersion = (event.payload as { schemaVersion?: string }).schemaVersion\r\n          if (payloadSchemaVersion && payloadSchemaVersion !== state.meta.schemaVersion) {\r\n            meta = {\r\n              ...meta,\r\n              schemaVersion: payloadSchemaVersion\r\n            }\r\n          }\r\n\r\n          const currentGameNumber =\r\n            meta.gameNumber ?? (event as { payload?: { gameNumber?: number } }).payload?.gameNumber ?? null\r\n\r\n          const ensureVotingSnapshot = (defaults: Partial<VotingSnapshot> = {}): VotingSnapshot => {\r\n            const base: VotingSnapshot = voting ?? {\r\n              gameNumber: defaults.gameNumber ?? currentGameNumber ?? 0,\r\n              currentVotes: 0,\r\n              requiredVotes: defaults.requiredVotes ?? 0,\r\n              totalPlayers: defaults.totalPlayers ?? 0,\r\n              votedPlayers: [],\r\n              pendingPlayers: [],\r\n              votingDeadline: null,\r\n              canChangeVote: true\r\n            }\r\n            return {\r\n              ...base,\r\n              ...defaults\r\n            }\r\n          }\r\n\r\n          const pushSystemMessage = (message: ChatMessage) => {\r\n            chatMessages = [...chatMessages, message].slice(-200)\r\n            unreadCount += 1\r\n            chatChanged = true\r\n          }\r\n\r\n          switch (event.type) {\r\n            case 'PHASE_CHANGE': {\r\n              const additionalData = (event.payload.additionalData ?? {}) as Record<string, unknown>\r\n              const turnOrder = toNumberArray(additionalData['turnOrder'])?.map((id) => id.toString())\r\n              const activeId = toNumber(additionalData['currentSpeakerId'] ?? additionalData['currentTurnPlayerId'])\r\n              const accusedId = toNumber(additionalData['accusedPlayerId'])\r\n              const phaseEndsAt = toStringValue(additionalData['phaseEndsAt'] ?? additionalData['phaseEndTime'])\r\n              const currentRound = toNumber(additionalData['currentRound'])\r\n              const totalRounds = toNumber(additionalData['totalRounds'])\r\n\r\n              phase = {\r\n                ...phase,\r\n                current: toGamePhase(event.payload.phase, phase.current),\r\n                endsAt: phaseEndsAt ?? null,\r\n                turnOrder: turnOrder ?? phase.turnOrder,\r\n                activePlayerId: activeId ?? phase.activePlayerId ?? null,\r\n                accusedPlayerId: accusedId ?? null\r\n              }\r\n\r\n              if (currentRound != null || totalRounds != null) {\r\n                meta = {\r\n                  ...meta,\r\n                  round: {\r\n                    current: currentRound ?? meta.round.current,\r\n                    total: totalRounds ?? meta.round.total\r\n                  }\r\n                }\r\n              }\r\n              break\r\n            }\r\n            case 'CURRENT_TURN': {\r\n              phase = {\r\n                ...phase,\r\n                activePlayerId: event.payload.currentSpeakerId\r\n              }\r\n              break\r\n            }\r\n            case 'DEFENSE_START': {\r\n              phase = {\r\n                ...phase,\r\n                accusedPlayerId: event.payload.accusedPlayerId\r\n              }\r\n              const deadline = computeDeadline(event.payload.timestamp, event.payload.defenseTimeLimit)\r\n              timerItems = {\r\n                ...timerItems,\r\n                defense: {\r\n                  id: 'defense',\r\n                  phase: 'DEFENDING',\r\n                  endsAt: deadline,\r\n                  remainingSeconds: event.payload.defenseTimeLimit\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'DEFENSE_SUBMISSION': {\r\n              const targetPlayerId = playersOrder.find((id) => playersById[id]?.userId === event.payload.userId)\r\n              if (targetPlayerId != null && playersById[targetPlayerId]) {\r\n                playersById = {\r\n                  ...playersById,\r\n                  [targetPlayerId]: {\r\n                    ...playersById[targetPlayerId],\r\n                    defense: event.payload.defenseText\r\n                  }\r\n                }\r\n                playersChanged = true\r\n              }\r\n              break\r\n            }\r\n            case 'DEFENSE_TIMEOUT': {\r\n              if ('defense' in timerItems) {\r\n                const rest = {...timerItems}\r\n                delete rest.defense\r\n                timerItems = rest\r\n                timersChanged = true\r\n              }\r\n              break\r\n            }\r\n            case 'VOTING_START': {\r\n              const totalPlayers = event.payload.availablePlayers.length\r\n              const votingDeadline = computeDeadline(event.payload.timestamp, event.payload.votingTimeLimit)\r\n              const pendingPlayers = event.payload.availablePlayers.map((player) => ({\r\n                userId: player.id,\r\n                nickname: player.nickname,\r\n                votedAt: null\r\n              })) as VotingStatusResponse['pendingPlayers']\r\n              voting = ensureVotingSnapshot({\r\n                gameNumber: event.payload.gameNumber,\r\n                currentVotes: 0,\r\n                requiredVotes: Math.max(1, Math.floor(totalPlayers / 2) + 1),\r\n                totalPlayers,\r\n                votedPlayers: [],\r\n                pendingPlayers,\r\n                votingDeadline,\r\n                canChangeVote: true\r\n              })\r\n              const deadline = computeDeadline(event.payload.timestamp, event.payload.votingTimeLimit)\r\n              timerItems = {\r\n                ...timerItems,\r\n                voting: {\r\n                  id: 'voting',\r\n                  phase: phase.current,\r\n                  endsAt: deadline,\r\n                  remainingSeconds: event.payload.votingTimeLimit\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'VOTING_PROGRESS': {\r\n              const totalPlayers = event.payload.totalCount\r\n              voting = ensureVotingSnapshot({\r\n                gameNumber: event.payload.gameNumber,\r\n                currentVotes: event.payload.votedCount,\r\n                totalPlayers,\r\n                requiredVotes: voting?.requiredVotes ?? Math.max(1, Math.floor(totalPlayers / 2) + 1)\r\n              })\r\n              break\r\n            }\r\n            case 'FINAL_VOTING_START': {\r\n              const votingDeadline = computeDeadline(event.payload.timestamp, event.payload.votingTimeLimit)\r\n              const pendingPlayers = playersOrder\r\n                .filter((id) => id !== event.payload.accusedPlayerId)\r\n                .map((id) => ({\r\n                  userId: playersById[id]?.userId ?? id,\r\n                  nickname: playersById[id]?.nickname ?? `Player ${id}`,\r\n                  votedAt: null\r\n                })) as VotingStatusResponse['pendingPlayers']\r\n              voting = ensureVotingSnapshot({\r\n                gameNumber: event.payload.gameNumber,\r\n                currentVotes: 0,\r\n                requiredVotes:\r\n                  voting?.requiredVotes ?? Math.max(1, Math.floor(Math.max(playersOrder.length - 1, 1) / 2) + 1),\r\n                totalPlayers: Math.max(playersOrder.length - 1, 0),\r\n                votedPlayers: [],\r\n                pendingPlayers,\r\n                votingDeadline,\r\n                canChangeVote: false\r\n              })\r\n              const deadline = computeDeadline(event.payload.timestamp, event.payload.votingTimeLimit)\r\n              timerItems = {\r\n                ...timerItems,\r\n                finalVoting: {\r\n                  id: 'finalVoting',\r\n                  phase: 'VOTING_FOR_SURVIVAL',\r\n                  endsAt: deadline,\r\n                  remainingSeconds: event.payload.votingTimeLimit\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'FINAL_VOTING_PROGRESS': {\r\n              const totalPlayers = event.payload.totalCount\r\n              voting = ensureVotingSnapshot({\r\n                gameNumber: event.payload.gameNumber,\r\n                currentVotes: event.payload.votedCount,\r\n                totalPlayers,\r\n                canChangeVote: false\r\n              })\r\n              break\r\n            }\r\n            case 'FINAL_VOTING_RESULT': {\r\n              voting = {\r\n                gameNumber: event.payload.gameNumber,\r\n                currentVotes: event.payload.executionVotes + event.payload.survivalVotes,\r\n                requiredVotes: event.payload.totalVotes,\r\n                totalPlayers: event.payload.totalVotes,\r\n                votedPlayers: event.payload.finalVotingRecord.map((record) => ({\r\n                  userId: record.voterPlayerId,\r\n                  nickname: record.voterNickname,\r\n                  votedAt: null\r\n                })),\r\n                pendingPlayers: [],\r\n                votingDeadline: null,\r\n                canChangeVote: false\r\n              }\r\n              scoreboard = event.payload.scoreboard\r\n              const restTimers = {...timerItems}\r\n              delete restTimers.voting\r\n              delete restTimers.finalVoting\r\n              timerItems = restTimers\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'SPEECH_TIMER': {\r\n              const timerId = `speech-${event.payload.userId}`\r\n              const deadline = computeDeadline(event.payload.timestamp, event.payload.remainingTime)\r\n              timerItems = {\r\n                ...timerItems,\r\n                [timerId]: {\r\n                  id: timerId,\r\n                  phase: phase.current,\r\n                  endsAt: deadline,\r\n                  remainingSeconds: event.payload.remainingTime\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'COUNTDOWN_UPDATE': {\r\n              timerItems = {\r\n                ...timerItems,\r\n                countdown: {\r\n                  id: 'countdown',\r\n                  phase: event.payload.phase,\r\n                  endsAt: null,\r\n                  remainingSeconds: event.payload.remainingTime\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'SCOREBOARD': {\r\n              scoreboard = normalizeScoreboardBroadcast(event.payload.players)\r\n              break\r\n            }\r\n            case 'GAME_END': {\r\n              phase = {\r\n                ...phase,\r\n                current: 'GAME_OVER',\r\n                activePlayerId: null,\r\n                accusedPlayerId: null,\r\n                endsAt: null\r\n              }\r\n              meta = {\r\n                ...meta,\r\n                round: {\r\n                  current: event.payload.gameStatistics.currentRound,\r\n                  total: event.payload.gameStatistics.totalRounds\r\n                }\r\n              }\r\n              if (Object.keys(timerItems).length > 0) {\r\n                timerItems = {}\r\n                timersChanged = true\r\n              }\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  `  -  : ${event.payload.winner}`,\r\n                  event.payload.timestamp,\r\n                  'SYSTEM',\r\n                  'POST_ROUND'\r\n                )\r\n              )\r\n              break\r\n            }\r\n            case 'TERMINATION': {\r\n              phase = {\r\n                ...phase,\r\n                current: 'GAME_OVER',\r\n                activePlayerId: null,\r\n                accusedPlayerId: null,\r\n                endsAt: null\r\n              }\r\n              if (Object.keys(timerItems).length > 0) {\r\n                timerItems = {}\r\n                timersChanged = true\r\n              }\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  ` : ${event.payload.message}`,\r\n                  event.payload.timestamp\r\n                )\r\n              )\r\n              break\r\n            }\r\n            case 'LIAR_GUESS_START': {\r\n              phase = {\r\n                ...phase,\r\n                current: 'GUESSING_WORD',\r\n                activePlayerId: event.payload.liarPlayer.id\r\n              }\r\n              const liarSummary = playersById[event.payload.liarPlayer.id]\r\n              if (liarSummary) {\r\n                playersById = {\r\n                  ...playersById,\r\n                  [event.payload.liarPlayer.id]: {\r\n                    ...liarSummary,\r\n                    role: event.payload.liarPlayer.role ?? liarSummary.role\r\n                  }\r\n                }\r\n                playersChanged = true\r\n              }\r\n              const timerId = 'liarGuess'\r\n              const deadline = computeDeadline(event.payload.timestamp, event.payload.guessTimeLimit)\r\n              timerItems = {\r\n                ...timerItems,\r\n                [timerId]: {\r\n                  id: timerId,\r\n                  phase: 'GUESSING_WORD',\r\n                  endsAt: deadline,\r\n                  remainingSeconds: event.payload.guessTimeLimit\r\n                }\r\n              }\r\n              timersChanged = true\r\n              break\r\n            }\r\n            case 'LIAR_GUESS_RESULT': {\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  `  \"${event.payload.liarGuess}\"  ${event.payload.isCorrect ? '' : ''}`,\r\n                  new Date().toISOString(),\r\n                  'SYSTEM',\r\n                  'POST_ROUND'\r\n                )\r\n              )\r\n              if (event.payload.gameEnd) {\r\n                phase = {\r\n                  ...phase,\r\n                  current: 'GAME_OVER',\r\n                  activePlayerId: null,\r\n                  accusedPlayerId: null,\r\n                  endsAt: null\r\n                }\r\n                if (Object.keys(timerItems).length > 0) {\r\n                  timerItems = {}\r\n                  timersChanged = true\r\n                }\r\n              }\r\n              break\r\n            }\r\n            case 'MODERATOR': {\r\n              const label = event.payload.isImportant ? '[]' : '[]'\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  `${label} ${event.payload.content}`,\r\n                  event.payload.timestamp\r\n                )\r\n              )\r\n              break\r\n            }\r\n            case 'STATUS_MESSAGE': {\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  event.payload.content,\r\n                  event.payload.timestamp\r\n                )\r\n              )\r\n              break\r\n            }\r\n            case 'LIAR_MESSAGE': {\r\n              pushSystemMessage(\r\n                buildSystemChatMessage(\r\n                  currentGameNumber,\r\n                  event.payload.content,\r\n                  event.payload.timestamp\r\n                )\r\n              )\r\n              break\r\n            }\r\n            default:\r\n              break\r\n          }\r\n\r\n          return {\r\n            ...state,\r\n            meta,\r\n            phase,\r\n            players: playersChanged ? { byId: playersById, order: playersOrder } : state.players,\r\n            scoreboard,\r\n            voting,\r\n            chat: chatChanged ? { messages: chatMessages, unreadCount } : state.chat,\r\n            timers: timersChanged ? { items: timerItems } : state.timers,\r\n            lastEventType: event.type\r\n          }\r\n        })\r\n      },\r\n      setVotingStatus: (status) => {\r\n        set((state) => ({\r\n          ...state,\r\n          voting: {\r\n            gameNumber: status.gameNumber,\r\n            currentVotes: status.currentVotes,\r\n            requiredVotes: status.requiredVotes,\r\n            totalPlayers: status.totalPlayers,\r\n            votedPlayers: status.votedPlayers,\r\n            pendingPlayers: status.pendingPlayers,\r\n            votingDeadline: status.votingDeadline ?? null,\r\n            canChangeVote: status.canChangeVote\r\n          }\r\n        }))\r\n      },\r\n      appendChatMessages: (messages) => {\r\n        if (!Array.isArray(messages) || messages.length === 0) {\r\n          return\r\n        }\r\n        set((state) => ({\r\n          ...state,\r\n          chat: {\r\n            messages: [...state.chat.messages, ...messages].slice(-200),\r\n            unreadCount: state.chat.unreadCount + messages.length\r\n          }\r\n        }))\r\n      },\r\n      reset: () => {\r\n        set(() => ({\r\n          ...createInitialState()\r\n        }))\r\n      }\r\n    }\r\n  }), { name: 'gameplay-store' })\r\n)\r\n\r\nexport const selectGameplayMeta = (state: GameplayStoreState) => state.meta\r\nexport const selectGameplayPhase = (state: GameplayStoreState) => state.phase\r\nexport const selectGameplayPlayers = (state: GameplayStoreState) => state.players\r\nexport const selectGameplayVoting = (state: GameplayStoreState) => state.voting\r\nexport const selectGameplayChat = (state: GameplayStoreState) => state.chat\r\n","import {create} from 'zustand';\r\nimport {devtools} from 'zustand/middleware';\r\nimport type {\r\n    ConnectionStatus,\r\n    ConnectionStoreActions,\r\n    ConnectionStoreState,\r\n    LatencySample,\r\n    OptimisticUpdate,\r\n    OutgoingMessage,\r\n    PendingMessage,\r\n    SyncIssue,\r\n} from '@/types/store';\r\nimport {websocketService} from '@/services/websocketService';\r\nimport {useGameStore} from '@/stores';\r\n\r\ntype GameStoreSnapshot = ReturnType<typeof useGameStore.getState>;\r\n\r\nconst MAX_LATENCY_SAMPLES = 20;\r\nconst genId = () => (globalThis.crypto?.randomUUID?.() || Math.random().toString(36).slice(2));\r\n\r\nconst initialState: ConnectionStoreState = {\r\n  status: 'idle',\r\n  error: undefined,\r\n  reconnectAttempts: 0,\r\n  maxReconnectAttempts: 8,\r\n  lastConnectedAt: undefined,\r\n  lastDisconnectedAt: undefined,\r\n  lastPingAt: undefined,\r\n  lastPongAt: undefined,\r\n  avgLatency: undefined,\r\n  latencySamples: [],\r\n  messageQueue: [],\r\n  pendingMessages: {},\r\n  processingQueue: false,\r\n  optimisticUpdates: {},\r\n  syncIssues: [],\r\n};\r\n\r\nexport const useConnectionStore = create<ConnectionStoreState & ConnectionStoreActions>()(\r\n  devtools(\r\n    (set, get) => ({\r\n      ...initialState,\r\n      connect: async () => {\r\n        const { status } = get();\r\n        if (status === 'connecting' || status === 'connected') return;\r\n        set({ status: 'connecting', error: undefined });\r\n        try {\r\n          await websocketService.connect();\r\n          websocketService.addConnectionCallback((connected) => {\r\n            set(s => ({\r\n              status: connected ? ('connected' as ConnectionStatus) : ('disconnected' as ConnectionStatus),\r\n              lastConnectedAt: connected ? Date.now() : s.lastConnectedAt,\r\n              lastDisconnectedAt: connected ? s.lastDisconnectedAt : Date.now(),\r\n            }));\r\n            if (connected) {\r\n              //    \r\n              websocketService.processQueue();\r\n              get().processQueue();\r\n            }\r\n          });\r\n          // Raw listener ->  RTT ( inbound )\r\n          websocketService.registerRawListener(raw => {\r\n            if (raw.type === 'event') {\r\n              const sample: LatencySample = { id: genId(), sentAt: raw.receivedAt, receivedAt: raw.receivedAt, rtt: 0 };\r\n              get().recordLatency(sample);\r\n            }\r\n          });\r\n          set({ status: 'connected', lastConnectedAt: Date.now() });\r\n        } catch (e) {\r\n          set({ status: 'error', error: e instanceof Error ? e.message : ' ' });\r\n        }\r\n      },\r\n      disconnect: () => {\r\n        websocketService.disconnect();\r\n        set({ status: 'disconnected', lastDisconnectedAt: Date.now() });\r\n      },\r\n      sendMessage: (destination, body, opts) => {\r\n        //   \r\n        let optimisticId: string | undefined;\r\n        if (opts?.optimisticState) {\r\n          const gameStoreState = useGameStore.getState();\r\n          const optimisticState = opts.optimisticState as Partial<GameStoreSnapshot>;\r\n          const original = {} as Partial<GameStoreSnapshot>;\r\n          const originalRecord = original as Record<keyof GameStoreSnapshot, GameStoreSnapshot[keyof GameStoreSnapshot] | undefined>;\r\n          for (const key of Object.keys(optimisticState) as Array<keyof GameStoreSnapshot>) {\r\n            originalRecord[key] = gameStoreState[key];\r\n          }\r\n          optimisticId = get().addOptimisticUpdate({\r\n            action: destination,\r\n            optimisticState: opts.optimisticState,\r\n            originalState: original,\r\n          });\r\n          // \r\n          useGameStore.setState(optimisticState);\r\n        }\r\n        //   (offline  queue)\r\n        const id = websocketService.safePublish(destination, body) || genId();\r\n        // pendingMessages \r\n        const pending: PendingMessage = {\r\n          id,\r\n          destination,\r\n          body,\r\n          timestamp: Date.now(),\r\n          attempts: 1,\r\n          optimisticUpdateId: optimisticId,\r\n          status: 'sent',\r\n          lastAttempt: Date.now(),\r\n        };\r\n        set(state => ({\r\n          pendingMessages: { ...state.pendingMessages, [id]: pending },\r\n        }));\r\n      },\r\n      queueMessage: (msg) => {\r\n        const id = msg.id || genId();\r\n        const queued: OutgoingMessage = {\r\n          id,\r\n          destination: msg.destination,\r\n          body: msg.body,\r\n          attempts: 0,\r\n          timestamp: Date.now(),\r\n          optimisticUpdateId: msg.optimisticUpdateId,\r\n        };\r\n        set(state => ({ messageQueue: [...state.messageQueue, queued] }));\r\n        return id;\r\n      },\r\n      processQueue: async () => {\r\n        const { messageQueue, processingQueue } = get();\r\n        if (processingQueue || get().status !== 'connected') return;\r\n        if (!messageQueue.length) return;\r\n        set({ processingQueue: true });\r\n        const remaining: OutgoingMessage[] = [];\r\n        for (const m of messageQueue) {\r\n          try {\r\n            websocketService.safePublish(m.destination, m.body);\r\n          } catch {\r\n            m.attempts += 1;\r\n            if (m.attempts < 3) remaining.push(m);\r\n          }\r\n        }\r\n        set({ messageQueue: remaining, processingQueue: false });\r\n      },\r\n      setStatus: (status, error) => set({ status, error }),\r\n      recordLatency: (sample) => set(state => {\r\n        const samples = [...state.latencySamples, sample].slice(-MAX_LATENCY_SAMPLES);\r\n        const avg = samples.reduce((a, b) => a + b.rtt, 0) / samples.length || undefined;\r\n        return { latencySamples: samples, avgLatency: avg };\r\n      }),\r\n      clearLatency: () => set({ latencySamples: [], avgLatency: undefined }),\r\n      addOptimisticUpdate: (update) => {\r\n        const id = genId();\r\n        const optimistic: OptimisticUpdate = {\r\n          id,\r\n          timestamp: Date.now(),\r\n          confirmed: false,\r\n          rolledBack: false,\r\n          ...update,\r\n        };\r\n        set(state => ({ optimisticUpdates: { ...state.optimisticUpdates, [id]: optimistic } }));\r\n        return id;\r\n      },\r\n      confirmOptimistic: (id, serverState) => {\r\n        const { optimisticUpdates } = get();\r\n        const target = optimisticUpdates[id];\r\n        if (!target) return;\r\n        //   ( merge)\r\n        if (serverState) {\r\n          useGameStore.setState(serverState);\r\n        }\r\n        target.confirmed = true;\r\n        set(state => ({ optimisticUpdates: { ...state.optimisticUpdates, [id]: target } }));\r\n      },\r\n      rollbackOptimistic: (id) => {\r\n        const { optimisticUpdates } = get();\r\n        const target = optimisticUpdates[id];\r\n        if (!target || target.rolledBack) return;\r\n        useGameStore.setState(target.originalState);\r\n        target.rolledBack = true;\r\n        set(state => ({ optimisticUpdates: { ...state.optimisticUpdates, [id]: target } }));\r\n      },\r\n      addSyncIssue: (issue) => {\r\n        const syncIssue: SyncIssue = { id: genId(), timestamp: Date.now(), ...issue };\r\n        set(state => ({ syncIssues: [...state.syncIssues, syncIssue] }));\r\n      },\r\n      clearSyncIssues: () => set({ syncIssues: [] }),\r\n      pruneQueue: () => set(state => ({ messageQueue: state.messageQueue.filter(m => Date.now() - m.timestamp < 30000) })),\r\n    })\r\n  )\r\n);\r\n\r\nexport type ConnectionStore = ReturnType<typeof useConnectionStore.getState>;\r\n","import {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Card, CardContent, CardDescription, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Input} from '@/components/ui/input'\r\nimport {Label} from '@/components/ui/label'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Select, SelectContent, SelectItem, SelectTrigger, SelectValue} from '@/components/ui/select'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger\r\n} from '@/components/ui/dialog'\r\nimport {ScrollArea} from '@/components/ui/scroll-area'\r\nimport {Check, Lock, Play, Plus, RefreshCw, Settings, Unlock, Users} from 'lucide-react'\r\nimport {useToast} from '@/hooks/useToast'\r\nimport {useAuthStore} from '@/stores/authStore'\r\nimport {useModalRegistration} from '@/contexts/ModalContext'\r\nimport {type Subject, subjectApi} from '@/api/subjectApi'\r\nimport {gameService} from '@/api/gameApi'\r\nimport type {CreateGameRequest, GameMode} from '@/types/backendTypes'\r\nimport type {GameRoomInfo} from '@/types/api'\r\nimport type {LobbyUpdate} from '@/types/realtime'\r\nimport {useConnectionStore} from '@/stores/connectionStore'\r\nimport {websocketService} from '@/services/websocketService'\r\n\r\nconst GAME_MODES: GameMode[] = ['LIARS_KNOW', 'LIARS_DIFFERENT_WORD']\r\nconst PARTICIPANT_OPTIONS = [4, 5, 6, 7, 8]\r\nconst LIAR_COUNT_OPTIONS = [1, 2]\r\nconst ROUND_OPTIONS = [1, 3, 5]\r\nconst TARGET_POINT_OPTIONS = [10, 20, 30]\r\n\r\nconst normalizeRoomStatus = (value: unknown): 'WAITING' | 'IN_PROGRESS' | 'ENDED' => {\r\n  if (typeof value !== 'string') {\r\n    return 'WAITING'\r\n  }\r\n  const normalized = value.toUpperCase()\r\n  if (normalized === 'IN_PROGRESS') return 'IN_PROGRESS'\r\n  if (normalized === 'ENDED') return 'ENDED'\r\n  return 'WAITING'\r\n}\r\n\r\nconst statusLabel: Record<'WAITING' | 'IN_PROGRESS' | 'ENDED', string> = {\r\n  WAITING: ' ',\r\n  IN_PROGRESS: '  ',\r\n  ENDED: ''\r\n}\r\n\r\nconst getStatusBadge = (status: 'WAITING' | 'IN_PROGRESS' | 'ENDED') => {\r\n  const variant = status === 'IN_PROGRESS' ? 'secondary' : status === 'ENDED' ? 'outline' : 'default'\r\n  return <Badge variant={variant}>{statusLabel[status]}</Badge>\r\n}\r\n\r\ntype CreateGameFormState = {\r\n  gameName: string\r\n  gameMode: GameMode\r\n  gameParticipants: number\r\n  gameLiarCount: number\r\n  gameTotalRounds: number\r\n  targetPoints: number\r\n  isPrivate: boolean\r\n  password: string\r\n  useRandomSubjects: boolean\r\n  selectedSubjectIds: number[]\r\n  randomSubjectCount: number\r\n}\r\n\r\nconst createDefaultFormState = (nickname?: string | null, subjects: Subject[] = []): CreateGameFormState => ({\r\n  gameName: nickname ? `${nickname}  ` : '',\r\n  gameMode: 'LIARS_KNOW',\r\n  gameParticipants: 6,\r\n  gameLiarCount: 1,\r\n  gameTotalRounds: 3,\r\n  targetPoints: 10,\r\n  isPrivate: false,\r\n  password: '',\r\n  useRandomSubjects: false,\r\n  selectedSubjectIds: subjects.map(subject => subject.id),\r\n  randomSubjectCount: 10,\r\n})\r\n\r\nexport function GameRoomsSection() {\r\n  const navigate = useNavigate()\r\n  const { toast } = useToast()\r\n  const { nickname } = useAuthStore()\r\n  const connectWebSocket = useConnectionStore(state => state.connect)\r\n  const [rooms, setRooms] = useState<GameRoomInfo[]>([])\r\n  const [roomsLoading, setRoomsLoading] = useState(true)\r\n  const [roomsError, setRoomsError] = useState<string | null>(null)\r\n  const [isRefreshing, setIsRefreshing] = useState(false)\r\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\r\n  const [isJoinDialogOpen, setIsJoinDialogOpen] = useState(false)\r\n  const [sessionCodeInput, setSessionCodeInput] = useState('')\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [subjects, setSubjects] = useState<Subject[]>([])\r\n  const [subjectsLoading, setSubjectsLoading] = useState(false)\r\n  const [formState, setFormState] = useState<CreateGameFormState>(() => createDefaultFormState(nickname))\r\n\r\n  useModalRegistration('create-game-modal', isCreateDialogOpen)\r\n  useModalRegistration('join-game-modal', isJoinDialogOpen)\r\n\r\n  const loadRooms = useCallback(async (options?: { skipLoadingState?: boolean }) => {\r\n    const shouldToggleLoading = !options?.skipLoadingState\r\n    if (shouldToggleLoading) {\r\n      setRoomsLoading(true)\r\n    }\r\n    setRoomsError(null)\r\n    try {\r\n      const response = await gameService.getGameList(0, 24)\r\n      const list = response.gameRooms ?? response.games ?? response.data ?? []\r\n      setRooms(list)\r\n    } catch (error) {\r\n      const message = error instanceof Error ? error.message : '   '\r\n      setRoomsError(message)\r\n    } finally {\r\n      if (shouldToggleLoading) {\r\n        setRoomsLoading(false)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const refreshRooms = useCallback(async () => {\r\n    setIsRefreshing(true)\r\n    try {\r\n      await loadRooms()\r\n    } finally {\r\n      setIsRefreshing(false)\r\n    }\r\n  }, [loadRooms])\r\n\r\n  const handleLobbyUpdateEvent = useCallback((update: LobbyUpdate) => {\r\n    const rawGameNumber = update.gameNumber\r\n    const parsedGameNumber = typeof rawGameNumber === 'number'\r\n      ? rawGameNumber\r\n      : typeof rawGameNumber === 'string'\r\n        ? Number.parseInt(rawGameNumber, 10)\r\n        : Number.NaN\r\n\r\n    if (!Number.isFinite(parsedGameNumber)) {\r\n      return\r\n    }\r\n\r\n    const gameNumber = parsedGameNumber\r\n\r\n    if (update.type === 'ROOM_DELETED') {\r\n      setRooms(prev => {\r\n        const next = prev.filter(room => room.gameNumber !== gameNumber)\r\n        return next.length === prev.length ? prev : next\r\n      })\r\n      return\r\n    }\r\n\r\n    if (update.type === 'PLAYER_JOINED' || update.type === 'PLAYER_LEFT') {\r\n      let matched = false\r\n      setRooms(prev => {\r\n        const next: GameRoomInfo[] = []\r\n        for (const room of prev) {\r\n          if (room.gameNumber === gameNumber) {\r\n            matched = true\r\n            const currentPlayers = typeof update.currentPlayers === 'number'\r\n              ? update.currentPlayers\r\n              : update.type === 'PLAYER_JOINED'\r\n                ? room.currentPlayers + 1\r\n                : Math.max(0, room.currentPlayers - 1)\r\n            const maxPlayers = typeof update.maxPlayers === 'number' ? update.maxPlayers : room.maxPlayers\r\n\r\n            if (currentPlayers <= 0) {\r\n              continue\r\n            }\r\n\r\n            next.push({\r\n              ...room,\r\n              currentPlayers,\r\n              maxPlayers,\r\n            })\r\n          } else {\r\n            next.push(room)\r\n          }\r\n        }\r\n        return matched ? next : prev\r\n      })\r\n\r\n      const shouldRefreshHost = update.type === 'PLAYER_LEFT'\r\n        && (typeof update.currentPlayers !== 'number' || update.currentPlayers > 0)\r\n\r\n      if (!matched || shouldRefreshHost) {\r\n        void loadRooms({ skipLoadingState: true })\r\n      }\r\n      return\r\n    }\r\n\r\n    void loadRooms({ skipLoadingState: true })\r\n  }, [loadRooms])\r\n\r\n  const loadSubjects = useCallback(async () => {\r\n    setSubjectsLoading(true)\r\n    try {\r\n      const response = await subjectApi.getSubjects()\r\n      setSubjects(response.subjects)\r\n      setFormState(prev => ({\r\n        ...prev,\r\n        selectedSubjectIds: prev.useRandomSubjects ? prev.selectedSubjectIds : response.subjects.map(subject => subject.id)\r\n      }))\r\n    } catch (error) {\r\n      console.error('Failed to load subjects', error)\r\n      toast({\r\n        title: '  ',\r\n        description: error instanceof Error ? error.message : '     ',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setSubjectsLoading(false)\r\n    }\r\n  }, [toast])\r\n\r\n  useEffect(() => {\r\n    loadRooms()\r\n    loadSubjects()\r\n  }, [loadRooms, loadSubjects])\r\n\r\n  useEffect(() => {\r\n    let unsubscribe: (() => void) | undefined\r\n    let cancelled = false\r\n\r\n    const setupRealtime = async () => {\r\n      try {\r\n        await connectWebSocket()\r\n        if (cancelled) {\r\n          return\r\n        }\r\n        websocketService.ensureLobbySubscription()\r\n        unsubscribe = websocketService.onLobbyUpdate(handleLobbyUpdateEvent)\r\n      } catch (error) {\r\n        console.error('Failed to initialize lobby realtime updates', error)\r\n      }\r\n    }\r\n\r\n    setupRealtime()\r\n\r\n    return () => {\r\n      cancelled = true\r\n      if (unsubscribe) {\r\n        unsubscribe()\r\n      }\r\n    }\r\n  }, [connectWebSocket, handleLobbyUpdateEvent])\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (document.hasFocus() && !isCreateDialogOpen && !isJoinDialogOpen) {\r\n        loadRooms()\r\n      }\r\n    }, 30000)\r\n    return () => clearInterval(interval)\r\n  }, [loadRooms, isCreateDialogOpen, isJoinDialogOpen])\r\n\r\n  useEffect(() => {\r\n    setFormState(prev => ({\r\n      ...prev,\r\n      gameName: nickname ? `${nickname}  ` : prev.gameName\r\n    }))\r\n  }, [nickname])\r\n\r\n  const handleCreateDialogChange = (open: boolean) => {\r\n    setIsCreateDialogOpen(open)\r\n    if (open) {\r\n      setFormState(createDefaultFormState(nickname, subjects))\r\n    }\r\n  }\r\n\r\n  const handleToggleSubject = (subjectId: number) => {\r\n    setFormState(prev => {\r\n      const selected = prev.selectedSubjectIds.includes(subjectId)\r\n      return {\r\n        ...prev,\r\n        selectedSubjectIds: selected\r\n          ? prev.selectedSubjectIds.filter(id => id !== subjectId)\r\n          : [...prev.selectedSubjectIds, subjectId]\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleSelectAllSubjects = () => {\r\n    setFormState(prev => ({\r\n      ...prev,\r\n      selectedSubjectIds: subjects.map(subject => subject.id)\r\n    }))\r\n  }\r\n\r\n  const handleClearSubjects = () => {\r\n    setFormState(prev => ({\r\n      ...prev,\r\n      selectedSubjectIds: []\r\n    }))\r\n  }\r\n\r\n  const handleCreateRoom = async () => {\r\n    if (!formState.gameName.trim()) {\r\n      toast({\r\n        title: '  ',\r\n        description: '  ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    if (formState.isPrivate && !formState.password.trim()) {\r\n      toast({\r\n        title: ' ',\r\n        description: '    ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    if (!formState.useRandomSubjects && formState.selectedSubjectIds.length === 0) {\r\n      toast({\r\n        title: ' ',\r\n        description: '    ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    if (!nickname) {\r\n      toast({\r\n        title: ' ',\r\n        description: '   ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    const payload: CreateGameRequest = {\r\n      nickname,\r\n      gameName: formState.gameName,\r\n      gamePassword: formState.isPrivate ? formState.password.trim() || undefined : undefined,\r\n      gameParticipants: formState.gameParticipants,\r\n      gameLiarCount: formState.gameLiarCount,\r\n      gameTotalRounds: formState.gameTotalRounds,\r\n      gameMode: formState.gameMode,\r\n      subjectIds: formState.useRandomSubjects ? undefined : formState.selectedSubjectIds,\r\n      useRandomSubjects: formState.useRandomSubjects,\r\n      randomSubjectCount: formState.useRandomSubjects ? formState.randomSubjectCount : undefined,\r\n      targetPoints: formState.targetPoints,\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      const gameNumber = await gameService.createGame(payload)\r\n      toast.success(' !')\r\n      setFormState(createDefaultFormState(nickname, subjects))\r\n      setIsCreateDialogOpen(false)\r\n      await loadRooms()\r\n      navigate(`/game/${gameNumber}`)\r\n    } catch (error) {\r\n      console.error('Failed to create game room', error)\r\n      toast({\r\n        title: '  ',\r\n        description: error instanceof Error ? error.message : '    ',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleJoinRoom = async (gameNumber: number, isPrivate: boolean) => {\r\n    if (!nickname) {\r\n      toast({\r\n        title: ' ',\r\n        description: '   ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    let password: string | undefined\r\n    if (isPrivate) {\r\n      password = prompt(' :')?.trim() || undefined\r\n      if (!password) {\r\n        return\r\n      }\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      await gameService.joinGame({\r\n        gameNumber,\r\n        nickname,\r\n        gamePassword: password,\r\n      })\r\n      toast.success(' !')\r\n      setIsJoinDialogOpen(false)\r\n      navigate(`/game/${gameNumber}`)\r\n    } catch (error) {\r\n      console.error('Failed to join game room', error)\r\n      toast({\r\n        title: '  ',\r\n        description: error instanceof Error ? error.message : '    ',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleJoinByCode = async () => {\r\n    if (!sessionCodeInput.trim()) {\r\n      toast({\r\n        title: '  ',\r\n        description: '   ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    const parsed = Number(sessionCodeInput.trim())\r\n    if (Number.isNaN(parsed)) {\r\n      toast({\r\n        title: '   ',\r\n        description: '   ',\r\n        variant: 'destructive'\r\n      })\r\n      return\r\n    }\r\n\r\n    await handleJoinRoom(parsed, false)\r\n    setSessionCodeInput('')\r\n  }\r\n\r\n  const availableSubjectTags = useMemo(() => subjects.map(subject => ({\r\n    id: subject.id,\r\n    label: subject.name\r\n  })), [subjects])\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-xl font-semibold flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n               \r\n            </CardTitle>\r\n            <CardDescription>\r\n                    \r\n            </CardDescription>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <Button variant=\"outline\" onClick={refreshRooms} disabled={roomsLoading || isRefreshing}>\r\n              <RefreshCw className={`h-4 w-4 mr-2 ${isRefreshing ? 'animate-spin' : ''}`} />\r\n              \r\n            </Button>\r\n            <Dialog open={isJoinDialogOpen} onOpenChange={setIsJoinDialogOpen}>\r\n              <DialogTrigger asChild>\r\n                <Button variant=\"secondary\"> </Button>\r\n              </DialogTrigger>\r\n              <DialogContent>\r\n                <DialogHeader>\r\n                  <DialogTitle>  </DialogTitle>\r\n                  <DialogDescription>    </DialogDescription>\r\n                </DialogHeader>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"game-code\"> </Label>\r\n                    <Input\r\n                      id=\"game-code\"\r\n                      placeholder=\": 1024\"\r\n                      value={sessionCodeInput}\r\n                      onChange={(event) => setSessionCodeInput(event.target.value)}\r\n                    />\r\n                  </div>\r\n                  <Button onClick={handleJoinByCode} disabled={isSubmitting} className=\"w-full\">\r\n                    \r\n                  </Button>\r\n                </div>\r\n              </DialogContent>\r\n            </Dialog>\r\n            <Dialog open={isCreateDialogOpen} onOpenChange={handleCreateDialogChange}>\r\n              <DialogTrigger asChild>\r\n                <Button>\r\n                  <Plus className=\"h-4 w-4 mr-2\" />\r\n                   \r\n                </Button>\r\n              </DialogTrigger>\r\n              <DialogContent className=\"max-h-[90vh] overflow-hidden\">\r\n                <DialogHeader>\r\n                  <DialogTitle>  </DialogTitle>\r\n                  <DialogDescription>\r\n                          \r\n                  </DialogDescription>\r\n                </DialogHeader>\r\n                <ScrollArea className=\"h-[70vh] pr-4\">\r\n                  <div className=\"space-y-6\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"room-name\"> </Label>\r\n                      <Input\r\n                        id=\"room-name\"\r\n                        value={formState.gameName}\r\n                        onChange={(event) => setFormState(prev => ({ ...prev, gameName: event.target.value }))}\r\n                        placeholder=\"   \"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label> </Label>\r\n                        <Select\r\n                          value={formState.gameMode}\r\n                          onValueChange={(value: GameMode) => setFormState(prev => ({ ...prev, gameMode: value }))}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue placeholder=\"  \" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {GAME_MODES.map(mode => (\r\n                              <SelectItem key={mode} value={mode}>\r\n                                {mode.replace(/_/g, ' ')}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <Label> </Label>\r\n                        <Select\r\n                          value={String(formState.gameParticipants)}\r\n                          onValueChange={(value) => setFormState(prev => ({ ...prev, gameParticipants: Number(value) }))}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue placeholder=\"\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {PARTICIPANT_OPTIONS.map(option => (\r\n                              <SelectItem key={option} value={String(option)}>\r\n                                {option}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <Label> </Label>\r\n                        <Select\r\n                          value={String(formState.gameLiarCount)}\r\n                          onValueChange={(value) => setFormState(prev => ({ ...prev, gameLiarCount: Number(value) }))}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue placeholder=\" \" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {LIAR_COUNT_OPTIONS.map(option => (\r\n                              <SelectItem key={option} value={String(option)}>\r\n                                {option}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <Label> </Label>\r\n                        <Select\r\n                          value={String(formState.gameTotalRounds)}\r\n                          onValueChange={(value) => setFormState(prev => ({ ...prev, gameTotalRounds: Number(value) }))}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue placeholder=\"\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {ROUND_OPTIONS.map(option => (\r\n                              <SelectItem key={option} value={String(option)}>\r\n                                {option}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <Label> </Label>\r\n                        <Select\r\n                          value={String(formState.targetPoints)}\r\n                          onValueChange={(value) => setFormState(prev => ({ ...prev, targetPoints: Number(value) }))}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue placeholder=\"\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {TARGET_POINT_OPTIONS.map(option => (\r\n                              <SelectItem key={option} value={String(option)}>\r\n                                {option}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <Label htmlFor=\"private-room\"> </Label>\r\n                          <input\r\n                            id=\"private-room\"\r\n                            type=\"checkbox\"\r\n                            className=\"h-4 w-4\"\r\n                            checked={formState.isPrivate}\r\n                            onChange={(event) => setFormState(prev => ({ ...prev, isPrivate: event.target.checked }))}\r\n                          />\r\n                        </div>\r\n                        {formState.isPrivate && (\r\n                          <Input\r\n                            type=\"password\"\r\n                            placeholder=\"\"\r\n                            value={formState.password}\r\n                            onChange={(event) => setFormState(prev => ({ ...prev, password: event.target.value }))}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <Label className=\"flex items-center gap-2\" htmlFor=\"random-subjects-toggle\">\r\n                          <Settings className=\"h-4 w-4\" />  \r\n                        </Label>\r\n                        <input\r\n                          id=\"random-subjects-toggle\"\r\n                          type=\"checkbox\"\r\n                          className=\"h-4 w-4\"\r\n                          checked={formState.useRandomSubjects}\r\n                          onChange={(event) => setFormState(prev => ({ ...prev, useRandomSubjects: event.target.checked }))}\r\n                        />\r\n                      </div>\r\n\r\n                      {subjectsLoading ? (\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                          <RefreshCw className=\"h-4 w-4 animate-spin\" />   ...\r\n                        </div>\r\n                      ) : formState.useRandomSubjects ? (\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"random-count\">  </Label>\r\n                          <Input\r\n                            id=\"random-count\"\r\n                            type=\"number\"\r\n                            min={1}\r\n                            max={subjects.length || 10}\r\n                            value={formState.randomSubjectCount}\r\n                            onChange={(event) => setFormState(prev => ({ ...prev, randomSubjectCount: Number(event.target.value) }))}\r\n                          />\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                                  .\r\n                          </p>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={handleSelectAllSubjects}>\r\n                               \r\n                            </Button>\r\n                            <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={handleClearSubjects}>\r\n                               \r\n                            </Button>\r\n                          </div>\r\n                          <div className=\"flex flex-wrap gap-2 max-h-40 overflow-y-auto\">\r\n                            {availableSubjectTags.map(subject => {\r\n                              const selected = formState.selectedSubjectIds.includes(subject.id)\r\n                              return (\r\n                                <Badge\r\n                                  key={subject.id}\r\n                                  variant={selected ? 'default' : 'outline'}\r\n                                  className=\"cursor-pointer\"\r\n                                  onClick={() => handleToggleSubject(subject.id)}\r\n                                >\r\n                                  {subject.label}\r\n                                  {selected && <Check className=\"h-3 w-3 ml-1\" />}\r\n                                </Badge>\r\n                              )\r\n                            })}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <Button type=\"button\" variant=\"outline\" onClick={() => setIsCreateDialogOpen(false)}>\r\n                        \r\n                      </Button>\r\n                      <Button type=\"button\" onClick={handleCreateRoom} disabled={isSubmitting}>\r\n                        \r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </ScrollArea>\r\n              </DialogContent>\r\n            </Dialog>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent>\r\n          {roomsLoading ? (\r\n            <div className=\"flex flex-col items-center justify-center py-12 text-muted-foreground\">\r\n              <RefreshCw className=\"h-8 w-8 animate-spin mb-4\" />\r\n                 ...\r\n            </div>\r\n          ) : roomsError ? (\r\n            <div className=\"flex flex-col items-center justify-center py-12 text-destructive gap-4\">\r\n              {roomsError}\r\n              <Button variant=\"outline\" onClick={refreshRooms}> </Button>\r\n            </div>\r\n          ) : rooms.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center py-12 gap-4 text-center\">\r\n              <Users className=\"h-10 w-10 text-muted-foreground\" />\r\n              <div>\r\n                <p className=\"font-medium\">    .</p>\r\n                <p className=\"text-sm text-muted-foreground\">    !</p>\r\n              </div>\r\n              <Button onClick={() => handleCreateDialogChange(true)}>\r\n                <Plus className=\"h-4 w-4 mr-2\" />   \r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3\">\r\n              {rooms.map(room => {\r\n                const status = normalizeRoomStatus(room.state ?? room.gameState)\r\n                const isPrivate = Boolean(room.hasPassword)\r\n                return (\r\n                  <Card key={room.gameNumber} className=\"flex flex-col\">\r\n                    <CardHeader className=\"pb-3\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div>\r\n                          <CardTitle className=\"text-lg flex items-center gap-2\">\r\n                            {isPrivate ? <Lock className=\"h-4 w-4\" /> : <Unlock className=\"h-4 w-4\" />}\r\n                            {room.title}\r\n                          </CardTitle>\r\n                          <CardDescription>: {room.host}</CardDescription>\r\n                        </div>\r\n                        {getStatusBadge(status)}\r\n                      </div>\r\n                    </CardHeader>\r\n                    <CardContent className=\"flex-1 flex flex-col gap-3\">\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-muted-foreground\"></span>\r\n                        <span className=\"font-medium\">{room.currentPlayers}/{room.maxPlayers}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-muted-foreground\"> </span>\r\n                        <code className=\"bg-muted px-2 py-1 rounded text-xs font-mono\">{room.gameNumber}</code>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-muted-foreground\"> </span>\r\n                        <span className=\"text-xs\">{room.gameMode}</span>\r\n                      </div>\r\n                      <div className=\"mt-auto\">\r\n                        <Button\r\n                          className=\"w-full\"\r\n                          onClick={() => handleJoinRoom(room.gameNumber, isPrivate)}\r\n                          disabled={status === 'IN_PROGRESS' || room.currentPlayers >= room.maxPlayers || isSubmitting}\r\n                        >\r\n                          {status === 'IN_PROGRESS' ? (\r\n                            <>\r\n                              <Play className=\"h-4 w-4 mr-2\" />   \r\n                            </>\r\n                          ) : room.currentPlayers >= room.maxPlayers ? (\r\n                            '  '\r\n                          ) : (\r\n                            ''\r\n                          )}\r\n                        </Button>\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                )\r\n              })}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import {useCallback, useEffect, useState} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {motion} from 'framer-motion'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Tabs, TabsContent, TabsList, TabsTrigger} from '@/components/ui/tabs'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport {BookOpen, Crown, FileText, LogOut, RefreshCw, Settings, User, Users} from 'lucide-react'\r\nimport {useAuthStore} from '@/stores/authStore'\r\nimport {useToast} from '@/hooks/useToast'\r\nimport {TopicManagementSection} from '@/components/lobby/TopicManagementSection'\r\nimport {AnswerManagementSection} from '@/components/lobby/AnswerManagementSection'\r\nimport {GameRoomsSection} from '@/components/lobby/GameRoomsSection'\r\nimport {gameService} from '@/api/gameApi'\r\nimport {subjectService} from '@/api/subjectApi'\r\nimport {wordService} from '@/api/wordApi'\r\nimport {useModal} from '@/contexts/ModalContext'\r\n\r\nexport function MainLobbyPage() {\r\n  const navigate = useNavigate()\r\n  const { toast } = useToast()\r\n  const { nickname, logout } = useAuthStore()\r\n  const { isAnyModalOpen, activeModals } = useModal()\r\n  const [activeTab, setActiveTab] = useState('games')\r\n\r\n  // Dynamic statistics state\r\n  const [stats, setStats] = useState({\r\n    activeGameRooms: 0,\r\n    registeredTopics: 0,\r\n    totalAnswers: 0,\r\n    isLoading: true\r\n  })\r\n\r\n  // Fetch dynamic statistics\r\n  const fetchStats = useCallback(async () => {\r\n    setStats(prev => ({ ...prev, isLoading: true }))\r\n\r\n    try {\r\n      // Fetch all data in parallel\r\n      const [gameListResponse, subjectsResponse, wordsResponse] = await Promise.all([\r\n        gameService.getGameList(0, 100), // Get first 100 games\r\n        subjectService.getSubjects(),\r\n        wordService.getWords()\r\n      ])\r\n\r\n      // Count active game rooms (WAITING status)\r\n      const gameList = gameListResponse.gameRooms || gameListResponse.games || gameListResponse.data || []\r\n      const activeGameRooms = gameList.filter(game => game.gameState === 'WAITING').length\r\n\r\n      // Count registered topics\r\n      const topics = subjectsResponse.subjects || []\r\n      const registeredTopics = topics.length\r\n\r\n      // Count total answers across all topics\r\n      const words = wordsResponse.words || []\r\n      const totalAnswers = words.length\r\n\r\n      setStats({\r\n        activeGameRooms,\r\n        registeredTopics,\r\n        totalAnswers,\r\n        isLoading: false\r\n      })\r\n\r\n    } catch (error) {\r\n      console.error('Failed to fetch lobby statistics:', error)\r\n      toast({\r\n        title: \"  \",\r\n        description: \"     \",\r\n        variant: \"destructive\",\r\n      })\r\n      setStats(prev => ({ ...prev, isLoading: false }))\r\n    }\r\n  }, [toast])\r\n\r\n  // Load statistics on component mount and when tab changes\r\n  useEffect(() => {\r\n    fetchStats()\r\n  }, [fetchStats])\r\n\r\n  // Auto-refresh statistics every 30 seconds - only when component is focused and no modals are open\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      // Only refresh if document is focused and no modals are open to avoid interfering with user interactions\r\n      if (document.hasFocus() && !isAnyModalOpen) {\r\n        console.log('[LobbyPage] Auto-refreshing statistics');\r\n        fetchStats()\r\n      } else if (isAnyModalOpen) {\r\n        console.log('[LobbyPage] Skipping auto-refresh - modal open:', Array.from(activeModals));\r\n      }\r\n    }, 30000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchStats, isAnyModalOpen, activeModals])\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    navigate('/')\r\n    toast({\r\n      title: \"\",\r\n      description: \" \",\r\n    })\r\n  }\r\n\r\n  const handleRefreshStats = () => {\r\n    fetchStats()\r\n    toast({\r\n      title: \" \",\r\n      description: \"  \",\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800\">\r\n      <div className=\"container mx-auto p-6 space-y-6\">\r\n        {/*  */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"flex items-center justify-between\"\r\n        >\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\r\n                \r\n            </h1>\r\n            <p className=\"text-muted-foreground mt-1\">\r\n                ,   \r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <Card className=\"px-4 py-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                  <User className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"font-medium\">{nickname}</p>\r\n                  <p className=\"text-xs text-muted-foreground\"></p>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleRefreshStats}\r\n                disabled={stats.isLoading}\r\n              >\r\n                <RefreshCw className={`h-4 w-4 mr-2 ${stats.isLoading ? 'animate-spin' : ''}`} />\r\n                 \r\n              </Button>\r\n\r\n              <DropdownMenu>\r\n                <DropdownMenuTrigger asChild>\r\n                  <Button variant=\"outline\" size=\"icon\">\r\n                    <Settings className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </DropdownMenuTrigger>\r\n                <DropdownMenuContent align=\"end\">\r\n                  <DropdownMenuItem disabled>\r\n                    <Crown className=\"mr-2 h-4 w-4\" />\r\n                     \r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem onClick={handleLogout}>\r\n                    <LogOut className=\"mr-2 h-4 w-4\" />\r\n                    \r\n                  </DropdownMenuItem>\r\n                </DropdownMenuContent>\r\n              </DropdownMenu>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.1 }}\r\n        >\r\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-3\">\r\n              <TabsTrigger value=\"games\" className=\"flex items-center gap-2\">\r\n                <Users className=\"h-4 w-4\" />\r\n                \r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"topics\" className=\"flex items-center gap-2\">\r\n                <BookOpen className=\"h-4 w-4\" />\r\n                 \r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"answers\" className=\"flex items-center gap-2\">\r\n                <FileText className=\"h-4 w-4\" />\r\n                 \r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            <div className=\"mt-6\">\r\n              <TabsContent value=\"games\">\r\n                <motion.div\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <GameRoomsSection key={`games-${stats.isLoading}`} />\r\n                </motion.div>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"topics\">\r\n                <motion.div\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <TopicManagementSection key={`topics-${stats.isLoading}`} />\r\n                </motion.div>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"answers\">\r\n                <motion.div\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <AnswerManagementSection key={`answers-${stats.isLoading}`} />\r\n                </motion.div>\r\n              </TabsContent>\r\n            </div>\r\n          </Tabs>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.2 }}\r\n          className=\"grid gap-4 md:grid-cols-3\"\r\n        >\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\"> </CardTitle>\r\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold\">\r\n                {stats.isLoading ? (\r\n                  <RefreshCw className=\"h-6 w-6 animate-spin inline-block\" />\r\n                ) : (\r\n                  stats.activeGameRooms\r\n                )}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                   \r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\"> </CardTitle>\r\n              <BookOpen className=\"h-4 w-4 text-muted-foreground\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold\">\r\n                {stats.isLoading ? (\r\n                  <RefreshCw className=\"h-6 w-6 animate-spin inline-block\" />\r\n                ) : (\r\n                  stats.registeredTopics\r\n                )}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                    \r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">  </CardTitle>\r\n              <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold\">\r\n                {stats.isLoading ? (\r\n                  <RefreshCw className=\"h-6 w-6 animate-spin inline-block\" />\r\n                ) : (\r\n                  stats.totalAnswers\r\n                )}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                   \r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!mapB.has(key) || !Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (Object.getPrototypeOf(valueA) !== Object.getPrototypeOf(valueB)) {\n    return false;\n  }\n  if (isIterable(valueA) && isIterable(valueB)) {\n    if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n      return compareEntries(valueA, valueB);\n    }\n    return compareIterables(valueA, valueB);\n  }\n  return compareEntries(\n    { entries: () => Object.entries(valueA) },\n    { entries: () => Object.entries(valueB) }\n  );\n}\n\nexport { shallow };\n","import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef(void 0);\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\ninterface ProgressProps extends React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> {\r\n  indicatorClassName?: string\r\n}\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ElementRef<typeof ProgressPrimitive.Root>,\r\n  ProgressProps\r\n>(({ className, value, indicatorClassName, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className={cn(\"h-full w-full flex-1 bg-primary transition-all\", indicatorClassName)}\r\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }","import React from 'react'\r\nimport type {GamePhase} from '@/types/backendTypes'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Clock, Eye, MessageSquare, Shield, Trophy, Vote} from 'lucide-react'\r\n\r\nexport interface GamePhaseIndicatorProps {\r\n  phase: GamePhase\r\n  timeRemaining?: number\r\n  className?: string\r\n}\r\n\r\nconst phaseConfig = {\r\n  WAITING_FOR_PLAYERS: {\r\n    label: '  ',\r\n    color: 'bg-gray-100 text-gray-700',\r\n    icon: <Clock className=\"h-4 w-4\" />\r\n  },\r\n  SPEECH: {\r\n    label: ' ',\r\n    color: 'bg-blue-100 text-blue-700',\r\n    icon: <MessageSquare className=\"h-4 w-4\" />\r\n  },\r\n  VOTING_FOR_LIAR: {\r\n    label: ' ',\r\n    color: 'bg-orange-100 text-orange-700',\r\n    icon: <Vote className=\"h-4 w-4\" />\r\n  },\r\n  DEFENDING: {\r\n    label: ' ',\r\n    color: 'bg-purple-100 text-purple-700',\r\n    icon: <Shield className=\"h-4 w-4\" />\r\n  },\r\n  VOTING_FOR_SURVIVAL: {\r\n    label: ' ',\r\n    color: 'bg-red-100 text-red-700',\r\n    icon: <Vote className=\"h-4 w-4\" />\r\n  },\r\n  GUESSING_WORD: {\r\n    label: ' ',\r\n    color: 'bg-yellow-100 text-yellow-700',\r\n    icon: <Eye className=\"h-4 w-4\" />\r\n  },\r\n  GAME_OVER: {\r\n    label: ' ',\r\n    color: 'bg-green-100 text-green-700',\r\n    icon: <Trophy className=\"h-4 w-4\" />\r\n  }\r\n}\r\n\r\nexport const GamePhaseIndicator: React.FC<GamePhaseIndicatorProps> = ({\r\n  phase,\r\n  timeRemaining,\r\n  className\r\n}) => {\r\n  const config = phaseConfig[phase] || phaseConfig.WAITING_FOR_PLAYERS\r\n  \r\n  const formatTime = (seconds: number): string => {\r\n    const minutes = Math.floor(seconds / 60)\r\n    const remainingSeconds = seconds % 60\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\r\n  }\r\n\r\n  return (\r\n    <div className={`flex items-center space-x-3 ${className || ''}`}>\r\n      <Badge variant=\"secondary\" className={`${config.color} border-0`}>\r\n        <div className=\"flex items-center space-x-2\">\r\n          {config.icon}\r\n          <span className=\"font-medium\">{config.label}</span>\r\n        </div>\r\n      </Badge>\r\n      \r\n      {timeRemaining !== undefined && timeRemaining > 0 && (\r\n        <div className={`flex items-center space-x-1 text-sm ${\r\n          timeRemaining <= 30 ? 'text-red-600 font-semibold' : 'text-gray-600'\r\n        }`}>\r\n          <Clock className=\"h-3 w-3\" />\r\n          <span>{formatTime(timeRemaining)}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GamePhaseIndicator","import React, {useEffect, useState} from 'react';\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card';\r\nimport {Button} from '@/components/ui/button';\r\nimport {Input} from '@/components/ui/input';\r\nimport {Textarea} from '@/components/ui/textarea';\r\nimport {Badge} from '@/components/ui/badge';\r\nimport {\r\n    AlertTriangle,\r\n    CheckCircle,\r\n    Clock,\r\n    Lightbulb,\r\n    Loader2,\r\n    Lock,\r\n    MessageSquare,\r\n    Search,\r\n    Send,\r\n    Shield,\r\n    Target\r\n} from 'lucide-react';\r\nimport {AnimatePresence, motion} from 'framer-motion';\r\nimport type {GamePhase, Player} from '@/stores';\r\nimport {toast} from 'sonner';\r\n\r\ninterface GameActionInterfaceProps {\r\n  gamePhase: GamePhase;\r\n  currentPlayer: Player | null;\r\n  isMyTurn: boolean;\r\n  isLiar: boolean;\r\n  canVote: boolean;\r\n  timeRemaining: number;\r\n  onSubmitHint: (hint: string) => Promise<void>;\r\n  onVotePlayer: (playerId: string) => Promise<void>;\r\n  onSubmitDefense: (defense: string) => Promise<void>;\r\n  onGuessWord: (guess: string) => Promise<void>;\r\n  onCastFinalVote: (execute: boolean) => Promise<void>;\r\n  players: Player[];\r\n  suspectedPlayer?: Player;\r\n  currentTopic?: string;\r\n  currentWord?: string;\r\n}\r\n\r\ninterface ActionConfig {\r\n  title: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  color: string;\r\n  bgColor: string;\r\n  placeholder?: string;\r\n  maxLength?: number;\r\n  isUrgent?: boolean;\r\n}\r\n\r\nexport const GameActionInterface: React.FC<GameActionInterfaceProps> = ({\r\n  gamePhase,\r\n  currentPlayer,\r\n  isMyTurn,\r\n  isLiar,\r\n  canVote,\r\n  timeRemaining,\r\n  onSubmitHint,\r\n  onVotePlayer,\r\n  onSubmitDefense,\r\n  onGuessWord,\r\n  onCastFinalVote,\r\n  players,\r\n  suspectedPlayer,\r\n  currentTopic,\r\n  currentWord,\r\n}) => {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [selectedPlayer, setSelectedPlayer] = useState<string>('');\r\n  const [finalVote, setFinalVote] = useState<boolean | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n\r\n  // Reset form when phase changes\r\n  useEffect(() => {\r\n    setInputValue('');\r\n    setSelectedPlayer('');\r\n    setFinalVote(null);\r\n    setError('');\r\n  }, [gamePhase]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error);\r\n    }\r\n  }, [error]);\r\n\r\n  const getActionConfig = (): ActionConfig => {\r\n    switch (gamePhase) {\r\n      case 'SPEECH':\r\n        return {\r\n          title: isMyTurn ? ' ' : '  ',\r\n          description: isLiar \r\n            ? '      '\r\n            : ` \"${currentTopic}\"    `,\r\n          icon: <MessageSquare className=\"h-5 w-5\" />,\r\n          color: isLiar ? 'text-orange-600' : 'text-green-600',\r\n          bgColor: isLiar ? 'bg-orange-50' : 'bg-green-50',\r\n          placeholder: isLiar \r\n            ? '    ...'\r\n            : '    ...',\r\n          maxLength: 100,\r\n          isUrgent: timeRemaining <= 15\r\n        };\r\n\r\n      case 'VOTING_FOR_LIAR':\r\n        return {\r\n          title: ' ',\r\n          description: '   ',\r\n          icon: <Target className=\"h-5 w-5\" />,\r\n          color: 'text-red-600',\r\n          bgColor: 'bg-red-50',\r\n          isUrgent: timeRemaining <= 20\r\n        };\r\n\r\n      case 'DEFENDING':\r\n        return {\r\n          title: suspectedPlayer?.id === currentPlayer?.id ? '' : ' ',\r\n          description: suspectedPlayer?.id === currentPlayer?.id\r\n            ? '   '\r\n            : `${suspectedPlayer?.nickname}  `,\r\n          icon: <Shield className=\"h-5 w-5\" />,\r\n          color: 'text-purple-600',\r\n          bgColor: 'bg-purple-50',\r\n          placeholder: '    ...',\r\n          maxLength: 200,\r\n          isUrgent: timeRemaining <= 20\r\n        };\r\n\r\n      case 'VOTING_FOR_SURVIVAL':\r\n        return {\r\n          title: ' ',\r\n          description: '     ',\r\n          icon: <Target className=\"h-5 w-5\" />,\r\n          color: 'text-orange-600',\r\n          bgColor: 'bg-orange-50',\r\n          isUrgent: timeRemaining <= 15\r\n        };\r\n\r\n      case 'GUESSING_WORD':\r\n        return {\r\n          title: isLiar ? ' ' : ' ',\r\n          description: isLiar\r\n            ? '    !'\r\n            : '     ',\r\n          icon: <Search className=\"h-5 w-5\" />,\r\n          color: 'text-yellow-600',\r\n          bgColor: 'bg-yellow-50',\r\n          placeholder: '  ...',\r\n          maxLength: 50,\r\n          isUrgent: true\r\n        };\r\n\r\n      default:\r\n        return {\r\n          title: ' ',\r\n          description: '   ',\r\n          icon: <Clock className=\"h-5 w-5\" />,\r\n          color: 'text-gray-600',\r\n          bgColor: 'bg-gray-50'\r\n        };\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (isSubmitting) return;\r\n    setIsSubmitting(true);\r\n    setError('');\r\n\r\n    try {\r\n      switch (gamePhase) {\r\n        case 'SPEECH':\r\n          if (!inputValue.trim()) {\r\n            setError(' ');\r\n            return;\r\n          }\r\n          await onSubmitHint(inputValue.trim());\r\n          break;\r\n\r\n        case 'VOTING_FOR_LIAR':\r\n          if (!selectedPlayer) {\r\n            setError('  ');\r\n            return;\r\n          }\r\n          await onVotePlayer(selectedPlayer);\r\n          break;\r\n\r\n        case 'DEFENDING':\r\n          if (!inputValue.trim()) {\r\n            setError(' ');\r\n            return;\r\n          }\r\n          await onSubmitDefense(inputValue.trim());\r\n          break;\r\n\r\n        case 'VOTING_FOR_SURVIVAL':\r\n          if (finalVote === null) {\r\n            setError(' ');\r\n            return;\r\n          }\r\n          await onCastFinalVote(finalVote);\r\n          break;\r\n\r\n        case 'GUESSING_WORD':\r\n          if (!inputValue.trim()) {\r\n            setError('  ');\r\n            return;\r\n          }\r\n          await onGuessWord(inputValue.trim());\r\n          break;\r\n      }\r\n      \r\n      // Reset form after successful submission\r\n      setInputValue('');\r\n      setSelectedPlayer('');\r\n      setFinalVote(null);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : '    ');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const config = getActionConfig();\r\n  const canInteract = (isMyTurn || canVote) && !isSubmitting;\r\n  const showInput = gamePhase === 'DEFENDING' || gamePhase === 'GUESSING_WORD';\r\n  const showVoting = gamePhase === 'VOTING_FOR_LIAR';\r\n  const showFinalVote = gamePhase === 'VOTING_FOR_SURVIVAL';\r\n  const helperId = `game-action-helper-${gamePhase}`;\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      <motion.div\r\n        key={gamePhase}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: -20 }}\r\n        transition={{ duration: 0.3 }}\r\n      >\r\n        <Card className={`border-2 shadow-lg ${\r\n          config.isUrgent ? 'border-red-300 shadow-red-100' : 'border-gray-200'\r\n        } ${config.bgColor}`}>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className={config.color}>\r\n                  {config.icon}\r\n                </div>\r\n                <span className={`text-lg ${config.color}`}>\r\n                  {config.title}\r\n                </span>\r\n                {config.isUrgent && (\r\n                  <Badge variant=\"destructive\" className=\"animate-pulse\">\r\n                    <AlertTriangle className=\"mr-1 h-3 w-3\" />\r\n                    \r\n                  </Badge>\r\n                )}\r\n              </div>\r\n              \r\n              {timeRemaining > 0 && (\r\n                <div className={`text-sm font-mono ${\r\n                  timeRemaining <= 10 ? 'text-red-600 font-bold' : 'text-gray-600'\r\n                }`}>\r\n                  <Clock className=\"inline mr-1 h-4 w-4\" />\r\n                  {Math.floor(timeRemaining / 60)}:{(timeRemaining % 60).toString().padStart(2, '0')}\r\n                </div>\r\n              )}\r\n            </CardTitle>\r\n          </CardHeader>\r\n\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              {/* Description */}\r\n              <p id={helperId} className=\"text-sm text-gray-700 leading-relaxed\">\r\n                {config.description}\r\n              </p>\r\n\r\n              {/* Current Topic/Word Display */}\r\n              {gamePhase === 'SPEECH' && (\r\n                <div className=\"relative overflow-hidden rounded-lg border border-gray-200 bg-white p-3\" aria-live=\"polite\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-600\">:</span>\r\n                      <span className=\"ml-2 font-bold text-blue-600\">{currentTopic}</span>\r\n                    </div>\r\n                    {!isLiar && currentWord && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-600\">:</span>\r\n                        <span className=\"ml-2 font-bold text-green-600\">{currentWord}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {isLiar && (\r\n                    <div className=\"pointer-events-none absolute inset-0 flex flex-col items-center justify-center gap-2 bg-gradient-to-br from-orange-500/15 via-background/95 to-orange-500/15 backdrop-blur-sm\" role=\"note\">\r\n                      <Lock className=\"h-6 w-6 text-orange-500\" aria-hidden=\"true\" />\r\n                      <span className=\"text-sm font-semibold text-orange-600\">     </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Action Interface */}\r\n              {gamePhase === 'SPEECH' && isMyTurn && (\r\n                <div className=\"space-y-3 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-blue-800\" role=\"note\">\r\n                  <div className=\"flex items-center gap-2 font-semibold text-blue-700\">\r\n                    <MessageSquare className=\"h-4 w-4\" />\r\n                         \r\n                  </div>\r\n                  <p>\r\n                          <strong></strong>      .\r\n                  </p>\r\n                  <p className=\"text-xs text-blue-600/80\">\r\n                    Shift+Enter    ,       .\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              {canInteract && gamePhase !== 'SPEECH' && (\r\n                <div className=\"space-y-3\">\r\n                  {/* Text Input */}\r\n                  {showInput && (\r\n                    <div className=\"space-y-2\">\r\n                      {gamePhase === 'DEFENDING' ? (\r\n                        <Textarea\r\n                          placeholder={config.placeholder}\r\n                          value={inputValue}\r\n                          onChange={(e) => setInputValue(e.target.value)}\r\n                          maxLength={config.maxLength}\r\n                          rows={4}\r\n                          className=\"resize-none\"\r\n                          aria-describedby={helperId}\r\n                          aria-invalid={Boolean(error)}\r\n                        />\r\n                      ) : (\r\n                        <Input\r\n                          placeholder={config.placeholder}\r\n                          value={inputValue}\r\n                          onChange={(e) => setInputValue(e.target.value)}\r\n                          maxLength={config.maxLength}\r\n                          aria-describedby={helperId}\r\n                          aria-invalid={Boolean(error)}\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter' && !e.shiftKey) {\r\n                              e.preventDefault();\r\n                              handleSubmit();\r\n                            }\r\n                          }}\r\n                        />\r\n                      )}\r\n                      \r\n                      {config.maxLength && (\r\n                        <div className=\"flex justify-between items-center text-xs text-gray-500\">\r\n                          <div>\r\n                            {gamePhase === 'SPEECH' && (\r\n                              <span className=\"flex items-center\">\r\n                                <Lightbulb className=\"mr-1 h-3 w-3\" />\r\n                                : {isLiar ? '   ' : '   '}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <span>{inputValue.length}/{config.maxLength}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Player Voting */}\r\n                  {showVoting && (\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"text-sm font-medium text-gray-700\" id=\"vote-instruction\">\r\n                           :\r\n                      </div>\r\n                      <div className=\"grid grid-cols-1 gap-2\" role=\"listbox\" aria-labelledby=\"vote-instruction\">\r\n                        {players\r\n                          .filter(p => p.id !== currentPlayer?.id && p.isAlive !== false)\r\n                          .map((player) => (\r\n                            <button\r\n                              key={player.id}\r\n                              onClick={() => setSelectedPlayer(player.id)}\r\n                              className={`p-3 rounded-lg border text-left transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-400 ${\r\n                                selectedPlayer === player.id\r\n                                  ? 'border-red-400 bg-red-50 text-red-800'\r\n                                  : 'border-gray-200 bg-white hover:border-red-200'\r\n                              }`}\r\n                              aria-pressed={selectedPlayer === player.id}\r\n                              aria-selected={selectedPlayer === player.id}\r\n                              aria-label={`${player.nickname} `}\r\n                              role=\"option\"\r\n                            >\r\n                              <div className=\"flex items-center justify-between\">\r\n                                <span className=\"font-medium\">{player.nickname}</span>\r\n                                {selectedPlayer === player.id && (\r\n                                  <CheckCircle className=\"h-4 w-4 text-red-600\" aria-hidden=\"true\" />\r\n                                )}\r\n                              </div>\r\n                            </button>\r\n                          ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Final Vote */}\r\n                  {showFinalVote && (\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"text-sm font-medium text-gray-700\" id=\"final-vote-instruction\">\r\n                        {suspectedPlayer?.nickname} ?\r\n                      </div>\r\n                      <div className=\"grid grid-cols-2 gap-2\" role=\"group\" aria-labelledby=\"final-vote-instruction\">\r\n                        <button\r\n                          onClick={() => setFinalVote(true)}\r\n                          className={`p-3 rounded-lg border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-400 ${\r\n                            finalVote === true\r\n                              ? 'border-red-400 bg-red-50 text-red-800'\r\n                              : 'border-gray-200 bg-white hover:border-red-200'\r\n                          }`}\r\n                          aria-pressed={finalVote === true}\r\n                          aria-label={`${suspectedPlayer?.nickname ?? ' '}  `}\r\n                        >\r\n                          <div className=\"text-center\">\r\n                            <div className=\"font-medium\"></div>\r\n                            <div className=\"text-xs text-gray-600\"> </div>\r\n                          </div>\r\n                        </button>\r\n                        <button\r\n                          onClick={() => setFinalVote(false)}\r\n                          className={`p-3 rounded-lg border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-400 ${\r\n                            finalVote === false\r\n                              ? 'border-green-400 bg-green-50 text-green-800'\r\n                              : 'border-gray-200 bg-white hover:border-green-200'\r\n                          }`}\r\n                          aria-pressed={finalVote === false}\r\n                          aria-label={`${suspectedPlayer?.nickname ?? ' '}  `}\r\n                        >\r\n                          <div className=\"text-center\">\r\n                            <div className=\"font-medium\"></div>\r\n                            <div className=\"text-xs text-gray-600\"> </div>\r\n                          </div>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Error Message */}\r\n                  {error && (\r\n                    <div className=\"p-3 rounded-lg bg-red-50 border border-red-200 text-red-800 text-sm\" role=\"alert\" aria-live=\"assertive\">\r\n                      {error}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Submit Button */}\r\n                  <Button\r\n                    onClick={handleSubmit}\r\n                    disabled={isSubmitting || (\r\n                      (showInput && !inputValue.trim()) ||\r\n                      (showVoting && !selectedPlayer) ||\r\n                      (showFinalVote && finalVote === null)\r\n                    )}\r\n                    className=\"w-full\"\r\n                    size=\"lg\"\r\n                  >\r\n                    {isSubmitting ? (\r\n                      <>\r\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                         ...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Send className=\"mr-2 h-4 w-4\" />\r\n                        {gamePhase === 'SPEECH' && ' '}\r\n                        {gamePhase === 'VOTING_FOR_LIAR' && ' '}\r\n                        {gamePhase === 'DEFENDING' && ' '}\r\n                        {gamePhase === 'VOTING_FOR_SURVIVAL' && ' '}\r\n                        {gamePhase === 'GUESSING_WORD' && ' '}\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Waiting State */}\r\n              {!canInteract && gamePhase !== 'WAITING_FOR_PLAYERS' && gamePhase !== 'GAME_OVER' && (\r\n                <div className=\"text-center py-6 text-gray-500\">\r\n                  <Clock className=\"mx-auto h-8 w-8 mb-2 opacity-50\" />\r\n                  <div className=\"text-sm\">\r\n                    {!isMyTurn && '    '}\r\n                    {isMyTurn && !canVote && '  '}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};","import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }","import {useCallback} from 'react';\r\nimport {useGameStore} from '../stores';\r\nimport {gameFlowService} from '../services/gameFlowService';\r\n\r\nexport const useGameFlow = () => {\r\n  const {\r\n    gameNumber,\r\n    gamePhase,\r\n    currentPlayer,\r\n    players,\r\n    currentTopic,\r\n    currentWord,\r\n    currentLiar,\r\n    currentTurnPlayerId,\r\n    timer,\r\n    voting,\r\n    chatMessages,\r\n    isLoading,\r\n    error,\r\n    isLiar,\r\n    setLoading,\r\n    setError,\r\n    addVote,\r\n    setChatMessages,\r\n  } = useGameStore();\r\n\r\n  //  \r\n  const submitHint = useCallback(async (hint: string) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.submitHint(gameNumber, hint);\r\n\r\n      // WebSocket        \r\n      setLoading(false);\r\n\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //  \r\n  const voteForLiar = useCallback(async (targetUserId: number) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.castVoteForLiar(gameNumber, targetUserId);\r\n\r\n      //   \r\n      if (currentPlayer) {\r\n        const target = players.find(player =>\r\n          player.userId === targetUserId || player.id === targetUserId.toString()\r\n        )\r\n        addVote(\r\n          currentPlayer.id,\r\n          currentPlayer.nickname,\r\n          target ? target.id : targetUserId.toString(),\r\n          target ? target.nickname : '  '\r\n        )\r\n      }\r\n\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : ' .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, currentPlayer, players, setLoading, setError, addVote]);\r\n\r\n  //  \r\n  const submitDefense = useCallback(async (defenseText: string) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.submitDefense(gameNumber, defenseText);\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //   \r\n  const endDefensePhase = useCallback(async () => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.endDefensePhase(gameNumber);\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //   (/)\r\n  const castFinalVote = useCallback(async (voteForExecution: boolean) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.castFinalVote(gameNumber, voteForExecution);\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //   \r\n  const guessWord = useCallback(async (guess: string) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.guessWord(gameNumber, guess);\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //  \r\n  const endRound = useCallback(async () => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await gameFlowService.endRound(gameNumber);\r\n      setLoading(false);\r\n      return response;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '  .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //   \r\n  const getGameResult = useCallback(async () => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const result = await gameFlowService.getGameResult(gameNumber);\r\n      setLoading(false);\r\n      return result;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '   .';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setLoading, setError]);\r\n\r\n  //   \r\n  const sendChatMessage = useCallback(async (message: string, type: 'GENERAL' | 'HINT' | 'DEFENSE' = 'GENERAL') => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    try {\r\n      await gameFlowService.sendChatMessage(gameNumber, message, type);\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '   .';\r\n      setError(errorMessage);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setError]);\r\n\r\n  //   \r\n  const loadChatHistory = useCallback(async (limit: number = 50) => {\r\n    if (!gameNumber) {\r\n      throw new Error('  .');\r\n    }\r\n\r\n    try {\r\n      const messages = await gameFlowService.getChatHistory(gameNumber, limit);\r\n      setChatMessages(messages);\r\n      return messages;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : '   .';\r\n      setError(errorMessage);\r\n      throw error;\r\n    }\r\n  }, [gameNumber, setChatMessages, setError]);\r\n\r\n  //    \r\n  const isMyTurn = useCallback(() => {\r\n    return currentPlayer && currentTurnPlayerId === currentPlayer.id;\r\n  }, [currentPlayer, currentTurnPlayerId]);\r\n\r\n  // isLiar is now imported from the store as a boolean property\r\n\r\n  //    \r\n  const isAlive = useCallback(() => {\r\n    return currentPlayer?.isAlive !== false;\r\n  }, [currentPlayer]);\r\n\r\n  //   \r\n  const canVote = useCallback(() => {\r\n    return voting.isActive && isAlive() && !voting.votes[currentPlayer?.id || ''];\r\n  }, [voting, isAlive, currentPlayer]);\r\n\r\n  //   UI  \r\n  const getPhaseInfo = useCallback(() => {\r\n    switch (gamePhase) {\r\n      case 'WAITING_FOR_PLAYERS':\r\n        return {\r\n          title: '  ',\r\n          description: '   .',\r\n          canAct: false,\r\n        };\r\n      case 'SPEECH':\r\n        return {\r\n          title: '  ',\r\n          description: isMyTurn() ? ' .' : '    .',\r\n          canAct: isMyTurn() && !isLiar,\r\n        };\r\n      case 'VOTING_FOR_LIAR':\r\n        return {\r\n          title: ' ',\r\n          description: '   .',\r\n          canAct: canVote(),\r\n        };\r\n      case 'DEFENDING':\r\n        return {\r\n          title: ' ',\r\n          description: currentLiar === currentPlayer?.id ? ' .' : '  .',\r\n          canAct: currentLiar === currentPlayer?.id,\r\n        };\r\n      case 'VOTING_FOR_SURVIVAL':\r\n        return {\r\n          title: ' ',\r\n          description: '   .',\r\n          canAct: canVote(),\r\n        };\r\n      case 'GUESSING_WORD':\r\n        return {\r\n          title: ' ',\r\n          description: isLiar ? ' .' : '   .',\r\n          canAct: isLiar,\r\n        };\r\n      case 'GAME_OVER':\r\n        return {\r\n          title: ' ',\r\n          description: ' .',\r\n          canAct: false,\r\n        };\r\n      default:\r\n        return {\r\n          title: '   ',\r\n          description: '',\r\n          canAct: false,\r\n        };\r\n    }\r\n  }, [gamePhase, isMyTurn, isLiar, canVote, currentLiar, currentPlayer]);\r\n\r\n  return {\r\n    // \r\n    gameNumber,\r\n    gamePhase,\r\n    currentPlayer,\r\n    players,\r\n    currentTopic,\r\n    currentWord,\r\n    currentLiar,\r\n    currentTurnPlayerId,\r\n    timer,\r\n    voting,\r\n    chatMessages,\r\n    isLoading,\r\n    error,\r\n\r\n    //   \r\n    submitHint,\r\n    voteForLiar,\r\n    submitDefense,\r\n    endDefensePhase,\r\n    castFinalVote,\r\n    guessWord,\r\n    endRound,\r\n    getGameResult,\r\n\r\n    //  \r\n    sendChatMessage,\r\n    loadChatHistory,\r\n\r\n    //  \r\n    isMyTurn,\r\n    isLiar,\r\n    isAlive,\r\n    canVote,\r\n    getPhaseInfo,\r\n  };\r\n};\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Button} from '@/components/ui/button';\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card';\r\nimport {Avatar, AvatarFallback} from '@/components/ui/avatar';\r\nimport {Badge} from '@/components/ui/badge';\r\nimport {useGameFlow} from '@/hooks/useGameFlow';\r\nimport {Crown, Target, Trophy, Users} from 'lucide-react';\r\nimport type {GameResult} from '@/types/gameFlow';\r\n\r\ninterface GameResultsProps {\r\n  gameResult?: GameResult | null;\r\n  currentRound: number;\r\n  totalRounds: number;\r\n  onNextRound?: () => void;\r\n  onReturnToLobby?: (options?: { skipServer?: boolean }) => void;\r\n}\r\n\r\nexport const GameResults: React.FC<GameResultsProps> = ({\r\n  gameResult,\r\n\r\n  currentRound,\r\n  totalRounds,\r\n  onNextRound,\r\n  onReturnToLobby,\r\n}) => {\r\n  const [result, setResult] = useState<GameResult | null>(gameResult || null);\r\n  const { getGameResult, isLoading } = useGameFlow();\r\n\r\n  useEffect(() => {\r\n    if (!result && !isLoading) {\r\n      getGameResult()\r\n        .then(setResult)\r\n        .catch(console.error);\r\n    }\r\n  }, [result, isLoading, getGameResult]);\r\n\r\n  if (isLoading || !result) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\r\n          <div className=\"text-muted-foreground\">   ...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isGameComplete = currentRound >= totalRounds;\r\n  const winningTeam = result.winningTeam;\r\n  const winners = result.players.filter(p => p.isWinner);\r\n  const losers = result.players.filter(p => !p.isWinner);\r\n  const stats = result.gameStatistics ?? {\r\n    currentRound,\r\n    totalRounds,\r\n    totalDuration: 0,\r\n    averageRoundDuration: 0\r\n  };\r\n\r\n  const formatDuration = (seconds: number) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/*    */}\r\n      <Card className={`border-2 ${winningTeam === 'CITIZENS' ? 'border-blue-500' : 'border-orange-500'}`}>\r\n        <CardHeader className=\"text-center\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <Trophy className={`h-16 w-16 ${winningTeam === 'CITIZENS' ? 'text-blue-500' : 'text-orange-500'}`} />\r\n          </div>\r\n          <CardTitle className=\"text-2xl\">\r\n            {winningTeam === 'CITIZENS' ? '  !' : '  !'}\r\n          </CardTitle>\r\n          <div className=\"text-muted-foreground\">\r\n            {result.reason ?? ''}\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/*   */}\r\n      <div className=\"grid gap-4 md:grid-cols-2\">\r\n        {/*  */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center text-green-600\">\r\n              <Crown className=\"mr-2 h-5 w-5\" />\r\n              \r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {winners.map((player) => (\r\n                <div key={player.id} className=\"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950/20 rounded-lg\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <Avatar className=\"h-8 w-8\">\r\n                      <AvatarFallback>\r\n                        {player.nickname.charAt(0).toUpperCase()}\r\n                      </AvatarFallback>\r\n                    </Avatar>\r\n                    <div>\r\n                      <div className=\"font-medium\">{player.nickname}</div>\r\n                      <Badge variant={player.role === 'LIAR' ? 'destructive' : 'default'} className=\"text-xs\">\r\n                        {player.role === 'LIAR' ? '' : ''}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"font-bold text-green-600\">+{player.score ?? 0}</div>\r\n                    <div className=\"text-xs text-muted-foreground\"></div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/*  */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center text-red-600\">\r\n              <Users className=\"mr-2 h-5 w-5\" />\r\n              \r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {losers.map((player) => (\r\n                <div key={player.id} className=\"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/20 rounded-lg\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <Avatar className=\"h-8 w-8\">\r\n                      <AvatarFallback>\r\n                        {player.nickname.charAt(0).toUpperCase()}\r\n                      </AvatarFallback>\r\n                    </Avatar>\r\n                    <div>\r\n                      <div className=\"font-medium\">{player.nickname}</div>\r\n                      <Badge variant={player.role === 'LIAR' ? 'destructive' : 'default'} className=\"text-xs\">\r\n                        {player.role === 'LIAR' ? '' : ''}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"font-bold text-red-600\">{player.score ?? 0}</div>\r\n                    <div className=\"text-xs text-muted-foreground\"></div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center\">\r\n            <Target className=\"mr-2 h-5 w-5\" />\r\n             \r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">\r\n                {stats.currentRound ?? currentRound}\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\"> </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">\r\n                {stats.totalRounds ?? totalRounds}\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\"> </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">\r\n                {formatDuration(stats.totalDuration ?? 0)}\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\"> </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">\r\n                {formatDuration(stats.averageRoundDuration ?? 0)}\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\">  </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/*   */}\r\n      <div className=\"flex justify-center space-x-4\">\r\n        {!isGameComplete && onNextRound && (\r\n          <Button onClick={onNextRound} size=\"lg\" className=\"min-w-[120px]\">\r\n             \r\n          </Button>\r\n        )}\r\n\r\n        {onReturnToLobby && (\r\n          <Button\r\n            onClick={() => onReturnToLobby?.()}\r\n            variant={isGameComplete ? \"default\" : \"outline\"}\r\n            size=\"lg\"\r\n            className=\"min-w-[120px]\"\r\n          >\r\n            {isGameComplete ? ' ' : ' '}\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/*    */}\r\n      {!isGameComplete && (\r\n        <Card className=\"border-muted\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-sm text-muted-foreground mb-2\">\r\n                  \r\n              </div>\r\n              <div className=\"flex justify-center space-x-2\">\r\n                {Array.from({ length: totalRounds }, (_, i) => (\r\n                  <div\r\n                    key={i}\r\n                    className={`w-3 h-3 rounded-full ${\r\n                      i < currentRound\r\n                        ? 'bg-primary'\r\n                        : i === currentRound\r\n                        ? 'bg-primary/50'\r\n                        : 'bg-muted'\r\n                    }`}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <div className=\"text-xs text-muted-foreground mt-1\">\r\n                {currentRound}/{totalRounds}  \r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/*    */}\r\n      {isGameComplete && (\r\n        <Card className=\"border-muted bg-muted/30\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-lg font-medium mb-2\">   !</div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                .         .\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import * as React from 'react'\r\nimport type {ActivityEvent} from '@/types/game'\r\n\r\nexport interface ActivityFeedProps { events: ActivityEvent[]; maxEvents?: number; showTimestamps?: boolean; autoScroll?: boolean; className?: string }\r\n\r\nexport const ActivityFeed: React.FC<ActivityFeedProps> = ({events,maxEvents=50,showTimestamps=true,autoScroll=true,className}) => {\r\n  const ref = React.useRef<HTMLUListElement>(null)\r\n  const trimmed = (events || []).slice(-maxEvents)\r\n  React.useEffect(()=>{ if(autoScroll && ref.current){ ref.current.scrollTop = ref.current.scrollHeight } },[trimmed,autoScroll])\r\n  return (\r\n    <div className={className} aria-label=' '>\r\n      <ul ref={ref} className='space-y-1 max-h-64 overflow-y-auto text-xs'>\r\n        {trimmed.map(e=> (\r\n          <li key={e.id} className='flex gap-2 items-start'>\r\n            {showTimestamps && <span className='text-gray-400 shrink-0'>{new Date(e.timestamp).toLocaleTimeString('ko-KR',{hour:'2-digit',minute:'2-digit'})}</span>}\r\n            <span className={e.highlight?'font-semibold text-primary-600':''}>{e.type}{e.content?`: ${e.content}`:''}</span>\r\n          </li>\r\n        ))}\r\n        {trimmed.length===0 && <li className='text-gray-400'> </li>}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\nvoid ActivityFeed\r\n\r\n","import React, {useCallback, useEffect, useId, useMemo, useRef, useState} from 'react'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Input} from '@/components/ui/input'\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Avatar, AvatarFallback} from '@/components/ui/avatar'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {ArrowDown, Check, Flag, Loader2, MessageCircle, RefreshCw, Send, Users} from 'lucide-react'\r\nimport {toast} from 'sonner'\r\nimport type {ChatMessage, ChatMessageType} from '@/types/realtime'\r\nimport type {Player} from '@/stores'\r\n\r\ninterface GameChatProps {\r\n  messages: ChatMessage[]\r\n  players: Player[]\r\n  currentPlayer: Player | null\r\n  typingPlayers?: Iterable<string>\r\n  gamePhase: string\r\n  isLoading?: boolean\r\n  error?: string | null\r\n  onSendMessage: (message: string, type?: ChatMessageType) => Promise<void>\r\n  onReportMessage?: (message: ChatMessage) => void\r\n  onReloadHistory?: () => Promise<void>\r\n  className?: string\r\n}\r\n\r\nconst restrictedPhases = new Set<string>(['VOTING_FOR_LIAR', 'VOTING_FOR_SURVIVAL'])\r\nconst MAX_MESSAGE_LENGTH = 240\r\n\r\nconst typeLabelMap: Record<ChatMessageType, string> = {\r\n  DISCUSSION: '',\r\n  GENERAL: '',\r\n  HINT: '',\r\n  DEFENSE: '',\r\n  SYSTEM: '',\r\n  POST_ROUND: ' ',\r\n  WAITING_ROOM: '',\r\n}\r\n\r\nconst formatTimestamp = (timestamp: number) => {\r\n  return new Intl.DateTimeFormat('ko-KR', {\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    hour12: false,\r\n  }).format(new Date(timestamp))\r\n}\r\n\r\nconst messageToneMap: Record<ChatMessageType | 'DEFAULT', string> = {\r\n  DISCUSSION: 'border-border/70 bg-background/95 text-foreground',\r\n  GENERAL: 'border-border/70 bg-background/95 text-foreground',\r\n  HINT: 'border-sky-500/50 bg-sky-50 text-sky-900 shadow-sm dark:bg-sky-500/15 dark:text-sky-100',\r\n  DEFENSE: 'border-rose-500/60 bg-rose-50 text-rose-900 shadow-sm dark:bg-rose-500/15 dark:text-rose-100',\r\n  SYSTEM: 'border-red-500/60 bg-red-50 text-red-900 shadow-sm dark:bg-red-500/20 dark:text-red-100',\r\n  POST_ROUND: 'border-amber-500/60 bg-amber-50 text-amber-900 shadow-sm dark:bg-amber-500/15 dark:text-amber-100',\r\n  WAITING_ROOM: 'border-border/70 bg-background/95 text-foreground',\r\n  DEFAULT: 'border-border/70 bg-background/95 text-foreground',\r\n}\r\n\r\nconst SENDABLE_MESSAGE_TYPES: ChatMessageType[] = ['DISCUSSION', 'HINT', 'DEFENSE']\r\n\r\nfunction usePrefersReducedMotion(): boolean {\r\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(() => {\r\n    if (typeof window === 'undefined' || !window.matchMedia) {\r\n      return false\r\n    }\r\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined' || !window.matchMedia) {\r\n      return\r\n    }\r\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\r\n    const updatePreference = () => {\r\n      setPrefersReducedMotion(mediaQuery.matches)\r\n    }\r\n    updatePreference()\r\n    const handleChange = (event: MediaQueryListEvent) => {\r\n      setPrefersReducedMotion(event.matches)\r\n    }\r\n    mediaQuery.addEventListener('change', handleChange)\r\n    return () => mediaQuery.removeEventListener('change', handleChange)\r\n  }, [])\r\n\r\n  return prefersReducedMotion\r\n}\r\n\r\n\r\nexport const GameChat: React.FC<GameChatProps> = ({\r\n  messages,\r\n  players,\r\n  currentPlayer,\r\n  typingPlayers,\r\n  gamePhase,\r\n  isLoading = false,\r\n  error = null,\r\n  onSendMessage,\r\n  onReportMessage,\r\n  onReloadHistory,\r\n  className = '',\r\n}) => {\r\n  const [draft, setDraft] = useState('')\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n  const [isSending, setIsSending] = useState(false)\r\n  const listEndRef = useRef<HTMLDivElement>(null)\r\n  const inputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const [isInputFocused, setIsInputFocused] = useState(false)\r\n  const [sendError, setSendError] = useState<string | null>(null)\r\n  const [justSent, setJustSent] = useState(false)\r\n  const [highlightedMessageId, setHighlightedMessageId] = useState<string | null>(null)\r\n  const [autoScroll, setAutoScroll] = useState(true)\r\n  const [hasUnread, setHasUnread] = useState(false)\r\n  const scrollContainerRef = useRef<HTMLDivElement>(null)\r\n  const [selectedType, setSelectedType] = useState<ChatMessageType>('DISCUSSION')\r\n  const prefersReducedMotion = usePrefersReducedMotion()\r\n  const highlightTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const sendPulseTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const lastMessageIdRef = useRef<string | null>(null)\r\n  const inputFocusTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const hasHydratedRef = useRef(false)\r\n\r\n  const accessibilityId = useId()\r\n\r\n  const playersByKey = useMemo(() => {\r\n    const map = new Map<string, Player>()\r\n    players.forEach((player) => {\r\n      map.set(player.id, player)\r\n      if (player.userId != null) {\r\n        map.set(player.userId.toString(), player)\r\n      }\r\n      if (player.nickname) {\r\n        map.set(player.nickname, player)\r\n      }\r\n    })\r\n    return map\r\n  }, [players])\r\n\r\n  const resolvePlayer = useCallback(\r\n    (message: ChatMessage): Player | undefined => {\r\n      if (message.playerId && playersByKey.has(message.playerId)) {\r\n        return playersByKey.get(message.playerId)\r\n      }\r\n      if (message.userId != null) {\r\n        const key = message.userId.toString()\r\n        if (playersByKey.has(key)) {\r\n          return playersByKey.get(key)\r\n        }\r\n      }\r\n      if (message.playerNickname && playersByKey.has(message.playerNickname)) {\r\n        return playersByKey.get(message.playerNickname)\r\n      }\r\n      if (message.nickname && playersByKey.has(message.nickname)) {\r\n        return playersByKey.get(message.nickname)\r\n      }\r\n      return undefined\r\n    },\r\n    [playersByKey],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!autoScroll) {\r\n      return\r\n    }\r\n    const container = scrollContainerRef.current\r\n    if (!container) {\r\n      return\r\n    }\r\n    container.scrollTo({ top: container.scrollHeight, behavior: prefersReducedMotion ? 'auto' : 'smooth' })\r\n  }, [autoScroll, messages, prefersReducedMotion])\r\n\r\n  useEffect(() => {\r\n    const latest = messages[messages.length - 1]\r\n    if (!latest) {\r\n      lastMessageIdRef.current = null\r\n      setHighlightedMessageId(null)\r\n      return\r\n    }\r\n    if (!hasHydratedRef.current) {\r\n      hasHydratedRef.current = true\r\n      lastMessageIdRef.current = latest.id\r\n      return\r\n    }\r\n    if (latest.id === lastMessageIdRef.current) {\r\n      return\r\n    }\r\n    lastMessageIdRef.current = latest.id\r\n    setHighlightedMessageId(latest.id)\r\n    if (!autoScroll) {\r\n      setHasUnread(true)\r\n    }\r\n    if (highlightTimeoutRef.current) {\r\n      clearTimeout(highlightTimeoutRef.current)\r\n    }\r\n    highlightTimeoutRef.current = setTimeout(() => setHighlightedMessageId(null), 1800)\r\n  }, [messages, autoScroll])\r\n\r\n  const typingNames = useMemo(() => {\r\n    if (!typingPlayers) {\r\n      return [] as string[]\r\n    }\r\n    return Array.from(typingPlayers)\r\n      .map((identifier) => {\r\n        const player = playersByKey.get(identifier) || playersByKey.get(identifier.toString())\r\n        return player?.nickname ?? identifier\r\n      })\r\n      .filter((name, index, self) => name && self.indexOf(name) === index)\r\n  }, [typingPlayers, playersByKey])\r\n\r\n  const canSendMessage = useMemo(() => !restrictedPhases.has(gamePhase), [gamePhase])\r\n\r\n  const messageTypeOptions = useMemo(() =>\r\n    SENDABLE_MESSAGE_TYPES.map((type) => ({ value: type, label: typeLabelMap[type] ?? type })),\r\n    [],\r\n  )\r\n\r\n  const messageCount = messages.length\r\n  const remainingCharacters = MAX_MESSAGE_LENGTH - draft.length\r\n  const characterWarningThreshold = Math.round(MAX_MESSAGE_LENGTH * 0.4)\r\n  const characterCriticalThreshold = Math.round(MAX_MESSAGE_LENGTH * 0.2)\r\n  const characterCountTone =\r\n    remainingCharacters <= characterCriticalThreshold\r\n      ? 'text-destructive font-semibold'\r\n      : remainingCharacters <= characterWarningThreshold\r\n        ? 'text-amber-600 dark:text-amber-400 font-medium'\r\n        : 'text-muted-foreground'\r\n  const onlineCount = useMemo(\r\n    () => players.filter((player) => (player.isOnline ?? player.isConnected)).length,\r\n    [players],\r\n  )\r\n\r\n  const sendMessage = useCallback(\r\n    async (override?: string) => {\r\n      const source = override ?? draft\r\n      const trimmed = source.trim()\r\n      if (!trimmed || isSending) {\r\n        return\r\n      }\r\n      setIsSending(true)\r\n      setAutoScroll(true)\r\n      setHasUnread(false)\r\n      setDraft('')\r\n      inputRef.current?.focus({ preventScroll: true })\r\n\r\n      try {\r\n        await onSendMessage(trimmed, selectedType)\r\n        setSendError(null)\r\n        const pulseDuration = prefersReducedMotion ? 200 : 700\r\n        setJustSent(true)\r\n        if (sendPulseTimeoutRef.current) {\r\n          clearTimeout(sendPulseTimeoutRef.current)\r\n        }\r\n        sendPulseTimeoutRef.current = setTimeout(() => setJustSent(false), pulseDuration)\r\n      } catch (err) {\r\n        console.error('Failed to send chat message', err)\r\n        setSendError('  .   .')\r\n        toast.error('  .   .')\r\n        setDraft(trimmed)\r\n        inputRef.current?.focus({ preventScroll: true })\r\n        throw err\r\n      } finally {\r\n        setIsSending(false)\r\n        if (inputFocusTimeoutRef.current) {\r\n          clearTimeout(inputFocusTimeoutRef.current)\r\n        }\r\n        inputFocusTimeoutRef.current = setTimeout(() => {\r\n          inputRef.current?.focus({ preventScroll: true })\r\n          inputFocusTimeoutRef.current = null\r\n        }, 0)\r\n      }\r\n    },\r\n    [draft, isSending, onSendMessage, prefersReducedMotion, selectedType],\r\n  )\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    sendMessage().catch(() => {})\r\n  }, [sendMessage])\r\n\r\n  const handleRetry = useCallback(() => {\r\n    if (!draft.trim()) {\r\n      return\r\n    }\r\n    sendMessage(draft).catch(() => {})\r\n  }, [draft, sendMessage])\r\n\r\n  const handleKeyDown = useCallback(\r\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (event.key === 'Enter' && !event.shiftKey) {\r\n        const nativeEvent = event.nativeEvent as KeyboardEvent & { isComposing?: boolean }\r\n        if (nativeEvent.isComposing) {\r\n          return\r\n        }\r\n        event.preventDefault()\r\n        handleSubmit()\r\n      }\r\n    },\r\n    [handleSubmit],\r\n  )\r\n\r\n  const handleComposerSubmit = useCallback(\r\n    (event: React.FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault()\r\n      handleSubmit()\r\n    },\r\n    [handleSubmit],\r\n  )\r\n\r\n  const handleReport = useCallback(\r\n    (message: ChatMessage) => {\r\n      if (onReportMessage) {\r\n        onReportMessage(message)\r\n        return\r\n      }\r\n      toast.info(' .', {\r\n        description: `${message.playerNickname ?? '  '}: ${message.content}`,\r\n      })\r\n    },\r\n    [onReportMessage],\r\n  )\r\n\r\n  const handleReloadHistory = useCallback(() => {\r\n    if (!onReloadHistory) {\r\n      return\r\n    }\r\n    onReloadHistory().catch((err) => {\r\n      console.error('Failed to reload chat history', err)\r\n      toast.error('    .')\r\n    })\r\n  }, [onReloadHistory])\r\n\r\n  const handleScroll = useCallback(() => {\r\n    const container = scrollContainerRef.current\r\n    if (!container) {\r\n      return\r\n    }\r\n    const distanceFromBottom = container.scrollHeight - container.scrollTop - container.clientHeight\r\n    const atBottom = distanceFromBottom <= 48\r\n    setAutoScroll((prev) => (prev === atBottom ? prev : atBottom))\r\n    if (atBottom) {\r\n      setHasUnread(false)\r\n    }\r\n  }, [])\r\n\r\n  const handleScrollToLatest = useCallback(() => {\r\n    const container = scrollContainerRef.current\r\n    if (!container) {\r\n      return\r\n    }\r\n    container.scrollTo({ top: container.scrollHeight, behavior: 'smooth' })\r\n    setAutoScroll(true)\r\n    setHasUnread(false)\r\n  }, [])\r\n\r\n  const containerClasses = [\r\n    'flex w-full max-w-full flex-col overflow-hidden rounded-xl border border-border/70 shadow-lg motion-safe:transition-all motion-safe:duration-200',\r\n    isExpanded\r\n      ? 'fixed left-1/2 top-1/2 z-50 w-[min(1200px,95vw)] h-[74vh] -translate-x-1/2 -translate-y-1/2 bg-background/95 backdrop-blur-md'\r\n      : 'relative mx-auto w-full max-w-[1120px] h-[46vh] min-h-[18rem] sm:h-[52vh] sm:min-h-[20rem]',\r\n    className,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' ')\r\n\r\n  const sendErrorId = sendError ? `${accessibilityId}-send-error` : undefined\r\n\r\n  const unreadButtonClasses = [\r\n    'absolute bottom-3 right-4 flex items-center gap-2 rounded-full bg-primary/90 px-3 py-1.5 text-xs font-semibold text-primary-foreground shadow-lg',\r\n    prefersReducedMotion\r\n      ? hasUnread\r\n        ? 'pointer-events-auto opacity-100'\r\n        : 'pointer-events-none opacity-0'\r\n      : hasUnread\r\n        ? 'pointer-events-auto translate-y-0 opacity-100 motion-safe:transition-all motion-safe:duration-200'\r\n        : 'pointer-events-none translate-y-2 opacity-0 motion-safe:transition-all motion-safe:duration-200',\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' ')\r\n\r\n  const hasMessages = messageCount > 0\r\n  useEffect(() => {\r\n    return () => {\r\n      if (highlightTimeoutRef.current) {\r\n        clearTimeout(highlightTimeoutRef.current)\r\n      }\r\n      if (sendPulseTimeoutRef.current) {\r\n        clearTimeout(sendPulseTimeoutRef.current)\r\n      }\r\n      if (inputFocusTimeoutRef.current) {\r\n        clearTimeout(inputFocusTimeoutRef.current)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Card className={containerClasses}>\r\n      <CardHeader className=\"border-b border-border/60 bg-muted/30 pb-3 pt-3\">\r\n        <CardTitle className=\"flex items-center justify-between text-base font-semibold sm:text-lg\">\r\n          <div className=\"flex items-center gap-2 text-sm font-semibold sm:text-base\">\r\n            <MessageCircle className=\"h-5 w-5 text-primary\" />\r\n            <span> </span>\r\n            {messageCount > 0 && (\r\n              <Badge variant=\"secondary\" className=\"rounded-full px-2 py-0.5 text-xs\">\r\n                {messageCount}\r\n              </Badge>\r\n            )}\r\n            {isLoading && <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />}\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n            <span className=\"flex items-center gap-1\">\r\n              <Users className=\"h-4 w-4\" />\r\n              {onlineCount}\r\n            </span>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setIsExpanded((prev) => !prev)}\r\n              className=\"h-7 px-2 text-xs\"\r\n              aria-pressed={isExpanded}\r\n              aria-label=\"  \"\r\n              title=\"  \"\r\n            >\r\n              {isExpanded ? '' : ''}\r\n            </Button>\r\n          </div>\r\n        </CardTitle>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"flex h-full min-h-0 flex-1 flex-col gap-3\">\r\n        <div className=\"flex h-full min-h-0 flex-1 flex-col gap-3 overflow-hidden\">\r\n          {error && (\r\n            <div className=\"flex items-center justify-between gap-3 rounded-md border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive\">\r\n              <span className=\"truncate\">{error}</span>\r\n              {onReloadHistory && (\r\n                <Button variant=\"outline\" size=\"xs\" onClick={handleReloadHistory} className=\"h-7\">\r\n                  <RefreshCw className=\"mr-1 h-3 w-3\" />  \r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n          <div\r\n            ref={scrollContainerRef}\r\n            onScroll={handleScroll}\r\n            role=\"region\"\r\n            aria-label=\"  \"\r\n            tabIndex={0}\r\n            className={`relative flex h-full flex-1 overflow-y-auto rounded-2xl border border-border/60 bg-muted/40 px-4 py-4 shadow-inner transition-colors scroll-smooth chat-scroll-area ${\r\n            isExpanded ? 'max-h-[74vh]' : ''\r\n          }`}\r\n          >\r\n            {!hasMessages ? (\r\n              <div className=\"flex h-full items-center justify-center text-sm text-muted-foreground\">\r\n                  \r\n              </div>\r\n            ) : (\r\n              <div\r\n                className=\"space-y-2.5 sm:space-y-3\"\r\n                role=\"log\"\r\n                aria-live=\"polite\"\r\n                aria-relevant=\"additions text\"\r\n              >\r\n                {messages.map((message) => {\r\n                  const player = resolvePlayer(message)\r\n                  const isSelf =\r\n                    !!currentPlayer &&\r\n                    (message.playerId === currentPlayer.id ||\r\n                      (message.userId != null && currentPlayer.userId === message.userId) ||\r\n                      message.playerNickname === currentPlayer.nickname)\r\n                  const isSystemMessage =\r\n                    message.type === 'SYSTEM' || message.playerNickname?.toUpperCase() === 'SYSTEM'\r\n                  const isHostMessage = !isSystemMessage && player?.isHost === true\r\n                  const displayName = isSystemMessage\r\n                    ? ''\r\n                    : player?.nickname ?? message.playerNickname ?? ''\r\n                  const badgeConfigs: Array<{ label: string; variant: 'default' | 'secondary' | 'outline' }> = []\r\n                  if (isSystemMessage) {\r\n                    badgeConfigs.push({ label: '', variant: 'outline' })\r\n                  } else {\r\n                    if (player?.isHost) {\r\n                      badgeConfigs.push({ label: '', variant: 'default' })\r\n                    }\r\n                    const isViewerSamePlayer = currentPlayer?.id === player?.id\r\n                    if (isViewerSamePlayer && player?.role === 'LIAR') {\r\n                      badgeConfigs.push({ label: '', variant: 'outline' })\r\n                    }\r\n                    if (isViewerSamePlayer && player?.role === 'CITIZEN') {\r\n                      badgeConfigs.push({ label: '', variant: 'outline' })\r\n                    }\r\n                  }\r\n                  if (isSelf) {\r\n                    badgeConfigs.push({ label: '', variant: 'secondary' })\r\n                  }\r\n                  const typeLabel =\r\n                    message.type === 'DISCUSSION' || message.type === 'GENERAL' || message.type === 'WAITING_ROOM'\r\n                      ? null\r\n                      : typeLabelMap[message.type]\r\n                  const showReport = !isSelf && message.type !== 'SYSTEM'\r\n                  const avatarInitial = displayName.charAt(0).toUpperCase()\r\n                  const bubbleTone = (() => {\r\n                    if (isSystemMessage) {\r\n                      return 'border-red-500/70 bg-red-50 text-red-900 shadow-sm dark:bg-red-500/20 dark:text-red-100'\r\n                    }\r\n                    if (isHostMessage) {\r\n                      return 'border-red-400/60 bg-red-50 text-red-900 shadow-sm dark:bg-red-500/15 dark:text-red-100'\r\n                    }\r\n                    if (isSelf) {\r\n                      return 'border-primary/70 bg-primary text-primary-foreground shadow-lg shadow-primary/20'\r\n                    }\r\n                    return messageToneMap[message.type] ?? messageToneMap.DEFAULT\r\n                  })()\r\n                  const justifyClass = isSelf ? 'justify-end' : 'justify-start'\r\n                  const alignmentClasses = isSelf ? 'items-end text-right' : 'items-start text-left'\r\n                  const contentTone = (() => {\r\n                    if (isSystemMessage || isHostMessage) {\r\n                      return 'text-red-900 dark:text-red-100'\r\n                    }\r\n                    if (isSelf) {\r\n                      return 'text-primary-foreground/95'\r\n                    }\r\n                    return 'text-foreground/90'\r\n                  })()\r\n                  const typeBadgeTone = (() => {\r\n                    switch (message.type) {\r\n                      case 'HINT':\r\n                        return 'border-sky-500 text-sky-700 dark:border-sky-400 dark:text-sky-200'\r\n                      case 'DEFENSE':\r\n                        return 'border-rose-500 text-rose-600 dark:border-rose-400 dark:text-rose-200'\r\n                      case 'SYSTEM':\r\n                        return 'border-red-500 text-red-600 dark:border-red-400 dark:text-red-200'\r\n                      case 'POST_ROUND':\r\n                        return 'border-amber-500 text-amber-700 dark:border-amber-400 dark:text-amber-200'\r\n                      default:\r\n                        return 'border-muted-foreground/40 text-muted-foreground'\r\n                    }\r\n                  })()\r\n                  const isHighlighted = highlightedMessageId === message.id\r\n                  const highlightClasses = isHighlighted ? 'ring-2 ring-primary/50 shadow-[0_0_0_4px_rgba(59,130,246,0.18)]' : ''\r\n\r\n                  return (\r\n                    <div key={message.id} className={`flex ${justifyClass}`}>\r\n                      <div className={`flex w-full flex-col gap-1.5 ${alignmentClasses}`}>\r\n                        <div\r\n                          className={`rounded-2xl border px-3.5 py-1.5 transition-all duration-150 ${bubbleTone} ${highlightClasses}`}\r\n                          data-message-type={message.type}\r\n                          data-highlighted={isHighlighted}\r\n                        >\r\n                          <div className=\"flex w-full items-start gap-2\">\r\n                            <Avatar className=\"h-6 w-6 shrink-0 shadow-sm ring-1 ring-border/40\">\r\n                              <AvatarFallback className=\"text-xs uppercase\">{avatarInitial}</AvatarFallback>\r\n                            </Avatar>\r\n                            <div className=\"flex min-w-0 flex-1 items-center gap-2\">\r\n                              <div className=\"flex items-center gap-1.5\">\r\n                                <span className=\"text-sm font-semibold leading-none tracking-tight\">{displayName}</span>\r\n                                {badgeConfigs.map(({ label, variant }) => (\r\n                                  <Badge key={label} variant={variant} className=\"rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide\">\r\n                                    {label}\r\n                                  </Badge>\r\n                                ))}\r\n                                {typeLabel && (\r\n                                  <Badge\r\n                                    variant=\"outline\"\r\n                                    className={`rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide ${typeBadgeTone}`}\r\n                                  >\r\n                                    {typeLabel}\r\n                                  </Badge>\r\n                                )}\r\n                              </div>\r\n                              <p className={`min-w-0 flex-1 whitespace-pre-wrap break-words text-[13.5px] leading-tight sm:text-[14px] ${contentTone}`}>\r\n                                {message.content}\r\n                              </p>\r\n                              <span className=\"shrink-0 text-[11px] text-muted-foreground\">\r\n                                {formatTimestamp(message.timestamp)}\r\n                              </span>\r\n                            </div>\r\n                            {showReport && (\r\n                              <Button\r\n                                size=\"icon\"\r\n                                variant=\"ghost\"\r\n                                className=\"h-6 w-6 text-muted-foreground transition-colors hover:text-foreground\"\r\n                                onClick={() => handleReport(message)}\r\n                                aria-label=\"\"\r\n                                title=\" \"\r\n                              >\r\n                                <Flag className=\"h-3 w-3\" />\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })}\r\n                <div ref={listEndRef} />\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              type=\"button\"\r\n              className={unreadButtonClasses}\r\n              onClick={handleScrollToLatest}\r\n              aria-live=\"polite\"\r\n            >\r\n              <ArrowDown className=\"h-3.5 w-3.5\" />\r\n               \r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {typingNames.length > 0 && (\r\n          <div className=\"text-xs italic text-muted-foreground\">\r\n            {typingNames.join(', ')}   ...\r\n          </div>\r\n        )}\r\n\r\n        <form className=\"flex flex-col gap-1.5\" onSubmit={handleComposerSubmit} noValidate>\r\n          <div\r\n            className={`group flex items-center gap-2 rounded-2xl border border-border/60 bg-background/90 px-3 py-1.5 motion-safe:transition-all motion-safe:duration-200 ${isInputFocused ? 'border-primary/70 shadow-[0_0_0_3px_rgba(59,130,246,0.18)]' : ''} ${justSent ? 'border-emerald-500/60 shadow-[0_0_0_3px_rgba(16,185,129,0.18)]' : ''}`}\r\n          >\r\n            <Input\r\n              ref={inputRef}\r\n              className=\"h-10 flex-1 border-none bg-transparent text-base shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\r\n              placeholder={\r\n                canSendMessage ? '  ...' : '     '\r\n              }\r\n              value={draft}\r\n              onChange={(event) => {\r\n                const value = event.target.value\r\n                setDraft(value)\r\n                if (sendError) {\r\n                  setSendError(null)\r\n                }\r\n              }}\r\n              onKeyDown={handleKeyDown}\r\n              onFocus={() => setIsInputFocused(true)}\r\n              onBlur={() => setIsInputFocused(false)}\r\n              disabled={!canSendMessage}\r\n              maxLength={MAX_MESSAGE_LENGTH}\r\n              aria-invalid={sendError ? true : undefined}\r\n              aria-describedby={sendErrorId}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={!canSendMessage || isSending || draft.trim().length === 0}\r\n              size=\"sm\"\r\n              className={`relative h-10 px-4 motion-safe:transition-all motion-safe:duration-200 ${justSent ? 'bg-emerald-500 text-emerald-50 hover:bg-emerald-500' : ''}`}\r\n            >\r\n              {isSending ? (\r\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n              ) : justSent ? (\r\n                <Check className=\"h-4 w-4\" />\r\n              ) : (\r\n                <Send className=\"h-4 w-4 motion-safe:transition-transform motion-safe:duration-200 motion-safe:group-hover:translate-x-0.5\" />\r\n              )}\r\n            </Button>\r\n          </div>\r\n          <div className=\"flex flex-wrap items-center justify-between gap-1.5 text-[10.5px] text-muted-foreground\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"whitespace-nowrap\">Shift+Enter </span>\r\n              <span className={`whitespace-nowrap transition-colors ${characterCountTone}`} aria-live=\"polite\">\r\n                  {Math.max(remainingCharacters, 0)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5\">\r\n              {messageTypeOptions.map(({ value, label }) => {\r\n                const isSelected = selectedType === value\r\n                return (\r\n                  <Button\r\n                    key={value}\r\n                    type=\"button\"\r\n                    variant={isSelected ? 'secondary' : 'ghost'}\r\n                    size=\"xs\"\r\n                    className=\"h-7 px-3\"\r\n                    onClick={() => setSelectedType(value)}\r\n                    aria-pressed={isSelected}\r\n                    disabled={isSending}\r\n                  >\r\n                    {label}\r\n                  </Button>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"min-h-[1.25rem]\" aria-live=\"assertive\">\r\n            {sendError && (\r\n              <div id={sendErrorId} role=\"alert\" className=\"flex items-center justify-between gap-3 rounded-lg border border-destructive/50 bg-destructive/10 px-3 py-1.5 text-xs text-destructive\">\r\n                <span className=\"truncate\">{sendError}</span>\r\n                <Button variant=\"outline\" size=\"xs\" onClick={handleRetry} disabled={isSending}>\r\n                   \r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </form>\r\n        <span className=\"sr-only\" role=\"status\" aria-live=\"polite\">\r\n          {justSent ? ' .' : ''}\r\n        </span>\r\n\r\n        {!canSendMessage && (\r\n          <div className=\"text-center text-xs text-muted-foreground\">\r\n                 \r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","// src/separator.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Separator\";\nvar DEFAULT_ORIENTATION = \"horizontal\";\nvar ORIENTATIONS = [\"horizontal\", \"vertical\"];\nvar Separator = React.forwardRef((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  const ariaOrientation = orientation === \"vertical\" ? orientation : void 0;\n  const semanticProps = decorative ? { role: \"none\" } : { \"aria-orientation\": ariaOrientation, role: \"separator\" };\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-orientation\": orientation,\n      ...semanticProps,\n      ...domProps,\n      ref: forwardedRef\n    }\n  );\n});\nSeparator.displayName = NAME;\nfunction isValidOrientation(orientation) {\n  return ORIENTATIONS.includes(orientation);\n}\nvar Root = Separator;\nexport {\n  Root,\n  Separator\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport {cn} from \"@/lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\r\n>(\r\n  (\r\n    { className, orientation = \"horizontal\", decorative = true, ...props },\r\n    ref\r\n  ) => (\r\n    <SeparatorPrimitive.Root\r\n      ref={ref}\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"shrink-0 bg-border\",\r\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n)\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName\r\n\r\nexport { Separator }","import {Fragment} from 'react'\r\nimport {motion} from 'framer-motion'\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Separator} from '@/components/ui/separator'\r\nimport type {Player, RoundSummaryEntry} from '@/stores/unifiedGameStore'\r\n\r\ninterface RoundSummaryPanelProps {\r\n  summary: RoundSummaryEntry\r\n  history: RoundSummaryEntry[]\r\n  players: Player[]\r\n}\r\n\r\nconst summaryVariants = {\r\n  hidden: { opacity: 0, y: 12 },\r\n  visible: { opacity: 1, y: 0, transition: { duration: 0.25 } },\r\n}\r\n\r\nexport function RoundSummaryPanel({ summary, history, players }: RoundSummaryPanelProps) {\r\n  const resolveNickname = (playerId?: string | null) => {\r\n    if (!playerId) return undefined\r\n    const player = players.find((p) => p.id === playerId || String(p.userId) === playerId)\r\n    return player?.nickname\r\n  }\r\n\r\n  const suspectedNickname = resolveNickname(summary.suspectedPlayerId)\r\n\r\n  return (\r\n    <motion.div variants={summaryVariants} initial=\"hidden\" animate=\"visible\">\r\n      <Card className=\"border-primary/30\">\r\n        <CardHeader className=\"pb-4\">\r\n          <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\r\n            <CardTitle className=\"text-lg\">\r\n               {summary.round}  \r\n            </CardTitle>\r\n            <div className=\"flex flex-wrap gap-2 text-sm\">\r\n              <Badge variant=\"secondary\">{new Date(summary.concludedAt).toLocaleTimeString()}</Badge>\r\n              {summary.topic && <Badge variant=\"outline\">: {summary.topic}</Badge>}\r\n            </div>\r\n          </div>\r\n          {suspectedNickname && (\r\n            <p className=\"mt-2 text-sm text-muted-foreground\">\r\n                : <span className=\"font-medium text-foreground\">{suspectedNickname}</span>\r\n            </p>\r\n          )}\r\n        </CardHeader>\r\n        <Separator className=\"mx-6\" />\r\n        <CardContent className=\"pt-4\">\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold text-muted-foreground mb-2\"> </h3>\r\n              <div className=\"space-y-2\">\r\n                {summary.scoreboard.slice(0, 5).map((entry, index) => (\r\n                  <div\r\n                    key={`${entry.playerId}-${index}`}\r\n                    className=\"flex items-center justify-between rounded-md border border-border/60 bg-card/50 px-3 py-2 text-sm\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Badge variant={index === 0 ? 'default' : 'secondary'}>{index + 1}</Badge>\r\n                      <span>{entry.nickname}</span>\r\n                    </div>\r\n                    <div className=\"text-sm font-semibold text-foreground\">{entry.score}</div>\r\n                  </div>\r\n                ))}\r\n                {summary.scoreboard.length === 0 && (\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                       .    .\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {history.length > 0 && (\r\n              <div>\r\n                <h3 className=\"text-sm font-semibold text-muted-foreground mb-2\">  </h3>\r\n                <div className=\"space-y-3 text-xs text-muted-foreground\">\r\n                  {history.map((record) => (\r\n                    <Fragment key={`${record.round}-${record.concludedAt}`}>\r\n                      <div className=\"rounded-md border border-dashed border-border/70 p-3\">\r\n                        <div className=\"flex items-center justify-between font-medium text-foreground\">\r\n                          <span> {record.round}</span>\r\n                          {record.topic && <span className=\"text-xs\">: {record.topic}</span>}\r\n                        </div>\r\n                        <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                          {record.scoreboard.slice(0, 3).map((entry, index) => (\r\n                            <Badge key={`${record.round}-${entry.playerId}-${index}`} variant=\"outline\">\r\n                              {entry.nickname} {entry.score}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </Fragment>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  )\r\n}\r\n","import {useCallback, useEffect, useMemo, useState} from 'react';\r\nimport {toast} from 'sonner';\r\nimport {useShallow} from 'zustand/react/shallow';\r\nimport {useConnectionStore} from '@/stores/connectionStore';\r\nimport {useGameStore} from '@/stores';\r\nimport {websocketService} from '@/services/websocketService';\r\nimport {resetRealtimeSessionTracking} from '@/utils/sessionCleanup';\r\nimport type {ChatMessageType} from '@/types/realtime';\r\n\r\nexport interface UseGameWebSocketReturn {\r\n  isConnected: boolean;\r\n  connectionError: string | null;\r\n  connect: () => Promise<void>;\r\n  disconnect: () => void;\r\n  retry: () => Promise<void>;\r\n  joinGame: (gameId: string) => void;\r\n  leaveGame: () => void;\r\n  sendChatMessage: (message: string, type?: ChatMessageType) => Promise<void>;\r\n  castVote: (targetPlayerId: string) => void;\r\n  startGame: () => void;\r\n}\r\n\r\nexport const useGameWebSocket = (): UseGameWebSocketReturn => {\r\n  const selectGameStore = useShallow((state: ReturnType<typeof useGameStore.getState>) => ({\r\n    connectionError: state.connectionError,\r\n    setConnectionError: state.setConnectionError,\r\n    setConnectionState: state.setConnectionState,\r\n    resetGameData: state.resetGameData,\r\n    sendChatMessage: state.sendChatMessage,\r\n    castVote: state.castVote,\r\n    startGame: state.startGame,\r\n    currentPlayer: state.currentPlayer,\r\n  }));\r\n\r\n  const {\r\n    connectionError,\r\n    setConnectionError,\r\n    setConnectionState,\r\n    resetGameData,\r\n    sendChatMessage: sendChatMessageAction,\r\n    castVote: castVoteAction,\r\n    startGame: startGameAction,\r\n    currentPlayer,\r\n  } = useGameStore(selectGameStore);\r\n\r\n  const selectConnectionStore = useShallow((state: ReturnType<typeof useConnectionStore.getState>) => ({\r\n    status: state.status,\r\n    connect: state.connect,\r\n    disconnect: state.disconnect,\r\n  }));\r\n\r\n  const {\r\n    status: connectionStatus,\r\n    connect: connectConnection,\r\n    disconnect: disconnectConnection,\r\n  } = useConnectionStore(selectConnectionStore);\r\n\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n\r\n  const isConnected = connectionStatus === 'connected';\r\n  const derivedError = useMemo(() => {\r\n    if (connectionStatus === 'error' && !connectionError) {\r\n      return '  ';\r\n    }\r\n    return connectionError;\r\n  }, [connectionStatus, connectionError]);\r\n\r\n  useEffect(() => {\r\n    setConnectionState(connectionStatus === 'connected');\r\n    if (connectionStatus === 'connected') {\r\n      setConnectionError(null);\r\n    }\r\n  }, [connectionStatus, setConnectionError, setConnectionState]);\r\n\r\n  const connect = useCallback(async () => {\r\n    if (isConnecting || isConnected) {\r\n      return;\r\n    }\r\n\r\n    setIsConnecting(true);\r\n    setConnectionError(null);\r\n\r\n    try {\r\n      await connectConnection();\r\n      toast.success('  ');\r\n    } catch (error) {\r\n      const message = error instanceof Error ? error.message : ' ';\r\n      setConnectionError(message);\r\n      toast.error(message);\r\n      throw error;\r\n    } finally {\r\n      setIsConnecting(false);\r\n    }\r\n  }, [connectConnection, isConnected, isConnecting, setConnectionError]);\r\n\r\n  const disconnect = useCallback(() => {\r\n    disconnectConnection();\r\n  }, [disconnectConnection]);\r\n\r\n  const retry = useCallback(async () => {\r\n    disconnectConnection();\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n    return connect();\r\n  }, [connect, disconnectConnection]);\r\n\r\n  const joinGame = useCallback((gameId: string) => {\r\n    if (!gameId) {\r\n      return;\r\n    }\r\n\r\n    if (!isConnected) {\r\n      const message = '  ';\r\n      setConnectionError(message);\r\n      toast.error(message);\r\n      return;\r\n    }\r\n\r\n    websocketService.subscribeToGame(gameId);\r\n    resetGameData();\r\n  }, [isConnected, resetGameData, setConnectionError]);\r\n\r\n  const leaveGame = useCallback(() => {\r\n    const { gameNumber } = useGameStore.getState();\r\n    if (gameNumber != null) {\r\n      websocketService.unsubscribeFromGame(gameNumber.toString());\r\n    }\r\n    resetGameData();\r\n    resetRealtimeSessionTracking();\r\n  }, [resetGameData]);\r\n\r\n  const sendChatMessage = useCallback((message: string, type: ChatMessageType = 'DISCUSSION') => {\r\n    return sendChatMessageAction(message, type);\r\n  }, [sendChatMessageAction]);\r\n\r\n  const castVote = useCallback((targetPlayerId: string) => {\r\n    const voterId = currentPlayer?.id;\r\n    if (!voterId) {\r\n      console.warn('    .');\r\n      return;\r\n    }\r\n    castVoteAction(voterId, targetPlayerId);\r\n  }, [castVoteAction, currentPlayer]);\r\n\r\n  const startGame = useCallback(() => {\r\n    startGameAction();\r\n  }, [startGameAction]);\r\n\r\n  return {\r\n    isConnected,\r\n    connectionError: derivedError,\r\n    connect,\r\n    disconnect,\r\n    retry,\r\n    joinGame,\r\n    leaveGame,\r\n    sendChatMessage,\r\n    castVote,\r\n    startGame,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport {AnimatePresence, motion} from 'framer-motion';\r\nimport {AlertCircle, CheckCircle, Loader2, Signal} from 'lucide-react';\r\nimport {Card, CardContent} from '@/components/ui/card';\r\nimport {Button} from '@/components/ui/button';\r\nimport {cn} from '@/lib/utils';\r\nimport {useGameWebSocket} from '../../../hooks/useGameWebSocket';\r\nimport {useConnectionStore} from '@/stores/connectionStore';\r\nimport type {ConnectionStoreState} from '@/types/store';\r\nimport {useShallow} from 'zustand/react/shallow';\r\n\r\nexport interface ConnectionStatusProps {\r\n  className?: string;\r\n  showDetails?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\ninterface StatusDescriptor {\r\n  status: 'error' | 'connected' | 'connecting' | 'reconnecting' | 'degraded';\r\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\r\n  text: string;\r\n  color: string;\r\n  bgColor: string;\r\n  borderColor: string;\r\n}\r\n\r\nexport const ConnectionStatus: React.FC<ConnectionStatusProps> = ({\r\n  className,\r\n  showDetails = false,\r\n  compact = false\r\n}) => {\r\n  const {\r\n    isConnected,\r\n    connectionError,\r\n    retry\r\n  } = useGameWebSocket();\r\n\r\n  const selectConnectionMetrics = useShallow((state: ConnectionStoreState) => ({\r\n    realtimeStatus: state.status,\r\n    avgLatency: state.avgLatency,\r\n    backlog: state.messageQueue.length + Object.keys(state.pendingMessages).length,\r\n  }));\r\n\r\n  const connectionMetrics = useConnectionStore(selectConnectionMetrics);\r\n\r\n  const { realtimeStatus, avgLatency, backlog } = connectionMetrics;\r\n\r\n  const isReconnecting = realtimeStatus === 'reconnecting';\r\n  const isDegraded = realtimeStatus === 'connected' && (backlog > 0 || (avgLatency ?? 0) > 1500);\r\n\r\n  const metricsText = React.useMemo(() => {\r\n    if (backlog > 0) {\r\n      return ` ${backlog}`;\r\n    }\r\n    if (avgLatency != null && avgLatency > 0) {\r\n      return `${Math.round(avgLatency)}ms`;\r\n    }\r\n    return undefined;\r\n  }, [avgLatency, backlog]);\r\n\r\n  const getConnectionStatus = (): StatusDescriptor => {\r\n    if (connectionError || realtimeStatus === 'error') {\r\n      return {\r\n        status: 'error',\r\n        icon: AlertCircle,\r\n        text: ' ',\r\n        color: 'text-red-500',\r\n        bgColor: 'bg-red-50 dark:bg-red-900/20',\r\n        borderColor: 'border-red-200 dark:border-red-800'\r\n      };\r\n    }\r\n\r\n    if (isReconnecting) {\r\n      return {\r\n        status: 'reconnecting',\r\n        icon: Loader2,\r\n        text: ' ...',\r\n        color: 'text-yellow-500',\r\n        bgColor: 'bg-yellow-50 dark:bg-yellow-900/20',\r\n        borderColor: 'border-yellow-200 dark:border-yellow-800'\r\n      };\r\n    }\r\n\r\n    if (isDegraded) {\r\n      return {\r\n        status: 'degraded',\r\n        icon: Signal,\r\n        text: '  ',\r\n        color: 'text-amber-500',\r\n        bgColor: 'bg-amber-50 dark:bg-amber-900/20',\r\n        borderColor: 'border-amber-200 dark:border-amber-800'\r\n      };\r\n    }\r\n\r\n    if (isConnected || realtimeStatus === 'connected') {\r\n      return {\r\n        status: 'connected',\r\n        icon: CheckCircle,\r\n        text: ' ',\r\n        color: 'text-green-500',\r\n        bgColor: 'bg-green-50 dark:bg-green-900/20',\r\n        borderColor: 'border-green-200 dark:border-green-800'\r\n      };\r\n    }\r\n\r\n    return {\r\n      status: 'connecting',\r\n      icon: Loader2,\r\n      text: ' ...',\r\n      color: 'text-yellow-500',\r\n      bgColor: 'bg-yellow-50 dark:bg-yellow-900/20',\r\n      borderColor: 'border-yellow-200 dark:border-yellow-800'\r\n    };\r\n  };\r\n\r\n  const statusInfo = getConnectionStatus();\r\n  const Icon = statusInfo.icon;\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className={cn(\"flex items-center gap-2\", className)}>\r\n        <Icon\r\n          className={cn(\r\n            \"w-4 h-4\",\r\n            statusInfo.color,\r\n            (statusInfo.status === 'connecting' || statusInfo.status === 'reconnecting') && \"animate-spin\"\r\n          )}\r\n        />\r\n        <span className={cn(\"text-sm\", statusInfo.color)}>\r\n          {statusInfo.text}\r\n        </span>\r\n        {metricsText && statusInfo.status !== 'error' && (\r\n          <span className=\"text-xs text-muted-foreground\">({metricsText})</span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className={cn(\r\n      \"transition-all duration-200\",\r\n      statusInfo.bgColor,\r\n      statusInfo.borderColor,\r\n      className\r\n    )}>\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Icon\r\n              className={cn(\r\n                \"w-5 h-5\",\r\n                statusInfo.color,\r\n                (statusInfo.status === 'connecting' || statusInfo.status === 'reconnecting') && \"animate-spin\"\r\n              )}\r\n            />\r\n            <div>\r\n              <div className={cn(\"font-medium\", statusInfo.color)}>\r\n                {statusInfo.text}\r\n              </div>\r\n              {metricsText && statusInfo.status !== 'error' && (\r\n                <div className=\"text-xs text-muted-foreground mt-1\">\r\n                  {metricsText}\r\n                </div>\r\n              )}\r\n              {showDetails && connectionError && (\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\r\n                  {connectionError}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {(statusInfo.status === 'error' || statusInfo.status === 'degraded') && (\r\n            <Button\r\n              onClick={retry}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"ml-4\"\r\n            >\r\n              \r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {showDetails && (\r\n          <AnimatePresence>\r\n            {statusInfo.status === 'connected' && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                className=\"mt-3 pt-3 border-t border-green-200 dark:border-green-800\"\r\n              >\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      .\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n            {statusInfo.status === 'degraded' && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                className=\"mt-3 pt-3 border-t border-amber-200 dark:border-amber-800\"\r\n              >\r\n                <div className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n                    .       .\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Separator} from '@/components/ui/separator'\r\nimport {Info, Keyboard, ShieldAlert} from 'lucide-react'\r\n\r\nconst quickShortcuts = [\r\n  { key: 'Enter', description: '    ' },\r\n  { key: 'Shift + Enter', description: ' ' },\r\n  { key: 'Tab', description: '   ' }\r\n]\r\n\r\nexport function GameHelpPanel() {\r\n  return (\r\n    <Card aria-labelledby=\"gameplay-help-heading\">\r\n      <CardHeader>\r\n        <CardTitle id=\"gameplay-help-heading\" className=\"flex items-center gap-2 text-base font-semibold\">\r\n          <Info className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n           & \r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4 text-sm text-muted-foreground\">\r\n        <section aria-labelledby=\"gameplay-rules-heading\">\r\n          <h3 id=\"gameplay-rules-heading\" className=\"mb-2 text-sm font-semibold text-foreground\"> </h3>\r\n          <ul className=\"space-y-1 list-disc pl-5\">\r\n            <li>        .</li>\r\n            <li>      .</li>\r\n            <li>         .</li>\r\n          </ul>\r\n        </section>\r\n\r\n        <Separator />\r\n\r\n        <section aria-labelledby=\"gameplay-shortcuts-heading\" className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Keyboard className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n            <h3 id=\"gameplay-shortcuts-heading\" className=\"text-sm font-semibold text-foreground\"> </h3>\r\n          </div>\r\n          <ul className=\"space-y-1\">\r\n            {quickShortcuts.map((shortcut) => (\r\n              <li key={shortcut.key} className=\"flex items-center justify-between gap-4 rounded-md border border-border/60 bg-muted/40 px-3 py-2\">\r\n                <Badge variant=\"secondary\" className=\"font-mono text-xs uppercase tracking-wide\">\r\n                  {shortcut.key}\r\n                </Badge>\r\n                <span className=\"text-xs text-muted-foreground\">{shortcut.description}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n\r\n        <Separator />\r\n\r\n        <section aria-labelledby=\"gameplay-safety-heading\" className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <ShieldAlert className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n            <h3 id=\"gameplay-safety-heading\" className=\"text-sm font-semibold text-foreground\"> </h3>\r\n          </div>\r\n          <p>\r\n                      .\r\n                   .\r\n          </p>\r\n        </section>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","import {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport type {ScoreboardEntry} from '@/types/backendTypes'\r\n\r\ninterface GameplayScoreboardProps {\r\n  entries: ScoreboardEntry[]\r\n}\r\n\r\nexport function GameplayScoreboard({ entries }: GameplayScoreboardProps) {\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-base font-semibold\"> </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {entries.length === 0 ? (\r\n          <p className=\"text-sm text-muted-foreground\">   .    .</p>\r\n        ) : (\r\n          <ul className=\"space-y-2 text-sm\">\r\n            {entries.map((entry) => (\r\n              <li key={entry.userId} className=\"flex items-center justify-between rounded-md border border-border/60 p-3\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Badge variant=\"secondary\">{entry.nickname}</Badge>\r\n                  {!entry.isAlive && <Badge variant=\"destructive\"></Badge>}\r\n                </div>\r\n                <span className=\"text-base font-semibold text-foreground\">{entry.score}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport type {Player} from '@/types/game'\r\nimport type {GamePhase} from '@/types/backendTypes'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Avatar, AvatarFallback} from '@/components/ui/avatar'\r\nimport {AnimatePresence, motion} from 'framer-motion'\r\nimport {CheckCircle, Clock, Crown, Eye, MessageCircle, Shield, Target, Users, WifiOff, Zap} from 'lucide-react'\r\n\r\nexport interface PlayerStatusPanelProps {\r\n  players: Player[]\r\n  currentPhase: GamePhase\r\n  className?: string\r\n  currentPlayer: Player | null\r\n  currentTurnPlayerId: string | null\r\n  isLiar?: boolean\r\n  suspectedPlayer?: string\r\n  votes?: Record<string, string>\r\n}\r\nexport const PlayerStatusPanel: React.FC<PlayerStatusPanelProps> = ({\r\n  players,\r\n  currentPhase,\r\n\r\n  className,\r\n  currentPlayer,\r\n  currentTurnPlayerId,\r\n  votes = {},\r\n  isLiar = false,\r\n  suspectedPlayer,\r\n}) => {\r\n  const getPlayerStatus = (player: Player) => {\r\n    if (!player.isOnline) return 'offline'\r\n    if (player.id === currentTurnPlayerId) return 'active'\r\n    if (votes[player.id]) return 'voted'\r\n    if (currentPhase === 'WAITING_FOR_PLAYERS') return 'ready'\r\n    return 'waiting'\r\n  }\r\n\r\n  const getStatusConfig = (status: string) => {\r\n    switch (status) {\r\n      case 'offline':\r\n        return {\r\n          color: 'text-gray-500',\r\n          bgColor: 'bg-gray-100',\r\n          icon: <WifiOff className=\"h-3 w-3\" />,\r\n          label: ''\r\n        }\r\n      case 'active':\r\n        return {\r\n          color: 'text-green-600',\r\n          bgColor: 'bg-green-100',\r\n          icon: <Zap className=\"h-3 w-3\" />,\r\n          label: ' '\r\n        }\r\n      case 'voted':\r\n        return {\r\n          color: 'text-blue-600',\r\n          bgColor: 'bg-blue-100',\r\n          icon: <CheckCircle className=\"h-3 w-3\" />,\r\n          label: ''\r\n        }\r\n      case 'ready':\r\n        return {\r\n          color: 'text-emerald-600',\r\n          bgColor: 'bg-emerald-100',\r\n          icon: <CheckCircle className=\"h-3 w-3\" />,\r\n          label: ''\r\n        }\r\n      default:\r\n        return {\r\n          color: 'text-yellow-600',\r\n          bgColor: 'bg-yellow-100',\r\n          icon: <Clock className=\"h-3 w-3\" />,\r\n          label: ' '\r\n        }\r\n    }\r\n  }\r\n\r\n  const getPlayerRole = (player: Player) => {\r\n    if (player.id === suspectedPlayer) return 'suspected'\r\n    if (isLiar && player.id === currentPlayer?.id) return 'liar'\r\n    if (player.isHost) return 'host'\r\n    return 'citizen'\r\n  }\r\n\r\n  const getRoleConfig = (role: string) => {\r\n    switch (role) {\r\n      case 'liar':\r\n        return {\r\n          label: '',\r\n          color: 'text-orange-600',\r\n          bgColor: 'bg-orange-100',\r\n          icon: <Eye className=\"h-3 w-3\" />\r\n        }\r\n      case 'suspected':\r\n        return {\r\n          label: ' ',\r\n          color: 'text-red-600',\r\n          bgColor: 'bg-red-100',\r\n          icon: <Target className=\"h-3 w-3\" />\r\n        }\r\n      case 'host':\r\n        return {\r\n          label: '',\r\n          color: 'text-purple-600',\r\n          bgColor: 'bg-purple-100',\r\n          icon: <Crown className=\"h-3 w-3\" />\r\n        }\r\n      default:\r\n        return {\r\n          label: '',\r\n          color: 'text-blue-600',\r\n          bgColor: 'bg-blue-100',\r\n          icon: <Shield className=\"h-3 w-3\" />\r\n        }\r\n    }\r\n  }\r\n\r\n  const getRoleAccentClass = (role: string, isCurrent: boolean) => {\r\n    if (role === 'suspected') {\r\n      return 'border-red-300 bg-red-50 animate-[pulse_2s_ease-in-out_infinite]'\r\n    }\r\n    if (role === 'liar') {\r\n      return 'border-orange-300 bg-orange-50'\r\n    }\r\n    if (role === 'host') {\r\n      return 'border-purple-200 bg-purple-50'\r\n    }\r\n    if (isCurrent) {\r\n      return 'border-blue-300 bg-blue-50'\r\n    }\r\n    return 'border-gray-200 bg-white'\r\n  }\r\n\r\n  const getVoteCount = (playerId: string) => {\r\n    return Object.values(votes).filter(vote => vote === playerId).length\r\n  }\r\n\r\n  const formatLastActive = (timestamp?: number) => {\r\n    if (!timestamp) return '  '\r\n    const diff = Date.now() - timestamp\r\n    const minutes = Math.floor(diff / 60000)\r\n    if (minutes === 0) return ' '\r\n    if (minutes < 60) return `${minutes} `\r\n    return `${Math.floor(minutes / 60)} `\r\n  }\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className || ''}`}>\r\n      {/* Player List */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center text-sm\">\r\n            <Users className=\"mr-2 h-4 w-4\" />\r\n              ({players.length})\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-2 max-h-80 overflow-y-auto\">\r\n            <AnimatePresence>\r\n              {players.map((player) => {\r\n                const status = getPlayerStatus(player)\r\n                const statusConfig = getStatusConfig(status)\r\n                const role = getPlayerRole(player)\r\n                const roleConfig = getRoleConfig(role)\r\n                const voteCount = getVoteCount(player.id)\r\n                const isCurrentPlayer = player.id === currentPlayer?.id\r\n                const accentClass = getRoleAccentClass(role, isCurrentPlayer)\r\n                const badgeAriaLabel = `${player.nickname} ${roleConfig.label}`\r\n\r\n                return (\r\n                  <motion.div\r\n                    key={player.id}\r\n                    layout\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    exit={{ opacity: 0, x: 20 }}\r\n                    transition={{ duration: 0.2 }}\r\n                    className={`\r\n                      flex items-center justify-between p-3 rounded-lg border transition-all\r\n                      ${accentClass}\r\n                      ${player.id === currentTurnPlayerId ? 'ring-2 ring-green-300 ring-opacity-50' : ''}\r\n                      ${!player.isOnline ? 'opacity-60' : ''}\r\n                    `}\r\n                    data-role={role}\r\n                    aria-label={`${player.nickname}  ${roleConfig.label}`}\r\n                  >\r\n                    <div className=\"flex items-center space-x-3 flex-1\">\r\n                      {/* Avatar */}\r\n                      <div className=\"relative\">\r\n                        <Avatar className=\"h-8 w-8\">\r\n                          <AvatarFallback className={`text-xs ${roleConfig.bgColor} ${roleConfig.color}`}>\r\n                            {player.nickname.charAt(0).toUpperCase()}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n\r\n                        {/* Online Status Indicator */}\r\n                        <div\r\n                          className={`absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${\r\n                            player.isOnline ? 'bg-green-500' : 'bg-gray-400'\r\n                          }`}\r\n                        />\r\n                      </div>\r\n\r\n                      {/* Player Info */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className={`font-medium text-sm truncate ${\r\n                            isCurrentPlayer ? 'text-blue-700' : 'text-gray-900'\r\n                          }`}>\r\n                            {player.nickname}\r\n                            {isCurrentPlayer && ' ()'}\r\n                          </span>\r\n\r\n                          {/* Role Badge */}\r\n                          <Badge\r\n                            variant=\"secondary\"\r\n                            className={`text-xs ${roleConfig.bgColor} ${roleConfig.color}`}\r\n                            aria-label={badgeAriaLabel}\r\n                          >\r\n                            <div className=\"flex items-center space-x-1\" aria-hidden=\"true\">\r\n                              {roleConfig.icon}\r\n                              <span>{roleConfig.label}</span>\r\n                            </div>\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        {/* Status and Last Active */}\r\n                        <div className=\"flex items-center space-x-2 mt-1\">\r\n                          <div className={`flex items-center space-x-1 text-xs ${statusConfig.color}`}>\r\n                            {statusConfig.icon}\r\n                            <span>{statusConfig.label}</span>\r\n                          </div>\r\n                          <span className=\"text-xs text-gray-500\">\r\n                             {formatLastActive(player.lastActive)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Status Indicators */}\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {/* Vote Count */}\r\n                      {voteCount > 0 && (\r\n                        <Badge variant=\"destructive\" className=\"text-xs\">\r\n                          {voteCount}\r\n                        </Badge>\r\n                      )}\r\n\r\n                      {/* Turn Indicator */}\r\n                      {player.id === currentTurnPlayerId && (\r\n                        <div className=\"flex items-center space-x-1\">\r\n                          <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\r\n                          <span className=\"text-xs text-green-600 font-medium\"></span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Actions Available */}\r\n                      {currentPhase === 'SPEECH' && player.id === currentTurnPlayerId && (\r\n                        <Badge variant=\"outline\" className=\"text-xs text-green-600 border-green-300\">\r\n                          <MessageCircle className=\"mr-1 h-3 w-3\" />\r\n                           \r\n                        </Badge>\r\n                      )}\r\n\r\n                      {currentPhase === 'DEFENDING' && player.id === suspectedPlayer && (\r\n                        <Badge variant=\"outline\" className=\"text-xs text-purple-600 border-purple-300\">\r\n                          <Shield className=\"mr-1 h-3 w-3\" />\r\n                           \r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </motion.div>\r\n                )\r\n              })}\r\n            </AnimatePresence>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Quick Stats */}\r\n      <Card>\r\n        <CardContent className=\"pt-4\">\r\n          <div className=\"grid grid-cols-2 gap-4 text-center\">\r\n            <div>\r\n              <div className=\"text-lg font-bold text-green-600\">\r\n                {players.filter(p => p.isOnline).length}\r\n              </div>\r\n              <div className=\"text-xs text-gray-600\"></div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-lg font-bold text-blue-600\">\r\n                {Object.keys(votes).length}\r\n              </div>\r\n              <div className=\"text-xs text-gray-600\"> </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Phase-specific Information */}\r\n      {currentPhase === 'VOTING_FOR_LIAR' && (\r\n        <Card className=\"border-red-200 bg-red-50\">\r\n          <CardContent className=\"pt-4\">\r\n            <div className=\"text-sm text-red-800\">\r\n              <div className=\"font-medium mb-2\">  </div>\r\n              <div className=\"space-y-1\">\r\n                {players\r\n                  .filter(p => getVoteCount(p.id) > 0)\r\n                  .sort((a, b) => getVoteCount(b.id) - getVoteCount(a.id))\r\n                  .map(player => (\r\n                    <div key={player.id} className=\"flex justify-between\">\r\n                      <span>{player.nickname}</span>\r\n                      <span className=\"font-medium\">{getVoteCount(player.id)}</span>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import {type CSSProperties, type ReactNode, useEffect, useLayoutEffect, useMemo, useRef, useState} from 'react'\r\nimport {ArrowLeft, LifeBuoy, ListTree, UserCheck, Users} from 'lucide-react'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Card, CardContent} from '@/components/ui/card'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Progress} from '@/components/ui/progress'\r\nimport {GamePhaseIndicator} from './GamePhaseIndicator'\r\nimport {GameActionInterface} from './GameActionInterface'\r\nimport {GameResults} from './GameResults'\r\nimport {ActivityFeed} from './ActivityFeed'\r\nimport {GameChat} from './GameChat'\r\nimport {RoundSummaryPanel} from './RoundSummaryPanel'\r\nimport {ConnectionStatus} from './ConnectionStatus/ConnectionStatus'\r\nimport {GameHelpPanel} from './GameHelpPanel'\r\nimport {GameplayScoreboard} from '@/components/gameplay/GameplayScoreboard'\r\nimport {PlayerStatusPanel} from './PlayerStatusPanel'\r\nimport type {GamePhase, ScoreboardEntry} from '@/types/backendTypes'\r\nimport {toast} from 'sonner'\r\nimport type {GameTimer, Player, RoundSummaryEntry, RoundUxStage, VotingState} from '@/stores/unifiedGameStore'\r\nimport type {ChatMessage, ChatMessageType} from '@/types/realtime'\r\nimport type {ActivityEvent} from '@/types/game'\r\nimport {Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle,} from '@/components/ui/dialog'\r\nimport {ScrollArea} from '@/components/ui/scroll-area'\r\n\r\nconst stageOrder: RoundUxStage[] = ['waiting', 'speech', 'debate', 'vote', 'results']\r\n\r\nconst stageLabels: Record<RoundUxStage, string> = {\r\n  waiting: ' ',\r\n  speech: ' ',\r\n  debate: '',\r\n  vote: '',\r\n  results: ' ',\r\n}\r\n\r\nconst stageDescriptions: Record<RoundUxStage, string> = {\r\n  waiting: '    .',\r\n  speech: '      .',\r\n  debate: '      .',\r\n  vote: '     .',\r\n  results: '     .',\r\n}\r\n\r\nconst nextStageHints: Record<RoundUxStage, string> = {\r\n  waiting: '    .',\r\n  speech: '     .',\r\n  debate: '     .',\r\n  vote: '    .',\r\n  results: '   .',\r\n}\r\n\r\nexport interface GameLayoutProps {\r\n  gameNumber: number | null\r\n  currentRound: number\r\n  totalRounds: number\r\n  currentTopic: string | null\r\n  currentWord: string | null\r\n  isLiar: boolean\r\n  currentPhase: GamePhase\r\n  timer: GameTimer\r\n  players: Player[]\r\n  currentPlayer: Player | null\r\n  currentTurnPlayerId: string | null\r\n  voting: VotingState\r\n  suspectedPlayer: Player | null\r\n  activities: ActivityEvent[]\r\n  summary: {\r\n    totalPlayers: number\r\n    alivePlayers: number\r\n    readyPlayers: number\r\n  }\r\n  isLoading: boolean\r\n  error: string | null\r\n  chatMessages: ChatMessage[]\r\n  chatLoading: boolean\r\n  chatError: string | null\r\n  typingPlayers: Set<string>\r\n  actionSlot?: ReactNode\r\n  roundStage: RoundUxStage\r\n  roundStageEnteredAt: number | null\r\n  roundHasStarted: boolean\r\n  roundSummaries: RoundSummaryEntry[]\r\n  currentRoundSummary: RoundSummaryEntry | null\r\n  scoreboardEntries: ScoreboardEntry[]\r\n  onSendChatMessage: (message: string, type?: ChatMessageType) => Promise<void>\r\n  onReportChatMessage?: (message: ChatMessage) => void\r\n  onReloadChat?: () => Promise<void>\r\n  onReturnToLobby?: (options?: { skipServer?: boolean }) => void\r\n  onNextRound?: () => void\r\n  onSubmitHint: (hint: string) => Promise<void>\r\n  onVotePlayer: (playerId: string) => Promise<void>\r\n  onSubmitDefense: (defense: string) => Promise<void>\r\n  onGuessWord: (guess: string) => Promise<void>\r\n  onCastFinalVote: (execute: boolean) => Promise<void>\r\n}\r\n\r\nexport function GameLayout({\r\n  gameNumber,\r\n  currentRound,\r\n  totalRounds,\r\n  currentTopic,\r\n  currentWord,\r\n  isLiar,\r\n  currentPhase,\r\n  timer,\r\n  players,\r\n  currentPlayer,\r\n  currentTurnPlayerId,\r\n  voting,\r\n  suspectedPlayer,\r\n  activities,\r\n  summary,\r\n  isLoading,\r\n  error,\r\n  chatMessages,\r\n  chatLoading,\r\n  chatError,\r\n  typingPlayers,\r\n  actionSlot,\r\n  roundStage,\r\n  roundStageEnteredAt,\r\n  roundHasStarted: _roundHasStarted,\r\n  roundSummaries,\r\n  currentRoundSummary,\r\n  scoreboardEntries,\r\n  onSendChatMessage,\r\n  onReportChatMessage,\r\n  onReloadChat,\r\n  onReturnToLobby,\r\n  onNextRound,\r\n  onSubmitHint,\r\n  onVotePlayer,\r\n  onSubmitDefense,\r\n  onGuessWord,\r\n  onCastFinalVote,\r\n}: GameLayoutProps) {\r\n  const lastCriticalToast = useRef<number | null>(null)\r\n  const [isChatFocused, setIsChatFocused] = useState(false)\r\n  const [isContextPanelCollapsed, setIsContextPanelCollapsed] = useState(false)\r\n  const [isPlayersDialogOpen, setIsPlayersDialogOpen] = useState(false)\r\n  const [isLogDialogOpen, setIsLogDialogOpen] = useState(false)\r\n  const [isHelpDialogOpen, setIsHelpDialogOpen] = useState(false)\r\n  const [isContextOverlayOpen, setIsContextOverlayOpen] = useState(false)\r\n  const headerRef = useRef<HTMLDivElement>(null)\r\n  const [headerHeight, setHeaderHeight] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error)\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (chatError) {\r\n      toast.error(` : ${chatError}`)\r\n    }\r\n  }, [chatError])\r\n\r\n  useLayoutEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return\r\n    }\r\n\r\n    const updateHeight = () => {\r\n      setHeaderHeight(headerRef.current?.offsetHeight ?? 0)\r\n    }\r\n\r\n    updateHeight()\r\n\r\n    const handleResize = () => updateHeight()\r\n    window.addEventListener('resize', handleResize)\r\n\r\n    let resizeObserver: ResizeObserver | null = null\r\n    if (headerRef.current && typeof ResizeObserver !== 'undefined') {\r\n      resizeObserver = new ResizeObserver(() => updateHeight())\r\n      resizeObserver.observe(headerRef.current)\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize)\r\n      resizeObserver?.disconnect()\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (timer.timeRemaining === 10 && lastCriticalToast.current !== 10) {\r\n      toast.warning('  10 !', {\r\n        description: '    .',\r\n        duration: 3000,\r\n      })\r\n      lastCriticalToast.current = 10\r\n      return\r\n    }\r\n    if (timer.timeRemaining > 10) {\r\n      lastCriticalToast.current = null\r\n    }\r\n  }, [timer.timeRemaining])\r\n\r\n  const layoutStyle = useMemo(() => {\r\n    const headerValue = headerHeight > 0 ? `${Math.round(headerHeight)}px` : '112px'\r\n    return {\r\n      '--game-header-height': headerValue,\r\n      '--game-body-height': 'calc(100vh - var(--game-header-height) - 3.5rem)',\r\n      '--game-safe-bottom': 'env(safe-area-inset-bottom, 0px)',\r\n      paddingBottom: 'var(--game-safe-bottom)',\r\n    } as CSSProperties\r\n  }, [headerHeight])\r\n\r\n  const gridContainerStyle = useMemo(() => {\r\n    return {\r\n      height: 'var(--game-body-height)',\r\n      maxHeight: 'var(--game-body-height)',\r\n    } as CSSProperties\r\n  }, [])\r\n\r\n  const summaryForPanel = useMemo(() => {\r\n    if (currentRoundSummary) {\r\n      return currentRoundSummary\r\n    }\r\n    return roundSummaries.length > 0 ? roundSummaries[0] : null\r\n  }, [currentRoundSummary, roundSummaries])\r\n\r\n  const roundSummaryHistory = useMemo(() => {\r\n    if (!summaryForPanel) {\r\n      return roundSummaries\r\n    }\r\n    return roundSummaries.filter((entry) => entry.concludedAt !== summaryForPanel.concludedAt)\r\n  }, [roundSummaries, summaryForPanel])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-[480px] items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-primary\" />\r\n          <div className=\"text-muted-foreground\">   ...</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"mx-auto max-w-3xl px-4\">\r\n        <Card className=\"border-destructive\">\r\n          <CardContent className=\"pt-6 text-center text-destructive\">\r\n            {error}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const normalizedStage = stageOrder.includes(roundStage) ? roundStage : 'waiting'\r\n  const stageIndex = stageOrder.indexOf(normalizedStage)\r\n  const stageProgress = stageIndex <= 0 ? 0 : Math.round((stageIndex / (stageOrder.length - 1)) * 100)\r\n  const stageLabel = stageLabels[normalizedStage]\r\n  const stageDescription = stageDescriptions[normalizedStage]\r\n  const nextStageHint = normalizedStage === 'results' ? '  .' : nextStageHints[normalizedStage]\r\n  const roundLabel = `${currentRound || 0} / ${totalRounds || 0}`\r\n  const preRoundNotice = normalizedStage === 'waiting' && !_roundHasStarted\r\n\r\n  const topicSummary = currentTopic ?? '   .'\r\n  const wordSummary = currentWord\r\n    ? `: \"${currentWord}\"`\r\n    : isLiar\r\n      ? '    .'\r\n      : '  .'\r\n  const showContextColumn = !isChatFocused && !isContextPanelCollapsed\r\n\r\n  const gridTemplateClass = isChatFocused\r\n    ? 'grid-cols-1'\r\n    : 'grid-cols-1 lg:grid-cols-[minmax(0,1.8fr),minmax(0,1fr)] xl:grid-cols-[minmax(0,2fr),minmax(0,1fr)]'\r\n\r\n  const contextCards = (\r\n    <div className=\"flex min-h-0 flex-col gap-4\">\r\n      <Card className=\"border-border/60 bg-card/70 shadow-sm\">\r\n        <CardContent className=\"space-y-4 pt-4\">\r\n          <div className=\"flex flex-col gap-2\">\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <Badge variant=\"secondary\" className=\"bg-primary/10 text-primary\">\r\n                {stageLabel}\r\n              </Badge>\r\n              <span className=\"text-xs text-muted-foreground\"> {roundLabel}</span>\r\n            </div>\r\n            <div className=\"text-sm font-medium text-foreground\">{stageDescription}</div>\r\n            {preRoundNotice && (\r\n              <p className=\"rounded-lg bg-amber-50 px-3 py-2 text-xs text-amber-700\">      .</p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <Progress value={stageProgress} className=\"h-2\" aria-label=\" \" />\r\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground\">\r\n              <span> : {nextStageHint}</span>\r\n              <span aria-hidden=\"true\" className=\"hidden md:inline\"></span>\r\n              <span> {summary.alivePlayers}/{summary.totalPlayers}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"rounded-xl bg-muted/50 p-3 text-xs leading-relaxed text-muted-foreground\">\r\n            <div className=\"font-semibold text-foreground\"></div>\r\n            <div>{topicSummary}</div>\r\n            <div className=\"mt-2 border-t border-border/40 pt-2 text-muted-foreground/80\">{wordSummary}</div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {actionSlot && (\r\n        <Card className=\"border-border/60 shadow-sm\">\r\n          <CardContent className=\"pt-4\">\r\n            {actionSlot}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {currentPhase !== 'WAITING_FOR_PLAYERS' && (\r\n        <Card className=\"border-border/60 shadow-sm\">\r\n          <CardContent className=\"space-y-4 pt-4\">\r\n            <GameActionInterface\r\n              gamePhase={currentPhase}\r\n              currentPlayer={currentPlayer}\r\n              isMyTurn={currentTurnPlayerId === currentPlayer?.id}\r\n              isLiar={isLiar}\r\n              canVote={Boolean(currentPlayer && !voting.votes[currentPlayer.id])}\r\n              timeRemaining={timer.timeRemaining}\r\n              onSubmitHint={onSubmitHint}\r\n              onVotePlayer={onVotePlayer}\r\n              onSubmitDefense={onSubmitDefense}\r\n              onGuessWord={onGuessWord}\r\n              onCastFinalVote={onCastFinalVote}\r\n              players={players}\r\n              suspectedPlayer={suspectedPlayer ?? undefined}\r\n              currentTopic={currentTopic ?? undefined}\r\n              currentWord={currentWord ?? undefined}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {currentPhase === 'GAME_OVER' && (\r\n        <Card className=\"border-border/60 shadow-sm\">\r\n          <CardContent className=\"pt-4\">\r\n            <GameResults\r\n              currentRound={currentRound}\r\n              totalRounds={totalRounds}\r\n              onNextRound={onNextRound}\r\n              onReturnToLobby={onReturnToLobby}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"flex h-screen min-h-screen flex-col overflow-x-hidden bg-background\" style={layoutStyle}>\r\n      <div ref={headerRef} className=\"sticky top-0 z-20 border-b border-border/60 bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/75\">\r\n        <div className=\"mx-auto flex w-full max-w-screen-2xl flex-col gap-3 px-4 py-3\">\r\n          <div className=\"flex flex-wrap items-center gap-3\">\r\n            {onReturnToLobby && (\r\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => onReturnToLobby?.()} className=\"h-8 px-2\">\r\n                <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n                 \r\n              </Button>\r\n            )}\r\n            <div className=\"flex min-w-0 flex-1 flex-col gap-2\">\r\n              <div className=\"flex flex-wrap items-center gap-2 text-xs uppercase tracking-wide text-muted-foreground\">\r\n                <span className=\"font-medium\"> #{gameNumber ?? '?'}</span>\r\n                <span aria-hidden=\"true\" className=\"hidden sm:inline\"></span>\r\n                <span className=\"text-muted-foreground/80\"> {roundLabel}</span>\r\n              </div>\r\n              <GamePhaseIndicator phase={currentPhase} timeRemaining={timer.timeRemaining} />\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center justify-end gap-3 text-xs text-muted-foreground sm:text-sm\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <Users className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n                <span className=\"font-medium\">{summary.alivePlayers}/{summary.totalPlayers}</span>\r\n              </div>\r\n              <div className=\"hidden sm:flex items-center gap-1\">\r\n                <UserCheck className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n                <span>{summary.readyPlayers}</span>\r\n              </div>\r\n              <ConnectionStatus compact className=\"text-xs\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col gap-2 rounded-2xl border border-border/50 bg-card/60 px-4 py-3 text-xs text-muted-foreground sm:flex-row sm:items-center sm:justify-between\">\r\n            <div className=\"flex items-center gap-2 text-sm text-foreground\">\r\n              <Badge variant=\"outline\" className=\"rounded-full px-2 py-1 text-xs\">\r\n                {stageLabel}\r\n              </Badge>\r\n              <span>{stageDescription}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n              <span> : {nextStageHint}</span>\r\n              {roundStageEnteredAt && (\r\n                <span aria-hidden=\"true\" className=\"hidden sm:inline\"></span>\r\n              )}\r\n              {roundStageEnteredAt && (\r\n                <span>  {new Date(roundStageEnteredAt).toLocaleTimeString()}</span>\r\n              )}\r\n            </div>\r\n            <Progress value={stageProgress} className=\"h-1.5 sm:w-48\" aria-label=\" \" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-hidden\">\r\n        <div className=\"mx-auto flex h-full min-h-0 w-full max-w-screen-2xl flex-col gap-6 px-4 py-6\">\r\n          <div className={`grid min-h-0 flex-1 overflow-hidden gap-6 transition-[grid-template-columns] motion-safe:duration-200 ${gridTemplateClass}`} style={gridContainerStyle}>\r\n            <main className=\"order-1 flex min-h-0 h-full flex-col overflow-hidden\" aria-label=\"  \">\r\n              <div className=\"mb-3 flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground flex-shrink-0\">\r\n                <div className=\"flex flex-wrap items-center gap-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"xs\"\r\n                    onClick={() => setIsChatFocused((prev) => !prev)}\r\n                    aria-pressed={isChatFocused}\r\n                    className=\"h-7 px-3\"\r\n                  >\r\n                    {isChatFocused ? ' ' : ' '}\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"xs\"\r\n                    onClick={() => setIsContextPanelCollapsed((prev) => !prev)}\r\n                    aria-pressed={!isContextPanelCollapsed}\r\n                    className=\"hidden h-7 px-3 lg:inline-flex\"\r\n                  >\r\n                    {isContextPanelCollapsed ? ' ' : ' '}\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"xs\"\r\n                    className=\"h-7 px-3 lg:hidden\"\r\n                    onClick={() => setIsContextOverlayOpen(true)}\r\n                  >\r\n                     \r\n                  </Button>\r\n                </div>\r\n                <div className=\"flex flex-wrap items-center gap-2\">\r\n                  <Button variant=\"ghost\" size=\"xs\" className=\"h-7 px-3\" onClick={() => setIsPlayersDialogOpen(true)}>\r\n                    <Users className=\"mr-1 h-3.5 w-3.5\" />\r\n                    \r\n                  </Button>\r\n                  <Button variant=\"ghost\" size=\"xs\" className=\"h-7 px-3\" onClick={() => setIsLogDialogOpen(true)}>\r\n                    <ListTree className=\"mr-1 h-3.5 w-3.5\" />\r\n                    \r\n                  </Button>\r\n                  <Button variant=\"ghost\" size=\"xs\" className=\"h-7 px-3\" onClick={() => setIsHelpDialogOpen(true)}>\r\n                    <LifeBuoy className=\"mr-1 h-3.5 w-3.5\" />\r\n                    \r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <GameChat\r\n                messages={chatMessages}\r\n                players={players}\r\n                currentPlayer={currentPlayer}\r\n                typingPlayers={typingPlayers}\r\n                gamePhase={currentPhase}\r\n                isLoading={chatLoading}\r\n                error={chatError}\r\n                onSendMessage={onSendChatMessage}\r\n                onReportMessage={onReportChatMessage}\r\n                onReloadHistory={onReloadChat}\r\n                className={`rounded-3xl border border-border/60 bg-card/70 shadow-sm ${isChatFocused ? 'lg:rounded-3xl' : ''}`}\r\n              />\r\n            </main>\r\n\r\n            {showContextColumn && (\r\n              <aside className=\"order-2 hidden min-h-0 flex-col gap-4 overflow-hidden lg:flex\" aria-label=\" \">\r\n                <div className=\"flex min-h-0 flex-col gap-4 overflow-y-auto lg:[scrollbar-gutter:stable_both-edges] lg:pb-6\">\r\n                  {contextCards}\r\n                </div>\r\n              </aside>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Dialog open={isPlayersDialogOpen} onOpenChange={setIsPlayersDialogOpen}>\r\n        <DialogContent className=\"max-w-3xl\">\r\n          <DialogHeader>\r\n            <DialogTitle> &  </DialogTitle>\r\n            <DialogDescription>     .</DialogDescription>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"max-h-[70vh] pr-4\">\r\n            <div className=\"space-y-6 py-2\">\r\n              <Card className=\"border-border/60 shadow-sm\">\r\n                <CardContent className=\"pt-4\">\r\n                  <PlayerStatusPanel\r\n                    players={players}\r\n                    currentPhase={currentPhase}\r\n                    currentPlayer={currentPlayer}\r\n                    currentTurnPlayerId={currentTurnPlayerId}\r\n                    votes={voting.votes}\r\n                    isLiar={isLiar}\r\n                    suspectedPlayer={suspectedPlayer?.id ?? undefined}\r\n                  />\r\n                </CardContent>\r\n              </Card>\r\n              <Card className=\"border-border/60 shadow-sm\">\r\n                <CardContent className=\"pt-4\">\r\n                  <GameplayScoreboard entries={scoreboardEntries} />\r\n                </CardContent>\r\n              </Card>\r\n              {summaryForPanel && (\r\n                <Card className=\"border-border/60 shadow-sm\">\r\n                  <CardContent className=\"pt-4\">\r\n                    <RoundSummaryPanel summary={summaryForPanel} history={roundSummaryHistory} players={players} />\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isLogDialogOpen} onOpenChange={setIsLogDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle> </DialogTitle>\r\n            <DialogDescription>      .</DialogDescription>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"max-h-[70vh] pr-4\">\r\n            <ActivityFeed events={activities} maxEvents={80} className=\"rounded-2xl border border-border/60 bg-card/70 p-4 shadow-sm\" />\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isHelpDialogOpen} onOpenChange={setIsHelpDialogOpen}>\r\n        <DialogContent className=\"max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle> & </DialogTitle>\r\n            <DialogDescription>    .</DialogDescription>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"max-h-[70vh] pr-4\">\r\n            <GameHelpPanel />\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isContextOverlayOpen} onOpenChange={setIsContextOverlayOpen}>\r\n        <DialogContent className=\"max-w-lg sm:max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle> & </DialogTitle>\r\n            <DialogDescription>       .</DialogDescription>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"max-h-[70vh] pr-4\">\r\n            <div className=\"space-y-4 py-2\">\r\n              {contextCards}\r\n            </div>\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n","import {useMemo} from 'react'\r\nimport {useGameStore} from '@/stores'\r\nimport {useShallow} from 'zustand/react/shallow'\r\nimport type {GamePhase, ScoreboardEntry} from '@/types/backendTypes'\r\nimport type {\r\n    GameResults,\r\n    GameTimer,\r\n    Player,\r\n    RoundSummaryEntry,\r\n    RoundUxStage,\r\n    VotingState\r\n} from '@/stores/unifiedGameStore'\r\nimport type {ChatMessage} from '@/types/realtime'\r\n\r\ntype GameStoreSnapshot = ReturnType<typeof useGameStore.getState>\r\n\r\ntype StoreActions = Pick<GameStoreSnapshot, 'addHint' | 'castVote' | 'addDefense' | 'setUserVote' | 'sendChatMessage' | 'loadChatHistory' | 'startGame' | 'toggleReady'>\r\n\r\nexport interface GameLayoutViewModel extends StoreActions {\r\n  gameId: string | null\r\n  gameNumber: number | null\r\n  sessionCode: string | null\r\n  gamePhase: GamePhase\r\n  currentRound: number\r\n  totalRounds: number\r\n  currentTopic: string | null\r\n  currentWord: string | null\r\n  currentLiar: string | null\r\n  isLiar: boolean\r\n  timer: GameTimer\r\n  voting: VotingState\r\n  scores: Record<string, number>\r\n  players: Player[]\r\n  currentPlayer: Player | null\r\n  currentTurnPlayerId: string | null\r\n  chatMessages: ChatMessage[]\r\n  chatLoading: boolean\r\n  chatError: string | null\r\n  typingPlayers: Set<string>\r\n  gameResults: GameResults[] | null\r\n  isLoading: boolean\r\n  error: string | null\r\n  summary: {\r\n    totalPlayers: number\r\n    alivePlayers: number\r\n    readyPlayers: number\r\n  }\r\n  roundStage: RoundUxStage\r\n  roundStageEnteredAt: number | null\r\n  roundHasStarted: boolean\r\n  roundSummaries: RoundSummaryEntry[]\r\n  currentRoundSummary: RoundSummaryEntry | null\r\n  scoreboardEntries: ScoreboardEntry[]\r\n}\r\n\r\nexport function useGameLayoutViewModel(): GameLayoutViewModel {\r\n  const selectGameLayout = useShallow((store: ReturnType<typeof useGameStore.getState>) => ({\r\n    gameId: store.gameId,\r\n    gameNumber: store.gameNumber,\r\n    sessionCode: store.sessionCode,\r\n    gamePhase: store.gamePhase,\r\n    currentRound: store.currentRound,\r\n    totalRounds: store.totalRounds,\r\n    currentTopic: store.currentTopic,\r\n    currentWord: store.currentWord,\r\n    currentLiar: store.currentLiar,\r\n    isLiar: store.isLiar,\r\n    timer: store.timer,\r\n    voting: store.voting,\r\n    scores: store.scores,\r\n    players: store.players,\r\n    currentPlayer: store.currentPlayer,\r\n    currentTurnPlayerId: store.currentTurnPlayerId ?? null,\r\n    chatMessages: store.chatMessages,\r\n    chatLoading: store.chatLoading,\r\n    chatError: store.chatError,\r\n    typingPlayers: store.typingPlayers,\r\n    gameResults: store.gameResults,\r\n    isLoading: store.isLoading,\r\n    error: store.error,\r\n    roundStage: store.roundStage,\r\n    roundStageEnteredAt: store.roundStageEnteredAt,\r\n    roundHasStarted: store.roundHasStarted,\r\n    roundSummaries: store.roundSummaries,\r\n    currentRoundSummary: store.currentRoundSummary,\r\n    addHint: store.addHint,\r\n    castVote: store.castVote,\r\n    addDefense: store.addDefense,\r\n    setUserVote: store.setUserVote,\r\n    sendChatMessage: store.sendChatMessage,\r\n    loadChatHistory: store.loadChatHistory,\r\n    startGame: store.startGame,\r\n    toggleReady: store.toggleReady,\r\n  }));\r\n\r\n  const state = useGameStore(selectGameLayout)\r\n\r\n  const summary = useMemo(() => {\r\n    const totalPlayers = state.players.length\r\n    const alivePlayers = state.players.filter((player) => player.isAlive !== false).length\r\n    const readyPlayers = state.players.filter((player) => player.isReady).length\r\n\r\n    return {\r\n      totalPlayers,\r\n      alivePlayers,\r\n      readyPlayers,\r\n    }\r\n  }, [state.players])\r\n\r\n  const scoreboardEntries = useMemo<ScoreboardEntry[]>(() => {\r\n    return state.players.map((player) => {\r\n      const numericUserId = Number.isFinite(player.userId)\r\n        ? Number(player.userId)\r\n        : Number.parseInt(player.id, 10) || 0\r\n\r\n      return {\r\n        userId: numericUserId,\r\n        nickname: player.nickname,\r\n        isAlive: player.isAlive !== false,\r\n        score: state.scores[player.id] ?? player.score ?? 0,\r\n      }\r\n    })\r\n  }, [state.players, state.scores])\r\n\r\n  return {\r\n    ...state,\r\n    summary,\r\n    scoreboardEntries,\r\n  }\r\n}\r\n","import {Button} from '@/components/ui/button'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport type {Player} from '@/stores'\r\nimport {CheckCircle2, Clock, Crown, Loader2, Users} from 'lucide-react'\r\n\r\ninterface WaitingRoomControlsProps {\r\n  players: Player[]\r\n  currentPlayer: Player | null\r\n  readyPlayers: number\r\n  totalPlayers: number\r\n  minimumPlayers?: number\r\n  onToggleReady: () => void | Promise<void>\r\n  onStartGame?: () => void | Promise<void>\r\n  isTogglePending?: boolean\r\n  isStartPending?: boolean\r\n  canStartGame: boolean\r\n}\r\n\r\nexport function WaitingRoomControls({\r\n  players,\r\n  currentPlayer,\r\n  readyPlayers,\r\n  totalPlayers,\r\n  minimumPlayers = 3,\r\n  onToggleReady,\r\n  onStartGame,\r\n  isTogglePending = false,\r\n  isStartPending = false,\r\n  canStartGame,\r\n}: WaitingRoomControlsProps) {\r\n  const isHost = Boolean(currentPlayer?.isHost)\r\n  const isReady = Boolean(currentPlayer?.isReady)\r\n  const awaitingPlayers = Math.max(totalPlayers - readyPlayers, 0)\r\n  const needsMorePlayers = totalPlayers < minimumPlayers\r\n\r\n  let statusMessage: string\r\n  if (needsMorePlayers) {\r\n    const remaining = minimumPlayers - totalPlayers\r\n    statusMessage = `${minimumPlayers}      .  ${totalPlayers} ${remaining}  .`\r\n  } else if (!canStartGame) {\r\n    statusMessage = awaitingPlayers === 0\r\n      ? '   .    .'\r\n      : ` ${awaitingPlayers}     .`\r\n  } else {\r\n    statusMessage = isHost\r\n      ? '  .     .'\r\n      : '  .     .'\r\n  }\r\n\r\n  return (\r\n    <div className=\"rounded-lg border border-dashed border-muted-foreground/40 bg-card/70 px-4 py-3 shadow-sm\">\r\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n          <Users className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n          <span className=\"font-medium text-foreground\">\r\n            {readyPlayers}/{totalPlayers}  \r\n          </span>\r\n          <Badge variant=\"outline\" className=\"text-[11px]\">\r\n             {minimumPlayers}\r\n          </Badge>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            size=\"sm\"\r\n            variant={isReady ? 'secondary' : 'default'}\r\n            onClick={onToggleReady}\r\n            disabled={isTogglePending}\r\n          >\r\n            {isTogglePending ? (\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n            ) : (\r\n              <CheckCircle2 className=\"mr-2 h-4 w-4\" />\r\n            )}\r\n            {isReady ? ' ' : ' '}\r\n          </Button>\r\n\r\n          {isHost && onStartGame && (\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={onStartGame}\r\n              disabled={!canStartGame || isStartPending || needsMorePlayers}\r\n            >\r\n              {isStartPending ? (\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              ) : (\r\n                <Crown className=\"mr-2 h-4 w-4\" />\r\n              )}\r\n               \r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <p className=\"mt-2 text-xs text-muted-foreground\" aria-live=\"polite\">\r\n        {statusMessage}\r\n      </p>\r\n\r\n      <div className=\"mt-3 flex flex-wrap gap-2\" aria-label=\"  \">\r\n        {players.map((player) => {\r\n          const ready = Boolean(player.isReady)\r\n          const isPlayerHost = Boolean(player.isHost)\r\n          return (\r\n            <span\r\n              key={player.id}\r\n              className={`inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs ${ready\r\n                ? 'border-emerald-200 bg-emerald-50 text-emerald-700'\r\n                : 'border-muted-foreground/20 bg-muted text-muted-foreground'} ${player.id === currentPlayer?.id ? 'ring-1 ring-primary/40' : ''}`}\r\n            >\r\n              {ready ? (\r\n                <CheckCircle2 className=\"h-3.5 w-3.5\" aria-hidden=\"true\" />\r\n              ) : (\r\n                <Clock className=\"h-3.5 w-3.5\" aria-hidden=\"true\" />\r\n              )}\r\n              <span>{player.nickname}</span>\r\n              {isPlayerHost && (\r\n                <Crown className=\"h-3 w-3 text-amber-500\" aria-label=\"\" />\r\n              )}\r\n            </span>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","// Basic conflict resolution strategies (stub)\r\nimport type {GameStateResponse} from '@/types/backendTypes';\r\n\r\nexport type ConflictType = 'FIELD' | 'VERSION' | 'OUT_OF_ORDER';\r\nexport interface GameAction { type: string; payload?: any; timestamp?: number }\r\nexport interface Resolution { accepted: boolean; mergedState?: any; reason?: string }\r\n\r\nexport class ConflictResolver {\r\n  resolveConflict(localState: any, serverState: any, conflictType: ConflictType): any {\r\n    switch (conflictType) {\r\n      case 'FIELD':\r\n        return { ...localState, ...serverState }; // server wins field-level\r\n      case 'VERSION':\r\n        return serverState.version >= localState.version ? serverState : localState;\r\n      case 'OUT_OF_ORDER':\r\n        return serverState; // prefer authoritative ordering\r\n      default:\r\n        return serverState;\r\n    }\r\n  }\r\n\r\n  handleConcurrentActions(localAction: GameAction, serverAction: GameAction): Resolution {\r\n    if ((serverAction.timestamp || 0) >= (localAction.timestamp || 0)) {\r\n      return { accepted: false, reason: 'Server action newer' };\r\n    }\r\n    return { accepted: true };\r\n  }\r\n\r\n  mergeStates(states: any[]): any {\r\n    return states.reduce((acc, s) => ({ ...acc, ...s }), {});\r\n  }\r\n\r\n  validateTransition(from: GameStateResponse | null, to: GameStateResponse | null): boolean {\r\n    if (!from || !to) {\r\n      return true;\r\n    }\r\n\r\n    if (from.gameNumber !== to.gameNumber) {\r\n      return false;\r\n    }\r\n\r\n    if (to.gameCurrentRound < from.gameCurrentRound) {\r\n      return false;\r\n    }\r\n\r\n    if (to.gameCurrentRound === from.gameCurrentRound) {\r\n      const fromIndex = from.currentTurnIndex ?? 0;\r\n      const toIndex = to.currentTurnIndex ?? 0;\r\n      return toIndex >= fromIndex;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport const conflictResolver = new ConflictResolver();\r\n","// Message routing & handler registry (stub implementation)\r\nimport type {IncomingMessage, MessagePayloadMap, MessageType} from '@/types/websocket';\r\nimport {useGameStore} from '@/stores';\r\nimport {useConnectionStore} from '@/stores/connectionStore';\r\n\r\nexport type Handler<T = any> = (payload: T, raw: IncomingMessage<T>) => void;\r\n\r\nclass MessageHandlerRegistry {\r\n  private handlers: Partial<{ [K in MessageType]: Handler<MessagePayloadMap[K]>[] }> = {};\r\n\r\n  register<K extends MessageType>(type: K, handler: Handler<MessagePayloadMap[K]>) {\r\n    if (!this.handlers[type]) this.handlers[type] = [] as any;\r\n    (this.handlers[type] as Handler<MessagePayloadMap[K]>[]).push(handler);\r\n    return () => {\r\n      this.handlers[type] = (this.handlers[type] || []).filter(h => h !== handler) as any;\r\n    };\r\n  }\r\n\r\n  dispatch(message: IncomingMessage) {\r\n    const list = this.handlers[message.type] || [];\r\n    list.forEach(handler => {\r\n      try {\r\n        (handler as any)(message.payload, message);\r\n      } catch (error) {\r\n        console.error('handler error', error);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const messageHandlers = new MessageHandlerRegistry();\r\n\r\n// Default basic handlers (can be expanded)\r\nmessageHandlers.register('GAME_STATE_UPDATE', (payload) => {\r\n  if (payload?.gameState) {\r\n    useGameStore.getState().updateFromGameState?.(payload.gameState);\r\n  }\r\n});\r\n\r\nmessageHandlers.register('ERROR', (payload) => {\r\n  useConnectionStore.getState().addSyncIssue({ type: 'VALIDATION_ERROR', description: payload.message });\r\n});\r\n\r\n","// Real-time state synchronization orchestrator\r\nimport {conflictResolver} from './conflictResolver';\r\nimport type {GameStateUpdatePayload, IncomingMessage} from '@/types/websocket';\r\nimport {messageHandlers} from './messageHandlers';\r\nimport {websocketService} from './websocketService';\r\nimport {useGameStore} from '@/stores';\r\nimport {useConnectionStore} from '@/stores/connectionStore';\r\nimport type {GameEvent} from '@/types/realtime';\r\n\r\nclass StateSync {\r\n  private initialized = false;\r\n\r\n  init() {\r\n    if (this.initialized) return;\r\n    websocketService.registerRawListener(raw => {\r\n      if (raw.type === 'event') {\r\n        this.handleGameEvent(raw.data);\r\n      } else if (raw.type === 'chat') {\r\n        // UI unread count handled elsewhere (uiStore)\r\n      }\r\n    });\r\n    this.initialized = true;\r\n  }\r\n\r\n  private handleGameEvent(event: GameEvent) {\r\n    // Normalize to IncomingMessage shape\r\n    const msg: IncomingMessage = {\r\n      type: (event.type === 'GAME_STATE_UPDATED' ? 'GAME_STATE_UPDATE' : event.type) as any,\r\n      gameId: event.gameId?.toString?.() || 'unknown',\r\n      timestamp: event.timestamp || Date.now(),\r\n      payload: event.payload,\r\n    };\r\n\r\n    if (msg.type === 'GAME_STATE_UPDATE') {\r\n      const payload = msg.payload as GameStateUpdatePayload;\r\n      this.mergeServerState(payload?.gameState);\r\n    }\r\n\r\n    messageHandlers.dispatch(msg);\r\n\r\n    const storeHandle = useGameStore.getState().handleGameEvent;\r\n    if (typeof storeHandle === 'function') {\r\n      try {\r\n        storeHandle(event);\r\n      } catch (error) {\r\n        console.error('Failed to apply game event to store:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  private mergeServerState(serverState: any) {\r\n    if (!serverState) return;\r\n    try {\r\n      const gameStore = useGameStore.getState();\r\n      const merged = conflictResolver.mergeStates([serverState]);\r\n      gameStore.updateFromGameState?.(merged);\r\n      // Confirm any optimistic updates implicitly\r\n      const pending = useConnectionStore.getState().optimisticUpdates;\r\n      Object.keys(pending).forEach(id => {\r\n        useConnectionStore.getState().confirmOptimistic(id);\r\n      });\r\n    } catch (e) {\r\n      useConnectionStore.getState().addSyncIssue({ type: 'VALIDATION_ERROR', description: '   ', data: e });\r\n    }\r\n  }\r\n}\r\n\r\nexport const stateSync = new StateSync();\r\n\r\n","import {useEffect} from 'react';\r\nimport {useConnectionStore} from '@/stores/connectionStore';\r\nimport {websocketService} from '@/services/websocketService';\r\nimport {stateSync} from '@/services/stateSync';\r\nimport {useGameStore} from '@/stores';\r\nimport {useShallow} from 'zustand/react/shallow';\r\n\r\n/**\r\n * WebSocket      \r\n */\r\nexport function useWebSocket(gameId?: string) {\r\n  const selectConnectionState = useShallow((state: ReturnType<typeof useConnectionStore.getState>) => ({\r\n    status: state.status,\r\n    connect: state.connect,\r\n    processQueue: state.processQueue,\r\n  }));\r\n\r\n  const {\r\n    status,\r\n    connect,\r\n    processQueue,\r\n  } = useConnectionStore(selectConnectionState);\r\n  const gameNumber = useGameStore((state) => state.gameNumber);\r\n\r\n  useEffect(() => {\r\n    stateSync.init();\r\n    if (status === 'idle' || status === 'disconnected' || status === 'error') {\r\n      connect().catch(() => {});\r\n    }\r\n    return () => {\r\n      //   :      (  )\r\n      // disconnect();\r\n    };\r\n  }, [status, connect]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = websocketService.onChatMessage((message) => {\r\n      useGameStore.getState().ingestChatMessage(message);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  //   \r\n  useEffect(() => {\r\n    const target = gameId || (gameNumber ? gameNumber.toString() : undefined);\r\n    if (status === 'connected' && target) {\r\n      websocketService.subscribeToGame(target);\r\n      processQueue();\r\n      const store = useGameStore.getState();\r\n      if (typeof store.loadChatHistory === 'function' && store.chatMessages.length === 0) {\r\n        store.loadChatHistory().catch(() => {});\r\n      }\r\n      return () => {\r\n        websocketService.unsubscribeFromGame(target);\r\n      };\r\n    }\r\n  }, [status, gameId, gameNumber, processQueue]);\r\n\r\n  return {\r\n    status,\r\n    send: websocketService.safePublish.bind(websocketService),\r\n    connected: status === 'connected',\r\n    reconnecting: status === 'reconnecting' || status === 'connecting',\r\n  };\r\n}\r\n","import {type MutableRefObject} from 'react'\r\n\r\nexport type GameMonitoringEventType =\r\n  | 'CONNECTION_LOST'\r\n  | 'CONNECTION_RESTORED'\r\n  | 'RECOVERY_SUCCEEDED'\r\n  | 'RECOVERY_FAILED'\r\n  | 'LATENCY_WARNING'\r\n  | 'SYNC_ISSUE'\r\n\r\nexport interface GameMonitoringEvent<TMeta = Record<string, unknown>> {\r\n  id: string\r\n  type: GameMonitoringEventType\r\n  timestamp: number\r\n  metadata?: TMeta\r\n}\r\n\r\nexport type GameMonitoringListener = (event: GameMonitoringEvent) => void\r\n\r\nconst HISTORY_LIMIT = 100\r\nconst history: GameMonitoringEvent[] = []\r\nconst listeners = new Set<GameMonitoringListener>()\r\n\r\nconst generateId = () => `${Date.now()}-${Math.random().toString(36).slice(2)}`\r\n\r\nconst emit = (event: Omit<GameMonitoringEvent, 'id' | 'timestamp'> & { timestamp?: number }) => {\r\n  const payload: GameMonitoringEvent = {\r\n    id: generateId(),\r\n    timestamp: event.timestamp ?? Date.now(),\r\n    type: event.type,\r\n    metadata: event.metadata\r\n  }\r\n\r\n  history.push(payload)\r\n  if (history.length > HISTORY_LIMIT) {\r\n    history.shift()\r\n  }\r\n\r\n  if (typeof window !== 'undefined') {\r\n    const registryWindow = window as Window & { __gameMonitoringEvents__?: GameMonitoringEvent[] }\r\n    const registry = registryWindow.__gameMonitoringEvents__ ?? []\r\n    registry.push(payload)\r\n    registryWindow.__gameMonitoringEvents__ = registry.slice(-HISTORY_LIMIT)\r\n\r\n    try {\r\n      window.dispatchEvent(new CustomEvent('game-monitoring', { detail: payload }))\r\n    } catch (error) {\r\n      console.error('[gameMonitoring] Failed to dispatch browser event', error)\r\n    }\r\n  }\r\n\r\n  if (import.meta.env.DEV) {\r\n    console.debug('[gameMonitoring]', payload)\r\n  }\r\n\r\n  listeners.forEach((listener) => {\r\n    try {\r\n      listener(payload)\r\n    } catch (error) {\r\n      console.error('[gameMonitoring] Listener error', error)\r\n    }\r\n  })\r\n\r\n  return payload\r\n}\r\n\r\nconst subscribe = (listener: GameMonitoringListener) => {\r\n  listeners.add(listener)\r\n  return () => listeners.delete(listener)\r\n}\r\n\r\nconst getHistory = () => [...history]\r\n\r\nexport const gameMonitoring = {\r\n  emit,\r\n  subscribe,\r\n  getHistory,\r\n  attachToRef(ref: MutableRefObject<GameMonitoringEvent | null>, listener: GameMonitoringListener) {\r\n    const wrapped: GameMonitoringListener = (event) => {\r\n      ref.current = event\r\n      listener(event)\r\n    }\r\n    listeners.add(wrapped)\r\n    return () => listeners.delete(wrapped)\r\n  }\r\n}\r\n","import {useEffect, useRef} from 'react'\r\nimport {toast} from 'sonner'\r\nimport {gameService} from '@/api/gameApi'\r\nimport {useGameStore} from '@/stores'\r\nimport {useConnectionStore} from '@/stores/connectionStore'\r\nimport {useGameplayStore} from '@/stores/gameplayStore'\r\nimport {gameMonitoring} from '@/services/gameMonitoring'\r\nimport type {ConnectionStatus} from '@/types/store'\r\n\r\nconst LATENCY_WARNING_COOLDOWN = 15_000\r\n\r\nconst isRecoveryTriggerStatus = (status: ConnectionStatus, previous?: ConnectionStatus) => {\r\n  if (status !== 'connected') {\r\n    return false\r\n  }\r\n  if (!previous || previous === 'idle' || previous === 'connecting') {\r\n    return false\r\n  }\r\n  return previous !== 'connected'\r\n}\r\n\r\nexport function useGameRecovery() {\r\n  const status = useConnectionStore((state) => state.status)\r\n  const avgLatency = useConnectionStore((state) => state.avgLatency)\r\n  const queueLength = useConnectionStore((state) => state.messageQueue.length)\r\n  const pendingCount = useConnectionStore((state) => Object.keys(state.pendingMessages).length)\r\n  const syncIssues = useConnectionStore((state) => state.syncIssues)\r\n  const clearSyncIssues = useConnectionStore((state) => state.clearSyncIssues)\r\n\r\n  const gameNumber = useGameStore((state) => state.gameNumber)\r\n  const updateFromGameState = useGameStore((state) => state.updateFromGameState)\r\n  const loadChatHistory = useGameStore((state) => state.loadChatHistory)\r\n\r\n  const hydrateFromSnapshot = useGameplayStore((state) => state.actions.hydrateFromSnapshot)\r\n\r\n  const previousStatusRef = useRef<ConnectionStatus>(status)\r\n  const recoveryInFlight = useRef<Promise<void> | null>(null)\r\n  const lastLatencyNoticeRef = useRef<number>(0)\r\n\r\n  // Handle connection status transitions\r\n  useEffect(() => {\r\n    const previousStatus = previousStatusRef.current\r\n\r\n    if (status !== previousStatus) {\r\n      if (status === 'disconnected' && previousStatus === 'connected') {\r\n        gameMonitoring.emit({ type: 'CONNECTION_LOST', metadata: { previousStatus } })\r\n      }\r\n\r\n      if (status === 'connected' && isRecoveryTriggerStatus(status, previousStatus)) {\r\n        gameMonitoring.emit({ type: 'CONNECTION_RESTORED', metadata: { previousStatus } })\r\n\r\n        if (gameNumber && !recoveryInFlight.current) {\r\n          recoveryInFlight.current = (async () => {\r\n            const startedAt = Date.now()\r\n            try {\r\n              const snapshot = await gameService.getGameState(gameNumber)\r\n              updateFromGameState(snapshot)\r\n              hydrateFromSnapshot(snapshot)\r\n\r\n              if (typeof loadChatHistory === 'function') {\r\n                try {\r\n                  await loadChatHistory(50)\r\n                } catch (error) {\r\n                  console.warn('[useGameRecovery] Failed to refresh chat history', error)\r\n                }\r\n              }\r\n\r\n              toast.success('  ', {\r\n                description: '  .'\r\n              })\r\n\r\n              gameMonitoring.emit({\r\n                type: 'RECOVERY_SUCCEEDED',\r\n                metadata: {\r\n                  duration: Date.now() - startedAt,\r\n                  gameNumber\r\n                }\r\n              })\r\n            } catch (error) {\r\n              const message = error instanceof Error ? error.message : '  .'\r\n              toast.error('   ', {\r\n                description: message\r\n              })\r\n\r\n              gameMonitoring.emit({\r\n                type: 'RECOVERY_FAILED',\r\n                metadata: {\r\n                  error: message,\r\n                  gameNumber\r\n                }\r\n              })\r\n            } finally {\r\n              recoveryInFlight.current = null\r\n            }\r\n          })()\r\n        }\r\n      }\r\n\r\n      previousStatusRef.current = status\r\n    }\r\n  }, [status, gameNumber, updateFromGameState, hydrateFromSnapshot, loadChatHistory])\r\n\r\n  // Surface high latency or queued message indicators\r\n  useEffect(() => {\r\n    const now = Date.now()\r\n    const queuePressure = queueLength + pendingCount\r\n\r\n    if (status === 'connected' && (queuePressure > 0 || (avgLatency ?? 0) > 1500)) {\r\n      if (now - lastLatencyNoticeRef.current > LATENCY_WARNING_COOLDOWN) {\r\n        const description = queuePressure > 0\r\n          ? `    ${queuePressure}`\r\n          : `  ${Math.round((avgLatency ?? 0) / 10) / 100}s`\r\n\r\n        toast.warning('  ', {\r\n          description\r\n        })\r\n\r\n        gameMonitoring.emit({\r\n          type: 'LATENCY_WARNING',\r\n          metadata: {\r\n            queueLength,\r\n            pendingCount,\r\n            avgLatency\r\n          }\r\n        })\r\n\r\n        lastLatencyNoticeRef.current = now\r\n      }\r\n    } else if (queuePressure === 0 && (avgLatency ?? 0) < 800) {\r\n      lastLatencyNoticeRef.current = 0\r\n    }\r\n  }, [status, queueLength, pendingCount, avgLatency])\r\n\r\n  // Surface sync issues (e.g. invalid phase actions)\r\n  useEffect(() => {\r\n    if (!syncIssues.length) {\r\n      return\r\n    }\r\n\r\n    syncIssues.forEach((issue) => {\r\n      const message = issue.description ?? '    .'\r\n      toast.error('  ', {\r\n        description: message\r\n      })\r\n\r\n      const metadata: Record<string, unknown> = { ...issue }\r\n      gameMonitoring.emit({\r\n        type: 'SYNC_ISSUE',\r\n        metadata\r\n      })\r\n    })\r\n\r\n    clearSyncIssues()\r\n  }, [syncIssues, clearSyncIssues])\r\n}\r\n","import {useCallback, useEffect, useMemo, useRef, useState} from 'react'\r\nimport {GameLayout} from './GameLayout'\r\nimport {useGameLayoutViewModel} from './useGameLayoutViewModel'\r\nimport {WaitingRoomControls} from './WaitingRoomControls'\r\nimport {useWebSocket} from '@/hooks/useWebSocket'\r\nimport {useGameRecovery} from '@/hooks/useGameRecovery'\r\nimport {useGameFlow} from '@/hooks/useGameFlow'\r\nimport {websocketService} from '@/services/websocketService'\r\nimport {toast} from 'sonner'\r\nimport type {ActivityEvent} from '@/types/game'\r\nimport type {ChatMessage, ChatMessageType, GameEvent} from '@/types/realtime'\r\nimport {useGameStore} from '@/stores'\r\n\r\ninterface GameFlowManagerProps {\r\n  onReturnToLobby?: (options?: { skipServer?: boolean }) => void\r\n  onNextRound?: () => void\r\n}\r\n\r\nconst createActivityId = (prefix: string): string => `${prefix}-${Date.now()}-${Math.random().toString(36).slice(2)}`\r\n\r\nconst resolveIdentifier = (value: unknown): string | undefined => {\r\n  if (value == null) return undefined\r\n  if (typeof value === 'string') return value\r\n  if (typeof value === 'number' && Number.isFinite(value)) return value.toString()\r\n  if (typeof value === 'object') {\r\n    const record = value as Record<string, unknown>\r\n    if (record.id != null) return resolveIdentifier(record.id)\r\n    if (record.userId != null) return resolveIdentifier(record.userId)\r\n    if (record.playerId != null) return resolveIdentifier(record.playerId)\r\n  }\r\n  return undefined\r\n}\r\n\r\nconst getPhaseForLog = () => useGameStore.getState().gamePhase\r\n\r\nexport function GameFlowManager({ onReturnToLobby, onNextRound }: GameFlowManagerProps) {\r\n  const viewModel = useGameLayoutViewModel()\r\n  useGameRecovery()\r\n  const {\r\n    gameNumber,\r\n    gamePhase,\r\n    currentRound,\r\n    totalRounds,\r\n    currentTopic,\r\n    currentWord,\r\n    isLiar,\r\n    timer,\r\n    players,\r\n    currentPlayer,\r\n    currentTurnPlayerId,\r\n    voting,\r\n    summary,\r\n    isLoading,\r\n    error,\r\n    chatMessages,\r\n    chatLoading,\r\n    chatError,\r\n    typingPlayers,\r\n    currentLiar,\r\n    roundStage,\r\n    roundStageEnteredAt,\r\n    roundHasStarted,\r\n    roundSummaries,\r\n    currentRoundSummary,\r\n    scoreboardEntries,\r\n    addHint,\r\n    castVote,\r\n    addDefense,\r\n    setUserVote,\r\n    sendChatMessage,\r\n    loadChatHistory,\r\n    startGame,\r\n    toggleReady,\r\n  } = viewModel\r\n\r\n  const {\r\n    submitHint: submitHintRequest,\r\n    voteForLiar: voteForLiarRequest,\r\n    submitDefense: submitDefenseRequest,\r\n    castFinalVote: castFinalVoteRequest,\r\n    guessWord: guessWordRequest,\r\n  } = useGameFlow()\r\n\r\n  const [activities, setActivities] = useState<ActivityEvent[]>([])\r\n  const [isStartingGame, setIsStartingGame] = useState(false)\r\n  const [isTogglingReady, setIsTogglingReady] = useState(false)\r\n  const roomDeletionHandledRef = useRef(false)\r\n\r\n  useWebSocket(gameNumber ? gameNumber.toString() : undefined)\r\n\r\n  useEffect(() => {\r\n    setActivities([])\r\n  }, [gameNumber])\r\n\r\n  useEffect(() => {\r\n    roomDeletionHandledRef.current = false\r\n  }, [gameNumber])\r\n\r\n  const appendActivity = useCallback((activity: ActivityEvent) => {\r\n    setActivities(prev => {\r\n      const next = [...prev, activity]\r\n      return next.slice(-80)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!gamePhase) return\r\n    appendActivity({\r\n      id: createActivityId('phase'),\r\n      type: 'phase_change',\r\n      phase: gamePhase,\r\n      timestamp: Date.now(),\r\n      highlight: true,\r\n    })\r\n  }, [gamePhase, appendActivity])\r\n\r\n  useEffect(() => {\r\n    if (!gameNumber) return\r\n\r\n    const makeActivity = (\r\n      type: ActivityEvent['type'],\r\n      event: GameEvent,\r\n      content: string,\r\n      highlight = false,\r\n      identifiers: { actor?: unknown; target?: unknown } = {}\r\n    ): ActivityEvent => ({\r\n      id: createActivityId(type),\r\n      type,\r\n      playerId: resolveIdentifier(identifiers.actor),\r\n      targetId: resolveIdentifier(identifiers.target),\r\n      content,\r\n      phase: getPhaseForLog(),\r\n      timestamp: event.timestamp ?? Date.now(),\r\n      highlight,\r\n    })\r\n\r\n    const unsubscribeHint = websocketService.onHintProvided((event) => {\r\n      if (event.type !== 'HINT_PROVIDED' && event.type !== 'HINT_SUBMITTED') return\r\n\r\n      const nickname = event.payload.playerName ?? (event.payload as Record<string, unknown>).playerNickname ?? ''\r\n      appendActivity(\r\n        makeActivity('hint', event, `${nickname}   .`, false, {\r\n          actor: event.payload.playerId,\r\n        })\r\n      )\r\n    })\r\n\r\n    const unsubscribeVote = websocketService.onVoteCast((event) => {\r\n      if (event.type !== 'VOTE_CAST') return\r\n\r\n      const fallbackPayload = event.payload as Record<string, unknown>\r\n      const voter = event.payload.voterName ?? (fallbackPayload.playerName as string | undefined) ?? ''\r\n      const target =\r\n        event.payload.targetName\r\n          ?? (fallbackPayload.targetNickname as string | undefined)\r\n          ?? ''\r\n\r\n      appendActivity(\r\n        makeActivity('vote', event, `${voter}  ${target} .`, false, {\r\n          actor: event.payload.voterId,\r\n          target: event.payload.targetId,\r\n        })\r\n      )\r\n    })\r\n\r\n    const unsubscribeDefense = websocketService.onDefenseSubmitted((event) => {\r\n      if (event.type !== 'DEFENSE_SUBMITTED') return\r\n\r\n      const defender = event.payload.defenderName ?? event.payload.playerName ?? ''\r\n      appendActivity(\r\n        makeActivity('defense', event, `${defender}   .`, false, {\r\n          actor: event.payload.defenderId ?? event.payload.playerId,\r\n        })\r\n      )\r\n    })\r\n\r\n    const unsubscribePhase = websocketService.onPhaseChanged((event) => {\r\n      if (event.type !== 'PHASE_CHANGED') return\r\n\r\n      const nextPhase = typeof event.payload.phase === 'string' ? event.payload.phase : gamePhase\r\n      appendActivity(makeActivity('phase_change', event, ` ${nextPhase} .`, true))\r\n    })\r\n\r\n    const unsubscribeRound = websocketService.onRoundEnded((event) => {\r\n      if (event.type !== 'ROUND_ENDED') return\r\n\r\n      appendActivity(makeActivity('system', event, ' .', true))\r\n    })\r\n\r\n    const unsubscribeRoomDeleted = websocketService.onRoomDeleted((event) => {\r\n      if (event.type !== 'ROOM_DELETED' || roomDeletionHandledRef.current) return\r\n\r\n      roomDeletionHandledRef.current = true\r\n      toast.warning(' .', {\r\n        description: ' .'\r\n      })\r\n      useGameStore.getState().resetGame()\r\n      onReturnToLobby?.({ skipServer: true })\r\n    })\r\n\r\n    return () => {\r\n      unsubscribeHint()\r\n      unsubscribeVote()\r\n      unsubscribeDefense()\r\n      unsubscribePhase()\r\n      unsubscribeRound()\r\n      unsubscribeRoomDeleted()\r\n    }\r\n  }, [appendActivity, gameNumber, gamePhase, onReturnToLobby])\r\n\r\n  const suspectedPlayer = useMemo(() => {\r\n    const candidate = voting.targetPlayerId\r\n      ?? (voting.results?.actualLiar ? voting.results.actualLiar.toString() : undefined)\r\n      ?? currentLiar\r\n\r\n    if (!candidate) return null\r\n\r\n    return players.find((player) => {\r\n      if (player.id === candidate) return true\r\n      if (player.userId != null && player.userId.toString() === candidate) return true\r\n      if (player.nickname === candidate) return true\r\n      return false\r\n    }) ?? null\r\n  }, [players, voting.targetPlayerId, voting.results, currentLiar])\r\n\r\n  const handleSubmitHint = useCallback(async (hint: string) => {\r\n    if (!gameNumber || !currentPlayer) return\r\n\r\n    addHint(currentPlayer.id, currentPlayer.nickname, hint)\r\n    try {\r\n      await submitHintRequest(hint)\r\n    } catch (error) {\r\n      console.error('Failed to send hint action:', error)\r\n    }\r\n  }, [addHint, currentPlayer, gameNumber, submitHintRequest])\r\n\r\n  const handleVotePlayer = useCallback(async (playerId: string) => {\r\n    if (!gameNumber || !currentPlayer) return\r\n\r\n    const targetPlayer = players.find((player) => {\r\n      if (player.id === playerId) return true\r\n      if (player.userId != null && String(player.userId) === playerId) return true\r\n      if (player.nickname === playerId) return true\r\n      return false\r\n    })\r\n    const resolvedTargetId = targetPlayer?.id ?? playerId\r\n    const resolvedTargetUserId = targetPlayer?.userId ?? Number.parseInt(playerId, 10)\r\n\r\n    if (!Number.isFinite(resolvedTargetUserId)) {\r\n      console.warn('Unable to resolve target user id for vote', { playerId })\r\n      return\r\n    }\r\n\r\n    castVote(currentPlayer.id, resolvedTargetId)\r\n    setUserVote(resolvedTargetId)\r\n    try {\r\n      await voteForLiarRequest(resolvedTargetUserId)\r\n    } catch (error) {\r\n      console.error('Failed to send vote action:', error)\r\n    }\r\n  }, [castVote, currentPlayer, gameNumber, players, setUserVote, voteForLiarRequest])\r\n\r\n  const handleSubmitDefense = useCallback(async (defense: string) => {\r\n    if (!gameNumber || !currentPlayer) return\r\n\r\n    addDefense(currentPlayer.id, currentPlayer.nickname, defense)\r\n    try {\r\n      await submitDefenseRequest(defense)\r\n    } catch (error) {\r\n      console.error('Failed to send defense action:', error)\r\n    }\r\n  }, [addDefense, currentPlayer, gameNumber, submitDefenseRequest])\r\n\r\n  const handleGuessWord = useCallback(async (guess: string) => {\r\n    if (!gameNumber || !currentPlayer) return\r\n\r\n    try {\r\n      await guessWordRequest(guess)\r\n    } catch (error) {\r\n      console.error('Failed to send guess action:', error)\r\n    }\r\n  }, [currentPlayer, gameNumber, guessWordRequest])\r\n\r\n  const handleCastFinalVote = useCallback(async (execute: boolean) => {\r\n    if (!gameNumber || !currentPlayer) return\r\n\r\n    try {\r\n      await castFinalVoteRequest(execute)\r\n    } catch (error) {\r\n      console.error('Failed to send final vote action:', error)\r\n    }\r\n  }, [castFinalVoteRequest, currentPlayer, gameNumber])\r\n\r\n  const handleSendChatMessage = useCallback(async (content: string, type: ChatMessageType = 'DISCUSSION') => {\r\n    await sendChatMessage(content, type)\r\n  }, [sendChatMessage])\r\n\r\n  const handleReloadChatHistory = useCallback(async () => {\r\n    try {\r\n      await loadChatHistory()\r\n    } catch (error) {\r\n      console.error('Failed to reload chat history:', error)\r\n      toast.error('   .')\r\n    }\r\n  }, [loadChatHistory])\r\n\r\n  const handleReportChatMessage = useCallback((message: ChatMessage) => {\r\n    toast.info(' .', {\r\n      description: `${message.playerNickname ?? '  '}: ${message.content}`\r\n    })\r\n  }, [])\r\n\r\n  const handleToggleReady = useCallback(async () => {\r\n    if (!toggleReady || !currentPlayer) return\r\n\r\n    setIsTogglingReady(true)\r\n    const nextReadyState = !(currentPlayer.isReady ?? false)\r\n    try {\r\n      await toggleReady()\r\n      toast.success(nextReadyState ? ' .' : '  .')\r\n    } catch (error) {\r\n      console.error('Failed to toggle ready state:', error)\r\n      toast.error('   .  .')\r\n    } finally {\r\n      setIsTogglingReady(false)\r\n    }\r\n  }, [toggleReady, currentPlayer])\r\n\r\n  const handleStartGame = useCallback(async () => {\r\n    if (!startGame || !currentPlayer?.isHost) return\r\n\r\n    setIsStartingGame(true)\r\n    try {\r\n      await startGame()\r\n      toast.success(' !')\r\n    } catch (error) {\r\n      console.error('Failed to start game:', error)\r\n      toast.error('  .    .')\r\n    } finally {\r\n      setIsStartingGame(false)\r\n    }\r\n  }, [startGame, currentPlayer?.isHost])\r\n\r\n  const isWaitingForPlayers = gamePhase === 'WAITING_FOR_PLAYERS'\r\n  const canStartGame = summary.totalPlayers >= 3 && summary.readyPlayers === summary.totalPlayers\r\n\r\n  const waitingControls = isWaitingForPlayers ? (\r\n    <WaitingRoomControls\r\n      players={players}\r\n      currentPlayer={currentPlayer}\r\n      readyPlayers={summary.readyPlayers}\r\n      totalPlayers={summary.totalPlayers}\r\n      minimumPlayers={3}\r\n      onToggleReady={handleToggleReady}\r\n      onStartGame={handleStartGame}\r\n      isTogglePending={isTogglingReady}\r\n      isStartPending={isStartingGame}\r\n      canStartGame={canStartGame}\r\n    />\r\n  ) : null\r\n\r\n  return (\r\n    <GameLayout\r\n      gameNumber={gameNumber}\r\n      currentRound={currentRound}\r\n      totalRounds={totalRounds}\r\n      currentTopic={currentTopic}\r\n      currentWord={currentWord}\r\n      isLiar={isLiar}\r\n      currentPhase={gamePhase}\r\n      timer={timer}\r\n      players={players}\r\n      currentPlayer={currentPlayer}\r\n      currentTurnPlayerId={currentTurnPlayerId}\r\n      voting={voting}\r\n      suspectedPlayer={suspectedPlayer}\r\n      activities={activities}\r\n      summary={summary}\r\n      isLoading={isLoading}\r\n      error={error}\r\n      actionSlot={waitingControls}\r\n      roundStage={roundStage}\r\n      roundStageEnteredAt={roundStageEnteredAt}\r\n      roundHasStarted={roundHasStarted}\r\n      roundSummaries={roundSummaries}\r\n      currentRoundSummary={currentRoundSummary}\r\n      scoreboardEntries={scoreboardEntries}\r\n      chatMessages={chatMessages}\r\n      chatLoading={chatLoading}\r\n      chatError={chatError}\r\n      typingPlayers={typingPlayers}\r\n      onSendChatMessage={handleSendChatMessage}\r\n      onReportChatMessage={handleReportChatMessage}\r\n      onReloadChat={handleReloadChatHistory}\r\n      onReturnToLobby={onReturnToLobby}\r\n      onNextRound={onNextRound}\r\n      onSubmitHint={handleSubmitHint}\r\n      onVotePlayer={handleVotePlayer}\r\n      onSubmitDefense={handleSubmitDefense}\r\n      onGuessWord={handleGuessWord}\r\n      onCastFinalVote={handleCastFinalVote}\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {useNavigate, useParams} from 'react-router-dom'\r\nimport {useGameplayStore, useGameStore} from '@/stores'\r\nimport {useShallow} from 'zustand/react/shallow'\r\nimport {GameFlowManager} from '@/components/game/GameFlowManager'\r\nimport {Card, CardContent} from '@/components/ui/card'\r\nimport {Button} from '@/components/ui/button'\r\nimport {ArrowLeft} from 'lucide-react'\r\nimport {gameService} from '@/api/gameApi'\r\nimport {useToast} from '@/hooks/useToast'\r\n\r\nexport function MainGamePage() {\r\n  const { gameId } = useParams<{ gameId: string }>()\r\n  const navigate = useNavigate()\r\n  const selectGamePageState = useShallow((state: ReturnType<typeof useGameStore.getState>) => ({\r\n    gameNumber: state.gameNumber,\r\n    setGameNumber: state.setGameNumber,\r\n    resetGame: state.resetGame,\r\n    updateFromGameState: state.updateFromGameState,\r\n    leaveGame: state.leaveGame,\r\n  }));\r\n\r\n  const { gameNumber, setGameNumber, resetGame, updateFromGameState, leaveGame } = useGameStore(selectGamePageState)\r\n  const { hydrateFromSnapshot } = useGameplayStore((state) => state.actions)\r\n  const { toast } = useToast()\r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n  const [error, setError] = React.useState<string | null>(null)\r\n\r\n  //     \r\n  React.useEffect(() => {\r\n    const initializeGame = async () => {\r\n      if (!gameId) {\r\n        setError(' ID ')\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      const gameIdNumber = parseInt(gameId)\r\n      if (isNaN(gameIdNumber)) {\r\n        setError('  ID')\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      try {\r\n        setIsLoading(true)\r\n        setError(null)\r\n\r\n        // Store      \r\n        if (!gameNumber || gameNumber !== gameIdNumber) {\r\n          //     \r\n          const gameState = await gameService.getGameState(gameIdNumber)\r\n\r\n          // Store \r\n          setGameNumber(gameIdNumber)\r\n          updateFromGameState(gameState)\r\n          hydrateFromSnapshot(gameState)\r\n\r\n          console.log('Game state restored:', gameState)\r\n        }\r\n\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        console.error('Failed to initialize game:', error)\r\n        setError(error instanceof Error ? error.message : '   ')\r\n        setIsLoading(false)\r\n\r\n        //        \r\n        toast({\r\n          title: \"   \",\r\n          description: \"   \",\r\n          variant: \"destructive\",\r\n        })\r\n      }\r\n    }\r\n\r\n    initializeGame()\r\n  }, [gameId, gameNumber, setGameNumber, updateFromGameState, hydrateFromSnapshot, toast])\r\n\r\n  const handleReturnToLobby = (options?: { skipServer?: boolean }) => {\r\n    const shouldSkipServer = options?.skipServer ?? false\r\n    const currentState = useGameStore.getState()\r\n    const activeGameNumber = currentState.gameNumber ?? gameNumber\r\n\r\n    if (!shouldSkipServer && activeGameNumber) {\r\n      void leaveGame().catch((error) => {\r\n        console.error('Failed to leave game in background:', error)\r\n        const description = error instanceof Error ? error.message : '   '\r\n        toast({\r\n          title: '  ',\r\n          description,\r\n          variant: 'destructive',\r\n        })\r\n      })\r\n    }\r\n\r\n    resetGame()\r\n    navigate('/lobby', { replace: true })\r\n  }\r\n\r\n  const handleNextRound = () => {\r\n    //         \r\n    console.log('Next round requested')\r\n  }\r\n\r\n  //   \r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto p-4 max-w-2xl\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n              <div className=\"text-lg font-medium\">  ...</div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  //       \r\n  if (error || !gameNumber) {\r\n    return (\r\n      <div className=\"container mx-auto p-4 max-w-2xl\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"text-lg font-medium mb-4\">{error || '   '}</div>\r\n              <Button onClick={() => handleReturnToLobby()}>\r\n                <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n                 \r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <GameFlowManager\r\n      onReturnToLobby={handleReturnToLobby}\r\n      onNextRound={handleNextRound}\r\n    />\r\n  )\r\n}\r\n","import {useEffect, useState} from 'react'\r\nimport {useNavigate, useParams} from 'react-router-dom'\r\nimport {motion} from 'framer-motion'\r\nimport {Card, CardContent, CardHeader, CardTitle} from '@/components/ui/card'\r\nimport {Button} from '@/components/ui/button'\r\nimport {Badge} from '@/components/ui/badge'\r\nimport {Crown, Home, Medal, RotateCcw, Share2, Star, Target, Trophy} from 'lucide-react'\r\nimport {useToast} from '@/hooks/useToast'\r\nimport {useGameStore} from '@/stores'\r\nimport {useShallow} from 'zustand/react/shallow'\r\n\r\ninterface PlayerScore {\r\n  id: string\r\n  nickname: string\r\n  totalScore: number\r\n  roundScores: number[]\r\n  roundsWon: number\r\n  timesLiar: number\r\n  timesDetected: number\r\n  timesEvaded: number\r\n  rank: number\r\n  isCurrentUser?: boolean\r\n}\r\n\r\nexport function MainResultsPage() {\r\n  const { gameId } = useParams<{ gameId: string }>()\r\n  const navigate = useNavigate()\r\n  const { toast } = useToast()\r\n  const selectGameStore = useShallow((state: ReturnType<typeof useGameStore.getState>) => ({\r\n    gameNumber: state.gameNumber,\r\n    leaveGame: state.leaveGame,\r\n    resetGame: state.resetGame,\r\n  }))\r\n  const { gameNumber, leaveGame, resetGame } = useGameStore(selectGameStore)\r\n\r\n  // Game results state - will be fetched from API\r\n  const [gameResults, setGameResults] = useState<{\r\n    isComplete: boolean\r\n    totalRounds: number\r\n    winner: string\r\n    players: PlayerScore[]\r\n  } | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  // Fetch game results from API\r\n  useEffect(() => {\r\n    const fetchGameResults = async () => {\r\n      if (!gameId) {\r\n        toast({\r\n          title: \"Invalid game ID\",\r\n          description: \"Game ID is required to view results\",\r\n          variant: \"destructive\",\r\n        })\r\n        navigate('/lobby')\r\n        return\r\n      }\r\n\r\n      try {\r\n        setIsLoading(true)\r\n        // TODO: Replace with actual API endpoint\r\n        const response = await fetch(`/api/game/${gameId}/results`)\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch game results')\r\n        }\r\n\r\n        const results = await response.json()\r\n        setGameResults(results)\r\n      } catch (error) {\r\n        console.error('Failed to fetch game results:', error)\r\n        toast({\r\n          title: \"Failed to load results\",\r\n          description: \"Could not load game results. Please try again.\",\r\n          variant: \"destructive\",\r\n        })\r\n        // Fallback: redirect to lobby\r\n        navigate('/lobby')\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchGameResults()\r\n  }, [gameId, navigate, toast])\r\n\r\n  const handlePlayAgain = () => {\r\n    //    (  )\r\n    navigate(`/game/${gameId}`)\r\n    toast({\r\n      title: \"  \",\r\n      description: \"    \",\r\n    })\r\n  }\r\n\r\n  const handleReturnToLobby = () => {\r\n    void (async () => {\r\n      try {\r\n        if (gameNumber) {\r\n          await leaveGame()\r\n        } else {\r\n          resetGame()\r\n        }\r\n        navigate('/lobby')\r\n        toast({\r\n          title: \" \",\r\n          description: \"      \",\r\n        })\r\n      } catch (error) {\r\n        const description = error instanceof Error ? error.message : '   '\r\n        toast({\r\n          title: \"  \",\r\n          description,\r\n          variant: 'destructive',\r\n        })\r\n      }\r\n    })()\r\n  }\r\n\r\n  const handleShareResults = () => {\r\n    if (!gameResults) {\r\n      toast({\r\n        title: '  ',\r\n        description: '   .',\r\n        variant: 'destructive',\r\n      })\r\n      return\r\n    }\r\n    //   \r\n    const resultText = `  !\\n : ${gameResults.winner}\\n  ${gameResults.totalRounds}`\r\n\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: '  ',\r\n        text: resultText,\r\n      }).catch(() => {\r\n        //     \r\n        navigator.clipboard.writeText(resultText)\r\n        toast({\r\n          title: \" \",\r\n          description: \"   \",\r\n        })\r\n      })\r\n    } else {\r\n      navigator.clipboard.writeText(resultText)\r\n      toast({\r\n        title: \" \",\r\n        description: \"   \",\r\n      })\r\n    }\r\n  }\r\n\r\n  const getRankIcon = (rank: number) => {\r\n    switch (rank) {\r\n      case 1:\r\n        return <Crown className=\"h-5 w-5 text-yellow-500\" />\r\n      case 2:\r\n        return <Medal className=\"h-5 w-5 text-gray-400\" />\r\n      case 3:\r\n        return <Star className=\"h-5 w-5 text-amber-600\" />\r\n      default:\r\n        return <Target className=\"h-5 w-5 text-muted-foreground\" />\r\n    }\r\n  }\r\n\r\n  const getRankBadge = (rank: number) => {\r\n    switch (rank) {\r\n      case 1:\r\n        return <Badge className=\"bg-yellow-500 hover:bg-yellow-600\">1</Badge>\r\n      case 2:\r\n        return <Badge className=\"bg-gray-400 hover:bg-gray-500\">2</Badge>\r\n      case 3:\r\n        return <Badge className=\"bg-amber-600 hover:bg-amber-700\">3</Badge>\r\n      default:\r\n        return <Badge variant=\"outline\">{rank}</Badge>\r\n    }\r\n  }\r\n\r\n  // Show loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center\">\r\n        <div className=\"text-center space-y-4\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\r\n          <p className=\"text-muted-foreground\">Loading game results...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show error state if no data\r\n  if (!gameResults) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center\">\r\n        <div className=\"text-center space-y-4\">\r\n          <p className=\"text-muted-foreground\">Failed to load game results</p>\r\n          <Button onClick={handleReturnToLobby}>\r\n            <Home className=\"mr-2 h-4 w-4\" />\r\n            Return to Lobby\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 dark:from-gray-900 dark:to-gray-800\">\r\n      <div className=\"container mx-auto p-6 space-y-6\">\r\n        {/*  */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-center\"\r\n        >\r\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n            <Trophy className=\"h-8 w-8 text-yellow-500\" />\r\n            <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white\">\r\n               \r\n            </h1>\r\n          </div>\r\n          <p className=\"text-muted-foreground text-lg\">\r\n            {gameResults.totalRounds}  !\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n        >\r\n          <Card className=\"border-yellow-200 bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20\">\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle className=\"text-2xl flex items-center justify-center gap-2\">\r\n                <Crown className=\"h-6 w-6 text-yellow-500\" />\r\n                 : {gameResults.winner} \r\n              </CardTitle>\r\n            </CardHeader>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.4 }}\r\n          className=\"space-y-4\"\r\n        >\r\n          <h2 className=\"text-2xl font-bold text-center\"> </h2>\r\n          <div className=\"space-y-3\">\r\n            {gameResults.players.map((player, index) => (\r\n              <motion.div\r\n                key={player.id}\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ duration: 0.4, delay: 0.5 + index * 0.1 }}\r\n              >\r\n                <Card className={`${player.isCurrentUser ? 'ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20' : ''}`}>\r\n                  <CardContent className=\"py-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-4\">\r\n                        {getRankIcon(player.rank)}\r\n                        <div>\r\n                          <h3 className=\"font-semibold text-lg\">\r\n                            {player.nickname}\r\n                            {player.isCurrentUser && (\r\n                              <Badge variant=\"outline\" className=\"ml-2\"></Badge>\r\n                            )}\r\n                          </h3>\r\n                          <p className=\"text-muted-foreground\">\r\n                             : {player.totalScore}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        {getRankBadge(player.rank)}\r\n                        <div className=\"text-sm text-muted-foreground mt-2\">\r\n                          : {player.roundsWon}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.8 }}\r\n          className=\"grid gap-4 md:grid-cols-3\"\r\n        >\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle className=\"text-sm font-medium\"> </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\">{gameResults.totalRounds}</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle className=\"text-sm font-medium\"> </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\">{gameResults.players.length}</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle className=\"text-sm font-medium\"> </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\">\r\n                {Math.max(...gameResults.players.map(p => p.totalScore))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        {/*   */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 1.0 }}\r\n          className=\"flex flex-col sm:flex-row gap-4 justify-center items-center pt-6\"\r\n        >\r\n          <Button\r\n            size=\"lg\"\r\n            onClick={handlePlayAgain}\r\n            className=\"w-full sm:w-auto\"\r\n          >\r\n            <RotateCcw className=\"mr-2 h-5 w-5\" />\r\n             \r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"lg\"\r\n            onClick={handleReturnToLobby}\r\n            className=\"w-full sm:w-auto\"\r\n          >\r\n            <Home className=\"mr-2 h-5 w-5\" />\r\n             \r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"lg\"\r\n            onClick={handleShareResults}\r\n            className=\"w-full sm:w-auto\"\r\n          >\r\n            <Share2 className=\"mr-2 h-5 w-5\" />\r\n             \r\n          </Button>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {useRouteError} from \"react-router-dom\"\r\nimport {Button} from \"@/components/ui/button\"\r\nimport {Card, CardContent, CardDescription, CardHeader, CardTitle} from \"@/components/ui/card\"\r\nimport {AlertTriangle, Home, RotateCcw} from \"lucide-react\"\r\n\r\nexport function ErrorBoundary() {\r\n  const error = useRouteError() as any\r\n  \r\n  const handleReload = () => {\r\n    window.location.reload()\r\n  }\r\n  \r\n  const handleGoHome = () => {\r\n    window.location.href = '/main'\r\n  }\r\n\r\n  console.error('Route Error:', error)\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n      <Card className=\"max-w-md w-full\">\r\n        <CardHeader className=\"text-center\">\r\n          <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center\">\r\n            <AlertTriangle className=\"h-6 w-6 text-destructive\" />\r\n          </div>\r\n          <CardTitle>Something went wrong</CardTitle>\r\n          <CardDescription>\r\n            {error?.statusText || error?.message || 'An unexpected error occurred'}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <Button \r\n            variant=\"default\" \r\n            className=\"w-full\"\r\n            onClick={handleReload}\r\n          >\r\n            <RotateCcw className=\"mr-2 h-4 w-4\" />\r\n            Reload Page\r\n          </Button>\r\n          <Button \r\n            variant=\"outline\" \r\n            className=\"w-full\"\r\n            onClick={handleGoHome}\r\n          >\r\n            <Home className=\"mr-2 h-4 w-4\" />\r\n            Go Home\r\n          </Button>\r\n          \r\n          {process.env.NODE_ENV === 'development' && error?.stack && (\r\n            <details className=\"mt-4 p-3 bg-muted rounded-md text-xs\">\r\n              <summary className=\"cursor-pointer font-medium\">Technical Details</summary>\r\n              <pre className=\"mt-2 whitespace-pre-wrap overflow-auto max-h-40\">\r\n                {error.stack}\r\n              </pre>\r\n            </details>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import {Link} from \"react-router-dom\"\r\nimport {Button} from \"@/components/ui/button\"\r\nimport {Card, CardContent, CardDescription, CardHeader, CardTitle} from \"@/components/ui/card\"\r\nimport {ArrowLeft, Home} from \"lucide-react\"\r\n\r\nexport function NotFoundPage() {\r\n  return (\r\n    <div className=\"min-h-[60vh] flex items-center justify-center\">\r\n      <Card className=\"max-w-md w-full\">\r\n        <CardHeader className=\"text-center\">\r\n          <div className=\"mx-auto mb-4 text-6xl font-bold text-muted-foreground\">\r\n            404\r\n          </div>\r\n          <CardTitle>Page Not Found</CardTitle>\r\n          <CardDescription>\r\n            The page you're looking for doesn't exist or has been moved.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <Button asChild className=\"w-full\">\r\n            <Link to=\"/main\">\r\n              <Home className=\"mr-2 h-4 w-4\" />\r\n              Go Home\r\n            </Link>\r\n          </Button>\r\n          <Button asChild variant=\"outline\" className=\"w-full\">\r\n            <Link to={-1 as any}>\r\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n              Go Back\r\n            </Link>\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import {createBrowserRouter} from 'react-router-dom'\nimport {Layout} from '@/components/layout/Layout'\r\nimport {AuthLayout} from '@/components/layout/AuthLayout'\r\nimport {ProtectedRoute} from '@/components/auth/ProtectedRoute'\r\n\r\n// Main Version Pages\r\nimport {MainLoginPage as LoginPage} from '@/versions/main/pages/LoginPage'\r\nimport {MainLobbyPage as LobbyPage} from '@/versions/main/pages/LobbyPage'\r\nimport {MainGamePage as GamePage} from '@/versions/main/pages/GamePage'\r\nimport {MainResultsPage as ResultsPage} from '@/versions/main/pages/ResultsPage'\r\n\r\n// Error Pages\r\nimport {ErrorBoundary} from '@/components/common/ErrorBoundary'\r\nimport {NotFoundPage} from '@/components/common/NotFoundPage'\r\n\r\nconst basename = import.meta.env.BASE_URL ?? \"/\";\n\nexport const router = createBrowserRouter([\n  {\n    path: '/',\n    element: <AuthLayout />,\n    errorElement: <ErrorBoundary />,\r\n    children: [\r\n      {\r\n        index: true,\r\n        element: <LoginPage />,\r\n      },\r\n      {\r\n        path: 'login',\r\n        element: <LoginPage />,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/',\r\n    element: <Layout />,\r\n    errorElement: <ErrorBoundary />,\r\n    children: [\r\n      {\r\n        path: 'lobby',\r\n        element: <ProtectedRoute><LobbyPage /></ProtectedRoute>,\r\n      },\r\n      {\r\n        path: 'game/:gameId',\r\n        element: <ProtectedRoute><GamePage /></ProtectedRoute>,\r\n      },\r\n      {\r\n        path: 'results/:gameId',\r\n        element: <ProtectedRoute><ResultsPage /></ProtectedRoute>,\r\n      },\r\n      {\r\n        path: '*',\r\n        element: <NotFoundPage />,\r\n      },\r\n    ]\r\n  },\n], {basename})\n\r\n// Auth guard hook - import authStore where needed\r\nexport const useAuthGuard = () => {\r\n  // This function should be used in components that need auth checking\r\n  // The actual useAuthStore import should be done in the component\r\n  return true // Placeholder - actual implementation in components\r\n}\r\n\r\nexport const useGameGuard = (gameId?: string) => {\r\n  const isAuthenticated = useAuthGuard()\r\n  return isAuthenticated && !!gameId\r\n}\r\n","import {useCallback, useEffect, useRef} from 'react';\r\nimport {useAuthStore} from '../stores/authStore';\r\nimport {useModal} from '@/contexts/ModalContext';\r\n\r\n//    (15)\r\nconst SESSION_REFRESH_INTERVAL = 15 * 60 * 1000;\r\n\r\n//    \r\nconst ACTIVITY_EVENTS = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];\r\n\r\nexport function useSessionManager() {\r\n  const { isAuthenticated, checkAuth, logout } = useAuthStore();\r\n  const { isAnyModalOpen, activeModals } = useModal();\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const lastActivityRef = useRef<number>(Date.now());\r\n\r\n  //   \r\n  const updateActivity = () => {\r\n    lastActivityRef.current = Date.now();\r\n  };\r\n\r\n  //   \r\n  const refreshSession = useCallback(async () => {\r\n    if (!isAuthenticated) return;\r\n\r\n    //      \r\n    if (isAnyModalOpen) {\r\n      console.log('[SessionManager] Deferring session refresh - modal open:', Array.from(activeModals));\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await checkAuth();\r\n      console.log('Session refreshed successfully');\r\n    } catch (error) {\r\n      console.error('Session refresh failed:', error);\r\n\r\n      //      (   )\r\n      if (isAnyModalOpen) {\r\n        console.warn('[SessionManager] Deferring logout - modal open, will retry after modal closes');\r\n        return;\r\n      }\r\n\r\n      //      \r\n      await logout();\r\n    }\r\n  }, [activeModals, checkAuth, isAnyModalOpen, isAuthenticated, logout]);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      //    \r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    //     \r\n    const handleActivity = () => updateActivity();\r\n\r\n    ACTIVITY_EVENTS.forEach(event => {\r\n      document.addEventListener(event, handleActivity, true);\r\n    });\r\n\r\n    //    \r\n    intervalRef.current = setInterval(() => {\r\n      const timeSinceLastActivity = Date.now() - lastActivityRef.current;\r\n\r\n      //   30    \r\n      if (timeSinceLastActivity < 30 * 60 * 1000) {\r\n        refreshSession();\r\n      }\r\n    }, SESSION_REFRESH_INTERVAL);\r\n\r\n    //  \r\n    return () => {\r\n      ACTIVITY_EVENTS.forEach(event => {\r\n        document.removeEventListener(event, handleActivity, true);\r\n      });\r\n\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [activeModals, checkAuth, isAuthenticated, isAnyModalOpen, logout, refreshSession]);\r\n\r\n  return {\r\n    refreshSession,\r\n    updateActivity,\r\n  };\r\n}\r\n","import {useEffect, useState} from 'react';\r\nimport {RouterProvider} from 'react-router-dom';\r\nimport {Toaster} from 'sonner';\r\nimport {router} from './lib/router';\r\nimport {useAuthStore} from './stores/authStore';\r\nimport {useSessionManager} from './hooks/useSessionManager';\r\nimport {useGameWebSocket} from './hooks/useGameWebSocket';\r\n\r\nfunction App() {\r\n  const [isInitializing, setIsInitializing] = useState(true);\r\n  const checkAuth = useAuthStore(state => state.checkAuth);\r\n  const isAuthenticated = useAuthStore(state => state.isAuthenticated);\r\n\r\n  //     \r\n  useSessionManager();\r\n\r\n  // WebSocket  \r\n  const { connect } = useGameWebSocket();\r\n\r\n  useEffect(() => {\r\n    const initializeApp = async () => {\r\n      try {\r\n        await checkAuth();\r\n      } catch (error) {\r\n        console.error('     :', error);\r\n      } finally {\r\n        setIsInitializing(false);\r\n      }\r\n    };\r\n\r\n    initializeApp();\r\n  }, [checkAuth]);\r\n\r\n  useEffect(() => {\r\n    if (isInitializing) {\r\n      return;\r\n    }\r\n\r\n    const currentPath = window.location.pathname;\r\n    const isLoginPage = currentPath === '/' || currentPath === '/login';\r\n\r\n    if (isAuthenticated && !isLoginPage) {\r\n      connect().catch(error => {\r\n        console.warn('WebSocket   :', error);\r\n      });\r\n    }\r\n  }, [connect, isAuthenticated, isInitializing]);\r\n\r\n  if (isInitializing) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <div className=\"text-gray-600\">  ...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <RouterProvider router={router} />\r\n      <Toaster\r\n        position=\"top-right\"\r\n        richColors\r\n        closeButton\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import {StrictMode} from 'react'\r\nimport {createRoot} from 'react-dom/client'\r\nimport './index.css'\r\nimport './styles/game-animations.css'\r\nimport App from './App.tsx'\r\nimport {ModalProvider} from './contexts/ModalContext'\r\n\r\ncreateRoot(document.getElementById('root')!).render(\r\n  <StrictMode>\r\n    <ModalProvider>\r\n      <App />\r\n    </ModalProvider>\r\n  </StrictMode>,\r\n)\r\n"],"file":"assets/index-CYvVpBeH.js"}