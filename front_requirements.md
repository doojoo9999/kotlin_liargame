# 백엔드 API 변경에 따른 프론트엔드 요구사항

**작성일**: 2025년 8월 22일
**작성자**: 백엔드 팀

안녕하세요, 프론트엔드 개발팀.

백엔드 시스템의 전체 흐름에 대한 통합 테스트를 진행하는 과정에서 발견된 로직 오류를 수정하고 일부 API의 정책을 명확히 하였습니다. 아래 변경 사항을 확인하시고 프론트엔드 코드에 반영해 주시기 바랍니다.

---

### 1. [중요] 방 생성 후, 방장의 방 참가 로직 변경

가장 중요한 변경 사항입니다. 기존에는 방을 생성한 방장이 자동으로 해당 게임방에 플레이어로서 참가했지만, 이제는 이 로직이 분리되었습니다.

-   **AS-IS (기존)**
    -   방장이 `/api/v1/game/create` API를 호출하면, 방 생성과 동시에 방장이 해당 방에 자동으로 참가 처리되었습니다.

-   **TO-BE (변경 후)**
    -   `/api/v1/game/create` API는 이제 **방을 생성하는 역할만** 수행합니다.
    -   방을 생성한 방장은, 다른 일반 참가자와 **동일하게 `/api/v1/game/join` API를 호출하여 방에 참가**해야 합니다.

-   **프론트엔드 요청 사항**
    -   방 생성 성공 응답으로 `gameNumber`를 받은 직후, 해당 `gameNumber`와 방장의 세션(쿠키)을 사용하여 `/api/v1/game/join` API를 즉시 호출하는 로직을 추가해 주시기 바랍니다.

---

### 2. [참고] `GameStateResponse` 데이터 구조 명확화

테스트를 통해 실시간으로 전달되는 `GameStateResponse`의 일부 필드 정책을 명확히 하였습니다. 이는 대부분 기존 정책과 동일하지만, 안정적인 상태 관리를 위해 다시 한번 확인해 주시기 바랍니다.

-   **`yourWord` 필드의 Null 가능성**
    -   `yourWord` 필드는 게임이 시작되고, 해당 플레이어가 '시민' 역할을 부여받았을 때만 제시어(`String`) 값을 가집니다.
    -   **게임 시작 전**이나, 플레이어가 **'라이어' 역할을 부여받은 경우**에는 이 필드의 값이 항상 `null`입니다.
    -   따라서 `yourWord` 상태를 처리할 때 항상 Null-safe하게 다루어 주시기 바랍니다.

-   **`players` 목록 내 `role` 정보 부재**
    -   `GameStateResponse.players` 배열에 포함된 각 `PlayerResponse` 객체에는 `role`(역할) 정보가 포함되지 않습니다.
    -   클라이언트 본인의 역할은 `GameStateResponse`의 최상위 필드인 `yourRole`을 통해서만 확인할 수 있습니다.
    -   이는 다른 플레이어의 역할을 알 수 없어야 하는 게임의 핵심 규칙을 지키기 위한 의도적인 설계입니다.

---

문의사항이 있으시면 언제든지 백엔드 팀에 연락 바랍니다.

감사합니다.
