# 라이어 게임 프론트엔드 UX 플로우 설계

## 개요

라이어 게임은 실시간 멀티플레이어 소셜 추리 게임으로, 각 게임 단계별로 최적화된 사용자 경험을 제공해야 합니다. 턴제 시스템과 실시간 상태 동기화를 통해 몰입감 있는 게임 환경을 구축합니다.

## 1. WAITING_FOR_PLAYERS (플레이어 대기 단계)

### 사용자가 봐야 할 정보
- **플레이어 상태 패널**
  - 현재 참가자 목록 (아바타, 닉네임, 준비 상태)
  - 참가자 수 표시 (3/8 형태)
  - 플레이어별 연결 상태 인디케이터
- **게임 설정 패널**
  - 최대 플레이어 수, 라운드 수, 게임 모드
  - 시간 제한 설정
  - 주제 카테고리 선택
- **게임 가이드**
  - 접이식 규칙 설명 패널
  - 역할별 목표와 승리 조건
- **실시간 채팅**
  - 대기실 채팅 영역
  - 빠른 이모티콘 반응

### 수행할 수 있는 액션
- **준비 상태 토글** - 큰 버튼으로 직관적 표현
- **게임 설정 변경** (방장만) - 실시간 반영
- **게임 시작** - 모든 조건 만족 시 활성화
- **방 나가기** - 확인 다이얼로그 포함

### UI/UX 고려사항
```typescript
// 애니메이션 및 피드백
- 플레이어 입/퇴장 시 부드러운 슬라이드 애니메이션
- 준비 상태 변경 시 색상 변화와 체크 아이콘
- 게임 시작 카운트다운 (3-2-1) 애니메이션
- 실시간 타이핑 인디케이터

// 접근성 요소
- 색각 이상자를 위한 아이콘 + 색상 조합
- 스크린 리더를 위한 상태 변화 음성 안내
- 키보드 네비게이션 지원
- 고대비 모드 지원
```

## 2. SPEECH (힌트 제공 단계)

### 사용자가 봐야 할 정보
- **턴 상태 표시**
  - 현재 발언자 강조 표시 (스포트라이트 효과)
  - 턴 순서 표시 (원형 또는 선형 인디케이터)
  - 남은 시간 (타이머)
- **역할 정보**
  - 본인의 제시어 (시민) 또는 "???" (라이어)
  - 역할 카드 UI
- **힌트 히스토리**
  - 이전 플레이어들의 힌트 목록
  - 발언 순서와 시간 표시
- **채팅 제한 안내**
  - 현재 발언자만 채팅 가능 표시

### 수행할 수 있는 액션
- **힌트 입력** (본인 턴일 때)
  - 텍스트 입력 후 전송
  - 입력 중 실시간 글자 수 표시
- **힌트 관찰** (다른 플레이어 턴)
  - 채팅 메시지 읽기 전용

### UI/UX 고려사항
```typescript
// 턴제 시스템 UX
- 현재 발언자 강조: 아바타 주변 빛나는 테두리
- 대기 플레이어: 약간 흐린 처리
- 턴 전환 시 부드러운 전환 애니메이션
- 발언 시간 타이머: 시각적 진행 바 + 숫자

// 실시간 피드백
- 타이핑 인디케이터 표시
- 메시지 전송 시 확인 애니메이션
- 네트워크 지연 시 로딩 상태 표시

// 접근성
- 현재 턴 플레이어 음성 안내
- 남은 시간 음성 카운트다운 (마지막 10초)
- 큰 글씨 힌트 입력 필드
```

## 3. VOTING_FOR_LIAR (라이어 투표 단계)

### 사용자가 봐야 할 정보
- **투표 패널**
  - 투표 가능한 플레이어 목록
  - 각 플레이어의 이전 힌트 요약
- **투표 진행 상황**
  - 투표 완료 플레이어 표시
  - 전체 투표 진행률
- **힌트 복기**
  - 모든 힌트를 순서대로 재생할 수 있는 패널

### 수행할 수 있는 액션
- **플레이어 투표**
  - 라이어로 의심되는 플레이어 선택
  - 투표 확인 다이얼로그
- **힌트 재검토**
  - 힌트 히스토리 스크롤 및 필터링

### UI/UX 고려사항
```typescript
// 투표 인터페이스
- 플레이어 카드: 아바타 + 닉네임 + 대표 힌트
- 투표 버튼: 명확한 시각적 구분
- 투표 완료 시 즉시 피드백 (체크 표시)
- 투표 철회 불가 안내

// 정보 시각화
- 힌트 타임라인 뷰
- 플레이어별 의심도 시각화 (선택사항)
- 투표 진행률 프로그레스 바

// 대기 상태 UX
- 다른 플레이어 투표 대기 시 로딩 애니메이션
- 예상 대기 시간 표시
- 배경 음악이나 주변음 제공
```

## 4. DEFENDING (변론 단계)

### 사용자가 봐야 할 정보
- **지목된 플레이어 정보**
  - 지목받은 플레이어 강조 표시
  - 해당 플레이어의 모든 힌트 하이라이트
- **변론 시간**
  - 변론 시간 타이머
  - 발언 권한 표시
- **채팅 제한 상태**
  - 지목된 플레이어만 채팅 가능

### 수행할 수 있는 액션
- **변론 발언** (지목된 플레이어만)
  - 자유 텍스트 입력
  - 이전 힌트 참조 기능
- **변론 청취** (다른 플레이어)
  - 채팅 읽기 전용 모드

### UI/UX 고려사항
```typescript
// 변론자 강조
- 스포트라이트 효과로 지목된 플레이어 강조
- 변론자의 이전 힌트들 하이라이트 표시
- 실시간 변론 텍스트 강조 스타일링

// 심리적 긴장감 조성
- 다소 어두운 배경색 사용
- 긴장감 있는 타이머 애니메이션
- 변론 시작/종료 시 효과음

// 공정성 보장
- 모든 플레이어에게 동일한 정보 표시
- 변론 내용 실시간 동기화
- 네트워크 지연 대응 메커니즘
```

## 5. VOTING_FOR_SURVIVAL (최종 투표 단계)

### 사용자가 봐야 할 정보
- **최종 투표 패널**
  - "처형" vs "생존" 선택지
  - 변론 내용 요약
- **투표 현황**
  - 실시간 투표 집계 (선택사항)
  - 투표 참여율 표시

### 수행할 수 있는 액션
- **최종 투표**
  - 처형 또는 생존 선택
  - 투표 확정 확인

### UI/UX 고려사항
```typescript
// 중요한 결정 강조
- 큰 버튼으로 명확한 선택지 제시
- 투표 전 확인 단계 추가
- 결과에 따른 게임 변화 미리보기

// 긴장감 유지
- 투표 마감 카운트다운
- 결과 발표 전 서스펜스 연출
- 극적인 시각 효과
```

## 6. GUESSING_WORD (단어 추측 단계)

### 사용자가 봐야 할 정보
- **라이어 정보**
  - 라이어로 확정된 플레이어 표시
  - 라이어의 추측 시간
- **힌트 총정리**
  - 모든 힌트를 한눈에 보는 패널
  - 힌트별 중요도 표시 (선택사항)

### 수행할 수 있는 액션
- **단어 추측** (라이어만)
  - 텍스트 입력으로 정답 제시
  - 추측 확정 버튼
- **결과 대기** (다른 플레이어)
  - 라이어의 추측 과정 관찰

### UI/UX 고려사항
```typescript
// 라이어 중심 UI
- 라이어 플레이어 중앙 배치
- 다른 플레이어들은 관찰자 모드
- 추측 입력 필드 강조

// 최종 긴장감
- 마지막 기회임을 강조하는 UI
- 추측 제출 전 최종 확인
- 결과 발표까지의 극적 연출
```

## 7. GAME_OVER (결과 화면)

### 사용자가 봐야 할 정보
- **게임 결과**
  - 승리팀 발표
  - 각 플레이어의 역할 공개
  - 정답 단어 공개
- **게임 통계**
  - 플레이어별 점수
  - 라운드 히스토리
  - MVP 선정 (선택사항)
- **다음 액션 가이드**
  - 새 게임 시작 옵션
  - 로비로 돌아가기

### 수행할 수 있는 액션
- **결과 확인**
  - 상세 통계 보기
  - 게임 로그 다운로드
- **다음 게임 준비**
  - 재게임 투표
  - 새 방 생성
  - 로비 복귀

### UI/UX 고려사항
```typescript
// 결과 발표 연출
- 단계별 결과 공개 애니메이션
- 승리팀 축하 효과
- 역할 공개 시 서프라이즈 연출

// 게임 복기
- 타임라인으로 게임 진행 재생
- 하이라이트 모먼트 강조
- 플레이어 행동 분석 제공

// 소셜 요소
- 게임 결과 공유 기능
- 플레이어 평가 시스템
- 친구 추가 기능
```

## 공통 UX 원칙

### 실시간성 강조
```typescript
// WebSocket 상태 관리
- 연결 상태 시각적 표시
- 지연 시 자동 재연결 시도
- 오프라인 상태 대응

// 실시간 피드백
- 모든 액션에 즉시 반응
- 로딩 상태 최소화
- 낙관적 업데이트 적용
```

### 접근성 (a11y) 고려사항
```typescript
// 시각 접근성
- 충분한 색상 대비 (WCAG AA 준수)
- 색상에만 의존하지 않는 정보 전달
- 스크린 리더 호환성

// 청각 접근성
- 중요 알림의 시각적 표시
- 자막 또는 텍스트 대안 제공

// 운동 접근성
- 큰 터치 영역 (최소 44px)
- 키보드만으로 모든 기능 접근 가능
- 시간 제한 조정 옵션
```

### 모바일 최적화
```typescript
// 반응형 디자인
- 화면 크기별 레이아웃 최적화
- 터치 친화적 인터페이스
- 가로/세로 모드 대응

// 성능 최적화
- 이미지 지연 로딩
- 컴포넌트 메모이제이션
- 번들 크기 최적화
```

### 오류 처리 및 복구
```typescript
// 네트워크 오류 대응
- 연결 끊김 시 자동 재연결
- 오프라인 모드 안내
- 데이터 손실 방지 메커니즘

// 게임 상태 오류 대응
- 동기화 오류 시 새로고침 유도
- 부정행위 감지 및 대응
- 긴급 게임 종료 기능
```

## 성능 최적화 전략

### 렌더링 최적화
```typescript
// React 최적화
- React.memo로 불필요한 리렌더링 방지
- useMemo/useCallback으로 계산 최적화
- 가상화로 대용량 리스트 처리

// 애니메이션 최적화
- CSS transform 활용
- GPU 가속 사용
- 60fps 유지를 위한 성능 모니터링
```

### 상태 관리 최적화
```typescript
// Zustand 상태 최적화
- 상태 구조 정규화
- 선택적 구독으로 불필요한 업데이트 방지
- 미들웨어를 통한 상태 영속화
```

이 UX 플로우 설계는 현재 프로젝트 구조를 기반으로 하여 실제 구현 가능성을 고려했습니다. 각 단계별로 사용자의 몰입감과 편의성을 최대화하면서도 게임의 공정성과 접근성을 보장하는 방향으로 설계되었습니다.